(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1267:function(s,t,a){"use strict";a.r(t);var n=a(0),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"知识储备"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#知识储备"}},[s._v("#")]),s._v(" 知识储备")]),s._v(" "),n("blockquote",[n("p",[s._v("对 "),n("strong",[s._v("业务状态码")]),s._v("、日志查询 的初次了解!! (⁎⁍̴̛ᴗ⁍̴̛⁎)")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("前端 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 后端 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 数据库\n\nHTTP协议\n  ■ 四大特性\n      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 基于请求响应\n      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 基于TCP"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("IP协议之上的应用层协议\n      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 无状态 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 不能保存用户信息\n         Ps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("解决方向 cookie、session、token\n      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 短链接 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 发送请求"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("响应后断开"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n         Ps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("长链接建立链接在一定时间C"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("S之间没有请求响应才会断开"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("应用场景"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("即时通信"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("聊天"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("!\n  ■ 请求数据格式\n      请求首行 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("请求方式、http版本"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      请求头\n      \\r\\n\n      请求体 注意!get没有、post有\n  ■ 响应数据格式\n      响应首行 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("状态码"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      响应头\n      \\r\\n\n      响应体\n  ■ 响应状态码 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 是http协议规定的!\n      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" 请求成功"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ok\n      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("404")]),s._v(" 请求资源不存在 \n      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v(" 服务器内部错误\n      \n  ★ PS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("业务状态码 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("一般只规定一个正确的"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("比如规定"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v("是正确的"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("其余的全部为异常"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      以登陆为例 \n        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("用户名不存在\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("验证码错误\n          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 服务端随机生成 通过阿里云的接口发送短信\n               情况一"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("限制用户一天只能发送"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("次验证码"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n                   服务端会将随机生成的验证码存入数据库"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mysql、redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("中!\n                   表结构 "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),s._v("  code  phone  create_time\n                   会通过sql语句判断数据库中同一phone是否有了"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("条数据"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n               情况二"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("不限制用户一天当中发送的次数"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n                   会将随机生成的验证码放到session中!\n          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 校验验证码\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v("密码错误\n      伪代码如下"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            user_dic "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'code'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'msg'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'验证码错误'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'data'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            user_dic "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'code'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1002")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'msg'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'用户名不存在'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'data'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            user_dic "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'code'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1003")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'msg'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'密码错误'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'data'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 若都正确")]),s._v("\n            user_dic "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'code'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'msg'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ok'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'data'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            json"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dumps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user_dic"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("encode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'utf-8'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        Ps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("若业务系统很多"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("crm、财务、销售、主站"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("我们可以规定多位状态码的前两位来表示哪个系统!\n           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("、"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("、"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("、"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v(" 便于我们定位错误信息!!\n            \nhttps和http都是超文本传输协议"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("前者比后者更加安全!\n简单理解就是https需要申请证书"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("该证书是配置到nginx服务器上的"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("我们想拿数据时"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("需要与第三方比对公钥和私钥!\nurl"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"统一资源定位符,即网址"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 协议 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" 域名 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" 路径 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" get的请求参数"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"?k1=v1&k2=v2"')]),s._v("\n\n\n题外话"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("关于日志的查询 进阶程序员需要晓得的东西"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("つД`"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("ノ\n   日志量比较小"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("存放到数据库中\n   日志量很大"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("用ES查询\n   ES都不够用啦"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("从主表中移除数据进行日志备份、归档\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 文件归档\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 时间归档\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("归档有个问题"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("看不到近期的订单啦"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br")])]),n("hr"),s._v(" "),n("h2",{attrs:{id:"web框架"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#web框架"}},[s._v("#")]),s._v(" web框架")]),s._v(" "),n("h3",{attrs:{id:"小试牛刀"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#小试牛刀"}},[s._v("#")]),s._v(" 小试牛刀")]),s._v(" "),n("blockquote",[n("p",[s._v("需求:在网址里输入不同的后缀,浏览器页面打印出不同的内容")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""\n需求:输入不同的后缀,返回不同的内容\n    1.知道用户输入的后缀\n    2.做判断(伪代码如下)\n      if path == \'/index\':\n        :return \'index\' # -- 简单的返回一个字符串\n        :return index() # -- 复杂的逻辑,将结果返回\n"""')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" socket\n\nserver "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" socket"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("socket"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bind"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"127.0.0.1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# S端的 IP/哪台电脑 和 端口/电脑上的哪个程序")]),s._v("\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("listen"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 允许多少人等待")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    conn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" addr "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" server"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("accept"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1.阻塞,等待链接")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 2.接收浏览器发过来的数据")]),s._v("\n    data "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" conn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("recv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 小而多,多分段 ->粘包")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""\n    需求分析:\n    在浏览器端输入 http://127.0.0.1:8080/index/\n    在服务端可以通过print(data)拿到结果\n    """')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# b'GET /index/ HTTP/1.1\\r\\nHost: 127.0.0.1:8080\\r\\nConnec...")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    data "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("decode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'utf-8'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    current_path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("split"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 取['GET','/index','...']列表第2个元素")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 3.给浏览器返回数据")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 表明是基于http协议的!")]),s._v("\n    conn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("send"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('b"HTTP/1.1 200 ok \\r\\n\\r\\n"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 判断,并向浏览器发送数据")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" current_path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/index/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        conn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("send"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('b"index"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" current_path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/login/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        conn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("send"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('b"login"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        conn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("send"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("b'404'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    conn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("close"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4.断开连接")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br")])]),n("p",[n("img",{attrs:{src:a(698),alt:""}})]),s._v(" "),n("h3",{attrs:{id:"wsgiref模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#wsgiref模块"}},[s._v("#")]),s._v(" wsgiref模块")]),s._v(" "),n("blockquote",[n("p",[s._v("该内置模块了解即可! "),n("font",{attrs:{color:"blue"}},[s._v("其内部本质帮我们写了socket服务端!底层已经写了.")]),n("br"),s._v("\n我们使用该模块实现上面的需求!")],1)]),s._v(" "),n("h5",{attrs:{id:"简易版本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#简易版本"}},[s._v("#")]),s._v(" 简易版本")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" wsgiref"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("simple_server "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" make_server\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""\n    :param env: 帮我们封装了http请求过来的所有数据,表现形式为字典格式!\n    :param response: 返回给客户端的响应response\n    :return: 返回值\n    """')]),s._v("\n    current_path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PATH_INFO'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'200 ok'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 表明是基于http协议的,放在哪都行")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" current_path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/index/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("b'index'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" current_path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/login/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("b'login'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("b'404'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" __name__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'__main__'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 相当于帮我们实现了socket服务端,帮我们实时监听127.0.0.1:8080")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    当请求来的时候,全部交过run方法处理!run方法有两个参数.")]),s._v("\n    server "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" make_server"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'127.0.0.1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    server"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("serve_forever"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 启动服务端")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("h5",{attrs:{id:"优化版本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#优化版本"}},[s._v("#")]),s._v(" 优化版本")]),s._v(" "),n("blockquote",[n("p",[s._v("可以将index、login函数放到一个名为views.py视图函数文件,urls放到一个名为urls.py路由文件"),n("br"),s._v("\nrun方法和剩下的main代码构成启动文件!!"),n("br"),s._v("\n启动文件就不用改动啦! 在urls.py和views.py中添加路由和对应的函数即可!!"),n("br"),s._v("\nreg.html叫做模版文件!!")])]),s._v(" "),n("p",[s._v("urls.py -- 后缀 -- 书写路由/后缀与函数的对应关系"),n("br"),s._v("\nviews.py -- 函数 -- 处理数据的逻辑"),n("br"),s._v("\ntemplates -- 模版 -- 存储html文件"),n("br"),s._v("\nstart.py / manage.py -- 启动文件"),n("br"),s._v(" "),n("font",{attrs:{color:"brown"}},[s._v("若需要加功能,只需要在urls.py中添加一个路径,然后在views.py中写逻辑就可以啦!!")])],1),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" wsgiref"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("simple_server "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" make_server\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("index")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'index'")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("login")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'login'")]),s._v("\n\n  \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("reg")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("open")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'reg.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'r'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" f"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        data "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" f"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("read"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" data\n\n\nurls "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/index/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/login/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" login"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/reg/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" reg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'200 ok'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    current_path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PATH_INFO'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    func "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" url "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" urls"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" current_path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            func "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" func"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        res "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" func"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("encode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'utf-8'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("b'404'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" __name__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'__main__'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    server "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" make_server"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'127.0.0.1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    server"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("serve_forever"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br")])]),n("h3",{attrs:{id:"python主流框架"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#python主流框架"}},[s._v("#")]),s._v(" Python主流框架")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("Django\n   特点"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("大而全"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("重量级框架 \n   缺点"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("笨重\nflask\n   特点"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("小而美"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("轻量级框架\n   缺点"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("依赖于第三方的模块\ntornado\n   特点"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("异步非阻塞"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("支持高并发"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("甚至可以用于充当游戏服务器\n   缺点"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("难\n还有一些占比较小"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("但是也很厉害的框架 fastapi、sanic"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n题外话"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("项目比较大"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("用flask的话"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("需要用到很多第三方的组件"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("有多个组件也可以实现同一个功能"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("选择哪个?以及与flask版本是否适应?很痛苦"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n\n\n同步框架VS异步框架\n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 异步非阻塞"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("tornado、sanic、fastapi\n            django也支持但支持的不好\n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 同步"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("django、flask、bottle、webpy\n 目前不看好异步框架"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("用异步框架的很小众"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("因为"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 增加编程的难度"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("生态不完善\n       比如fastapi实现异步功能"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("在遇到IO操作时前面得加关键字awiait"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" 不追求技术的公司"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("更在乎的快速"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n       完成该异步功能"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("使用的第三方组件"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" 遇到问题"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("没有更多的解决方案"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("需要自己阅读源码"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 项目中不会有那么多IO功能 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("一般指网络IO等待"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" 遇到了"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Django使用celery就能解决!!\n 谈一谈fastapi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("参考了flask"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("使用过flask的可以很快的上手\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("使用了python最新的注解功能\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v("可以快速生成restfulAPI"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("这不是fastapi特有的"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Django使用第三方组件也可以"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v("异步\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br")])]),n("hr"),s._v(" "),n("h2",{attrs:{id:"django安装与创建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#django安装与创建"}},[s._v("#")]),s._v(" Django安装与创建")]),s._v(" "),n("h3",{attrs:{id:"安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("django版本\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("x  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("x  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("x\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("x发布时间是"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v("年\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("x和"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("x的区别不大!!\n\ndjango3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("X"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("自带异步功能\ndjango2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("X"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("默认不支持异步\ndjango1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("X"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("默认不支持异步\n"),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v("'''\n学习基于django1.X版本即可\n原因:\n   老项目中使用频率最高、最广泛的版本!!!\n   与2.X功能几乎一致,后续会讲解两者区别之处\n   与3.X最主要的区别在于新增了一个异步的功能\n'''")]),s._v("\n\n命令行输入命令pip install django"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.11")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".29")]),s._v(" 或者 通过pycharm安装\n\n\nC"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("python39\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" python"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" Scripts\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" pip"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" django"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" Lib\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" re"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" random"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" site"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packpage\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" django"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.2")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br")])]),n("p",[n("img",{attrs:{src:a(699),alt:""}})]),s._v(" "),n("h3",{attrs:{id:"创建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建"}},[s._v("#")]),s._v(" 创建")]),s._v(" "),n("blockquote",[n("p",[n("font",{attrs:{color:"brown"}},[s._v("注意! 一个pycharm窗口只打开一个django项目!!")])],1)]),s._v(" "),n("p",[n("font",{attrs:{color:"blue"}},[s._v("说在前面,在mac上,默认在终端生效的是python2.7,我们要先让python3生效需要进行如下配置! ")]),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("每次打开新的终端都要执行 "),n("code",[s._v("source .bash_profile")]),s._v(" , 永久生效没研究..因为更多时候是通过pycharm创建!")])],1),s._v(" "),n("p",[n("img",{attrs:{src:a(700),alt:""}})]),s._v(" "),n("h5",{attrs:{id:"cmd终端"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cmd终端"}},[s._v("#")]),s._v(" cmd终端")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" .bash_profile\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" Desktop  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 想要在哪个目录下创建项目就切换到哪个目录下")]),s._v("\ndjango-admin startproject mysite  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 在桌面创建名为mysite的django项目")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" mysite  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 切换到项目目录下,即与manage.py的同级目录之下")]),s._v("\npython3 manage.py runserver  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 启动项目,默认端口8000")]),s._v("\n                             "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    当然可以指定端口")]),s._v("\n                             "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    python3 manage.py runserver 127.0.0.1:8001")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# !! 当然可以先创建app应用后再启动项目.")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    python3 manage.py startapp app01")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 何为应用?")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    若将项目比作一所大学,那么应用就相当于二级学院!")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    以淘宝工程为例,它应该有一系列的应用.")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#       用户相关 user")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#       订单相关 order")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#       地址相关 address")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#       商品相关 goods")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[n("img",{attrs:{src:a(701),alt:""}})]),s._v(" "),n("p",[s._v("访问127.0.0.1:8000,展示以下内容,表明项目创建启动成功!")]),s._v(" "),n("p",[n("img",{attrs:{src:a(702),alt:""}})]),s._v(" "),n("h5",{attrs:{id:"pycharm创建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pycharm创建"}},[s._v("#")]),s._v(" pycharm创建")]),s._v(" "),n("p",[n("img",{attrs:{src:a(703),alt:""}})]),s._v(" "),n("p",[s._v("通过pycharm方式的创建和通过cmd的创建的区别:\n1> 前者多一个templates文件夹!"),n("br"),s._v("\n2> 前者settings.py中TEMPLATES部分的DIRS属性会自动写好."),n("br"),s._v("\n3> 前者创建项目时创建的app会自动注册到INSTALLED_APPS中."),n("br"),s._v(" "),n("font",{attrs:{color:"brown"}},[s._v("特别强调: 创建完应用后,必须在INSTALLED_APPS中注册应用!!!")])],1),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("mac通过pycharm创建时"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("自动填充的是这样的 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'DIRS'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("BASE_DIR "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'templates'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n导致项目启动不起来!直接报错\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'DIRS'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("BASE_DIR "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'templates'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    TypeError"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" unsupported operand "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'str'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("and")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'str'")]),s._v("\n解决方案 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 将其改为 "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'DIRS'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("os"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("join"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BASE_DIR"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'templates'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("hr"),s._v(" "),n("h2",{attrs:{id:"项目文件介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#项目文件介绍"}},[s._v("#")]),s._v(" 项目文件介绍")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("mysite                     "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 项目名")]),s._v("\n├── app01                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 应用名")]),s._v("\n│   ├── __init__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n│   ├── admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py           "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 后台管理")]),s._v("\n│   ├── apps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 跟注册相关,暂且忽略")]),s._v("\n│   ├── migrations         "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 数据库的迁移记录")]),s._v("\n│   │   └── __init__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n│   ├── models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 模型层,跟数据库打交道的!")]),s._v("\n│   ├── tests"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py           "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 测试文件")]),s._v("\n│   └── views"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py           "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 视图层")]),s._v("\n├── manage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py              "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 入口文件,启动文件")]),s._v("\n├── mysite\n│   ├── __init__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n│   ├── __pycache__\n│   ├── settings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 程序启动时,会先读取django内部配置,再读取该settings.若重复,覆盖.以settings中的为主.")]),s._v("\n│   ├── urls"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 路由与视图函数的对应关系,总路由层/主路由")]),s._v("\n│   └── wsgi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 与wsgiref模块相关,同步的,充当socket服务器.")]),s._v("\n└── templates              "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 模版层,存储html文件的")]),s._v("\n\nPs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("运行项目后会自动创建db"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sqlite3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("这是django自带的小型数据库!!\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("hr"),s._v(" "),n("h2",{attrs:{id:"补充"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#补充"}},[s._v("#")]),s._v(" 补充")]),s._v(" "),n("h3",{attrs:{id:"了解django"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#了解django"}},[s._v("#")]),s._v(" 了解Django")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("B"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("S "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 浏览器作为客户端"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("开发的“网站"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("web应用”作为服务端"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("简单理解就是"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("浏览器发送请求"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("从服务端拿到资源"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nC"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("S "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 安装在电脑上的应用软件作为客户端"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("对应的服务器作为服务端"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n无论是B"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("S"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("还是C"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("S架构"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("本质上是通过socket实现网络通信!\n\n\n在前面小试牛刀那"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("服务端accept等待连接"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("浏览器输入网址"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 浏览器向服务端发送请求"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("发送给服务端的具体数据如下"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n   第一行是请求头首行\n   往下到 \\r\\n\\r\\n 都是请求头"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("包含浏览器的一些信息\n   若发送的是post请求"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\\r\\n\\r\\n再往下是请求体数据"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("eg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("username"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dc'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("password"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),s._v("\nb'GET "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" HTTP"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1")]),s._v("\\r\\n\nHost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\\r\\n\nConnection"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" keep"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("alive\\r\\n\nCache"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Control"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("max")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("age"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\\r\\n\nsec"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ch"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ua"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Not_A Brand"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("v"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"99"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Google Chrome"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("v"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"109"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Chromium"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("v"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"109"')]),s._v("\\r\\n\nsec"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ch"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ua"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mobile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ?"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\\r\\n\nsec"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ch"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ua"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("platform"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"macOS"')]),s._v("\\r\\n\nUpgrade"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Insecure"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Requests"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\\r\\n\nUser"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Agent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Mozilla"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Macintosh"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" Intel Mac OS X "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10_15_7")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" AppleWebKit"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("537.36")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("KHTML"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" like Gecko"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Chrome"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("109.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v(" Safari"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("537.36")]),s._v("\\r\\nAccept"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" text"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("html"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("application"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("xhtml"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("xml"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("application"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("xml"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("q"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.9")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("image"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("avif"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("image"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("webp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("image"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apng"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("q"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("application"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("signed"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exchange"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("v"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("b3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("q"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.9")]),s._v("\\r\\n\nSec"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Fetch"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Site"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" none\\r\\n\nSec"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Fetch"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Mode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" navigate\\r\\n\nSec"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Fetch"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("User"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ?"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\\r\\n\nSec"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Fetch"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Dest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" document\\r\\n\nAccept"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Encoding"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gzip"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" deflate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" br\\r\\n\nAccept"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Language"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" zh"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("CN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("zh"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("q"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.9")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("en"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("q"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ga"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("q"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.7")]),s._v("\\r\\n\nCookie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" sessionid"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("wbq858wf6byt2yklu4p4tpt7rm6v2o7d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" csrftoken"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("PgQaxtc0LEHKbs0a5rcC6et9U1fKX0LKjuGHSya72mnzdYQm81i9UqEOwSle6Mpn\\r\\n\\r\\n'\n\n  \n关键点"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n  http的应用 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 浏览器向服务器发送请求"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("就是按照http协议来的"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n       GET请求 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 只有请求头没有请求体 请求数据在url中\n       POST请求 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 既有请求头又有请求体 请求数据在请求体中\n       注"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 请求头之间用"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("n分割"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("请求头与请求体之间用"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("n分割!\n  ★ 一次请求和一次响应后"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("断开连接"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("一问一答"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 短连接 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 无状态\n    eg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("输入用户名和密码后"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("后端返回"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"欢迎xxx"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("连接断开"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("该用户再次连接的时候"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("后端是不知道该用户是谁的!!\n       解决方法 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 在请求头中加入cookie!\n        \n        \n参考链接"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" https"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("//")]),s._v("bbs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("huaweicloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("blogs"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("285330")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" HTTP 的 Keep"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Alive 也叫 HTTP 长连接"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 该功能是由「应用程序」实现的\n  可以使得用同一个 TCP 连接来发送和接收多个 HTTP 请求"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("应答"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("减少 HTTP 短连接带来的多次 TCP 连接建立和释放的开销"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("反复连接的消耗"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  web 服务软件一般都会提供 keepalive_timeout 参数"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 用来指定 HTTP 长连接的超时时间"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" TCP 的 Keepalive 也叫 TCP 保活机制"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("该功能是由「内核」实现的\n  当客户端和服务端长达一定时间没有进行数据交互时"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("内核为了确保该连接是否还有效\n  就会发送探测报文"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("来检测对方是否还在线"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("然后来决定是否要关闭该连接"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  \n  \nHTTP长连接的本质还是HTTP协议"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("工作模式依旧是一问一答"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n即"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("客户端发起一次请求"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("服务器回应最多一次响应"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("这个本质并没有得到改变"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("改变的只是在同一个TCP连接上可以进行多次请求和多次响应"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nWebsocket协议跟http协议不一样"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("客户端可以只请求一次服务器"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("然后服务器返回多次响应"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n即"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("当连接建立之后，服务器可以主动给客户端发送信息，这点是HTTP做不到的"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n当然了"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("为了检查Websocket连接是否还在"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("前端会使用心跳检测"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("但这不影响当连接建立之后"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("服务器可以主动给客户端发送信息的本质"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nPs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("频繁的收发数据的时候会用到websocket"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("有一定的实时性"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("比如腾讯文档"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  \n  \n无论是http、https"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("还是websocket协议"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("都依赖于socket套接字层来实现"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("即以什么格式接受发数据等"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n像游戏类的应用对性能要求比较高"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("会基于socket自己来编写协议!!\n即无论啥协议都是在socket的基础上构建出来的!!!\n\n\n通常web应用程序会包含三部分"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("socket服务器\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web框架\n    浏览器一访问"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("会发很多请求头请求体这些请求相关的数据"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("请求头数据不是"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("n分割的嘛\n    Django会帮忙进行处理"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("封装打包到request对象中!\n    即request封装了浏览器访问咱们网址时所带的浏览器信息或数据"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v("业务功能\n  像Django、flask、tornado只实现了web框架的功能"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  而对于接受用户请求、返回数据"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("框架内部一般不编写"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("用的是现成的第三方的工具来编写"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("eg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("uwsgi、werkzurg等"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  Ps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("tornado自己独立编写了一个实现该功能的模块"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("本质都是用socket实现的!!"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("当然可用自己的"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("也可以用第三方的"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  注"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("安装Django时会自动安装wsgiref模块用于本地开发"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("项目部署的时候用的是性能更好的uwsgi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  Q"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("那不同的第三方模块编写的socket服务端是如何与同一个web框架无缝对接的呢?\n  A"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("不同的第三方模块编写的socket服务端会约定俗成的将接口所需参数定义成一样的!!\n    比如"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("web框架只需将ip和端口交给它就行了"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" wsgiref\n        server "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" make_server"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'127.0.0.1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        server"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("serve_forever"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" werkzurg\n        run_simple"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'127.0.0.1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" application"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      run函数和application都只需要environ、start_response参数"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br")])]),n("p",[n("img",{attrs:{src:a(704),alt:"image-20230307160857397"}})]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("要想彻底了解异步非阻塞的框架"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("需要知道 socket、多线程、多进程、IO多路复用是怎么一回事"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"创建指定版本的django"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建指定版本的django"}},[s._v("#")]),s._v(" 创建指定版本的Django")]),s._v(" "),n("blockquote",[n("p",[n("font",{attrs:{color:"blue"}},[s._v("运用pycharm自动创建的Django项目是最新版本的!! 我们想指定版本, 得这样做!")])],1)]),s._v(" "),n("p",[n("img",{attrs:{src:a(705),alt:"image-20230309143728454"}})]),s._v(" "),n("p",[n("code",[s._v("pip list")]),s._v(" ; "),n("code",[s._v("pip install django==3.2 -i https://pypi.tuna.tsinghua.edu.cn/simple")]),s._v(" ;"),n("br"),s._v(" "),n("code",[s._v("django-admin startproject day02 .")]),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("(.保证了在项目根目录下创建了day02,不加就变成了day02/day02/day02)")])],1),s._v(" "),n("p",[n("img",{attrs:{src:a(706),alt:"image-20230309144438871"}})]),s._v(" "),n("p",[s._v("ok, 此时就可以点击绿色按钮,快速启动项目啦!!!"),n("br"),s._v("\n也许会报错: "),n("code",[s._v("ModuleNotFoundError: No module named 'settings'")]),s._v(". 如何解决呢?"),n("br"),s._v("\nsettings.py所在的文件夹右键 - 将目标标记为 - 源代码根目录..")]),s._v(" "),n("h3",{attrs:{id:"多app"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#多app"}},[s._v("#")]),s._v(" 多app")]),s._v(" "),n("p",[n("img",{attrs:{src:a(707),alt:"image-20230309145829519"}})]),s._v(" "),n("p",[n("strong",[s._v("记得进行app注册")]),s._v(" , "),n("code",[s._v("'apps.api.apps.ApiConfig'")]),s._v(" 或者 "),n("code",[s._v("'apps.api'")]),s._v(" 都能成功运行.")]),s._v(" "),n("h3",{attrs:{id:"纯净版django"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#纯净版django"}},[s._v("#")]),s._v(" 纯净版Django")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("INSTALLED_APPS "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'django.contrib.admin',")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'django.contrib.auth',")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'django.contrib.contenttsypes',")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'django.contrib.sessions',")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'django.contrib.messages',")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.staticfiles'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\nMIDDLEWARE "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.middleware.security.SecurityMiddleware'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'django.contrib.sessions.middleware.SessionMiddleware',")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.middleware.common.CommonMiddleware'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.middleware.csrf.CsrfViewMiddleware'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在前后端分离项目中,它也用不到,应注释掉")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'django.contrib.auth.middleware.AuthenticationMiddleware',")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'django.contrib.messages.middleware.MessageMiddleware',")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.middleware.clickjacking.XFrameOptionsMiddleware'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\nROOT_URLCONF "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'day02.urls'")]),s._v("\n\nTEMPLATES "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BACKEND'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.template.backends.django.DjangoTemplates'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'DIRS'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'APP_DIRS'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'OPTIONS'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'context_processors'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.template.context_processors.debug'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.template.context_processors.request'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'django.contrib.auth.context_processors.auth',")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'django.contrib.messages.context_processors.messages',")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br")])]),n("h3",{attrs:{id:"拿到别人的项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#拿到别人的项目"}},[s._v("#")]),s._v(" 拿到别人的项目")]),s._v(" "),n("blockquote",[n("p",[s._v("可以自动生成requirements.txt文件!!"),n("br"),s._v(" "),n("code",[s._v("(.venv) DC的MacBook:day02 One_Piece$ pip freeze > requirements.txt")])])]),s._v(" "),n("p",[s._v("别人拿到我们写的项目 "),n("font",{attrs:{color:"gray"}},[s._v("(.venv里的不用给,因为虚拟环境中像什么内置模块还是用的系统py解释器里的).")]),n("br"),s._v(" "),n("strong",[s._v("step1:")]),s._v(" 创建虚拟环境.")],1),s._v(" "),n("p",[n("img",{attrs:{src:a(708),alt:"image-20230309165105133"}})]),s._v(" "),n("p",[n("font",{attrs:{color:"gray"}},[s._v("或者选择上图中的现有环境,在里面找.进行关联")]),s._v(" 通过"),n("code",[s._v("virtualenv ccc")]),s._v("命令可将虚拟环境创建在项目根目录下."),n("br"),s._v(" "),n("font",{attrs:{color:"brown"}},[s._v("注意: 创建后, 点击终端没有进入虚拟环境.. 看看 编译器右下角选没选 python解释器!!!")])],1),s._v(" "),n("p",[n("strong",[s._v("step2:")]),s._v(" 直接在终端运行命令一下命令安装依赖:")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("venv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" DC的MacBook"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("day02 One_Piece$ pip install "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r requirements"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("strong",[s._v("step3:")]),s._v(" 依赖安装完后尝试运行项目.")]),s._v(" "),n("hr")])}),[],!1,null,null,null);t.default=r.exports},698:function(s,t,a){s.exports=a.p+"assets/img/30.014a6695.jpeg"},699:function(s,t,a){s.exports=a.p+"assets/img/35.5c985da9.jpeg"},700:function(s,t,a){s.exports=a.p+"assets/img/31.d7fdb786.jpeg"},701:function(s,t,a){s.exports=a.p+"assets/img/44.c74dcb5a.jpeg"},702:function(s,t,a){s.exports=a.p+"assets/img/43.e3f7a311.jpeg"},703:function(s,t,a){s.exports=a.p+"assets/img/12.75d1126c.jpeg"},704:function(s,t,a){s.exports=a.p+"assets/img/image-20230307160857397.4d1fe567.png"},705:function(s,t,a){s.exports=a.p+"assets/img/image-20230309143728454.1e064a54.png"},706:function(s,t,a){s.exports=a.p+"assets/img/image-20230309144438871.ba57687b.png"},707:function(s,t,a){s.exports=a.p+"assets/img/image-20230309145829519.9deb2072.png"},708:function(s,t,a){s.exports=a.p+"assets/img/image-20230309165105133.ac82a26b.png"}}]);