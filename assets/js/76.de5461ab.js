(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{1200:function(s,t,n){"use strict";n.r(t);var a=n(0),r=Object(a.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[a("font",{attrs:{color:"brown"}},[s._v("本小节主要阐述vim四大模式对文件的一系列操作")])],1),s._v(" "),a("blockquote",[a("p",[s._v("通常使用vim文本编辑器修改配置、写脚本文件.."),a("br"),s._v("\nvi是默认安装的,建议使用vim, "),a("code",[s._v("yum install vim -y")])])]),s._v(" "),a("h2",{attrs:{id:"命令行模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令行模式"}},[s._v("#")]),s._v(" 命令行模式")]),s._v(" "),a("blockquote",[a("p",[s._v("打开文件就进入了此模式.")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("快捷键")]),s._v(" "),a("th",[s._v("效果")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("$ (按shift + 4)")]),s._v(" "),a("td",[s._v("光标移动到当前行的末尾")])]),s._v(" "),a("tr",[a("td",[s._v("按数字0")]),s._v(" "),a("td",[s._v("光标移动到当前行的开头")])]),s._v(" "),a("tr",[a("td",[s._v("dd (按两下字母d)")]),s._v(" "),a("td",[s._v("删除光标所在的那一行")])]),s._v(" "),a("tr",[a("td",[s._v("ndd (n为数字)")]),s._v(" "),a("td",[s._v("eg: 按下数字3,然后按两下d.  "),a("br"),s._v("那么光标所在的那一行连同下方的两行会一同被删除掉！"),a("br"),s._v("编辑器左下角会提示 少了3行")])]),s._v(" "),a("tr",[a("td",[s._v("u (按下字母小u)")]),s._v(" "),a("td",[s._v("后退 (相当于windows下ctrl+z的回退操作)")])]),s._v(" "),a("tr",[a("td",[s._v("ctrl + r")]),s._v(" "),a("td",[s._v("前进 (相当于windows下ctrl+y的前进操作) "),a("br"),s._v("注意: mac下是control + r")])]),s._v(" "),a("tr",[a("td",[s._v("yy (按两下字母y)")]),s._v(" "),a("td",[s._v("复制光标所在的那一行 (相当于windows下ctrl+c)")])]),s._v(" "),a("tr",[a("td",[s._v("nyy (n为数字)")]),s._v(" "),a("td",[s._v("eg: 按下数字3,然后按两下d.  "),a("br"),s._v("那么光标所在的那一行连同下方的两行会一同被复制！"),a("br"),s._v("编辑器左下角会提示 复制了3行")])]),s._v(" "),a("tr",[a("td",[s._v("p  (按下字母小p)")]),s._v(" "),a("td",[s._v("将已经复制的数据粘贴在光标所在行的下一行"),a("br"),s._v(" (相当于windows下ctrl+v   可以多次粘贴)"),a("br"),s._v(" 若是多行的话  编辑器左下角会提示 多了n行")])]),s._v(" "),a("tr",[a("td",[s._v("P  (按shift + p)")]),s._v(" "),a("td",[s._v("将已经复制的数据粘贴在光标所在行的上一行")])])])]),s._v(" "),a("p",[a("font",{attrs:{color:"gray"}},[a("strong",[s._v("Ps: 奇淫技巧 -- 100000000yy复制整个文件内容; (n)yy + (n)p 快速增大文件.")])])],1),s._v(" "),a("h3",{attrs:{id:"光标定位"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#光标定位"}},[s._v("#")]),s._v(" 光标定位")]),s._v(" "),a("p",[a("strong",[s._v("0")]),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("行头")]),a("br"),s._v(" "),a("strong",[s._v("$")]),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("行尾 ")])],1),s._v(" "),a("p",[a("strong",[s._v("gg")]),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("文件第一行行头")]),a("br"),s._v(" "),a("strong",[s._v("G")]),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("文件最后一行行头")]),a("br"),s._v(" "),a("strong",[s._v("(n)G")]),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("文件的第n行行头 ")]),a("br"),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("Ps: 扩展模式下 "),a("code",[s._v(":n")]),s._v("一样的定位到文件的第n行")])],1),s._v(" "),a("p",[a("strong",[s._v("H")]),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("此屏内容第一行行头")]),a("br"),s._v(" "),a("strong",[s._v("M")]),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("此屏内容中央行行头 ")]),a("br"),s._v(" "),a("strong",[s._v("L")]),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("此屏内容最后一行行头")])],1),s._v(" "),a("h3",{attrs:{id:"文本编辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文本编辑"}},[s._v("#")]),s._v(" 文本编辑")]),s._v(" "),a("p",[a("strong",[s._v("(n)dd + p")]),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("剪切")]),a("br"),s._v(" "),a("strong",[s._v("(n)yy + p")]),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("复制粘贴")])],1),s._v(" "),a("p",[a("strong",[s._v("u")]),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("回退")]),s._v(" "),a("strong",[s._v("ctrl + r / control + r")]),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("快进")])],1),s._v(" "),a("h3",{attrs:{id:"关键字查找"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关键字查找"}},[s._v("#")]),s._v(" 关键字查找")]),s._v(" "),a("p",[a("strong",[s._v("/string")]),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("快速查找文件中所有的string单词(会高亮显示 按n下一个 按N上一个) ")]),a("br"),s._v(" "),a("strong",[s._v("Ps:")]),s._v("  设置环境 "),a("code",[s._v(":set ic")]),s._v(" 后, 关键字的查找 会忽略大小写!")],1),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"编辑-插入模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编辑-插入模式"}},[s._v("#")]),s._v(" 编辑/插入模式")]),s._v(" "),a("blockquote",[a("p",[s._v("输入a、i、o之一进入插入模式")])]),s._v(" "),a("p",[a("strong",[s._v("a")]),s._v("     在<光标之 "),a("em",[s._v("后")]),s._v(" >进行添加"),a("br"),s._v(" "),a("strong",[s._v("i")]),s._v("      在<光标之 "),a("em",[s._v("前")]),s._v(" >进行插入"),a("br"),s._v(" "),a("strong",[s._v("o")]),s._v("     在<当前光标所在行之下>开启新的一行")]),s._v(" "),a("p",[s._v("在编辑模式下, "),a("code",[s._v("ctrl/control + w")]),s._v(" 是返回功能！")]),s._v(" "),a("p",[a("font",{attrs:{color:"gray"}},[s._v("Ps: 使用 "),a("strong",[s._v("ESC键")]),s._v(" 返回命令行模式")])],1),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"可视块模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可视块模式"}},[s._v("#")]),s._v(" 可视块模式")]),s._v(" "),a("blockquote",[a("p",[s._v("严格来说还有一个 "),a("strong",[s._v("可视块模式")]),s._v(", 主要用于批量加减注释的")])]),s._v(" "),a("p",[s._v("前提: 注释的行需要整齐排列"),a("br"),s._v("\n在命令模式下,按 ctrl + v / control +v 进入可视块模式")]),s._v(" "),a("h3",{attrs:{id:"批量删除注释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#批量删除注释"}},[s._v("#")]),s._v(" 批量删除注释")]),s._v(" "),a("p",[s._v("1> 上下键选中#号"),a("br"),s._v("\n2> 按下d键")]),s._v(" "),a("h3",{attrs:{id:"批量添加注释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#批量添加注释"}},[s._v("#")]),s._v(" 批量添加注释")]),s._v(" "),a("p",[s._v("先将光标移动到需要加注释的第一行开头的位置"),a("br"),s._v("\n1> 上下键选中第一列"),a("br"),s._v("\n2> shift + i ,然后输入#号"),a("br"),s._v("\n3> 连续按两下ESC")]),s._v(" "),a("p",[a("font",{attrs:{color:"brown"}},[s._v("Ps: shell脚本的缩进  control +v  上下选择缩进行  shift+i 四个空格先缩进第一行  两下esc 选择的行全部缩进..")])],1),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"扩展-末行模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#扩展-末行模式"}},[s._v("#")]),s._v(" 扩展/末行模式")]),s._v(" "),a("blockquote",[a("p",[s._v("在命令行模式下输入冒号进入末行模式")])]),s._v(" "),a("h3",{attrs:{id:"保存退出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#保存退出"}},[s._v("#")]),s._v(" 保存退出")]),s._v(" "),a("p",[a("strong",[s._v(":wq")]),s._v("      保存并退出"),a("br"),s._v(" "),a("strong",[s._v(":w")]),s._v("      保存后继续修改"),a("br"),s._v(" "),a("strong",[s._v(":q!")]),s._v("      修改的内容不想要了,文件恢复上一次保存时的样子.退出."),a("br"),s._v(" "),a("strong",[s._v(":wq!")]),s._v(" "),a("strong",[s._v("与文件权限有关")]),s._v("  分root管理员和普通用户dc两种情况讨论..")]),s._v(" "),a("p",[a("font",{attrs:{color:"gray"}},[s._v("Ps: "),a("strong",[s._v("wq")]),s._v("可以用"),a("strong",[s._v("x")]),s._v("来代替！！")])],1),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("▲ 准备数据: root用户创建了一个a.txt文件,添加文本111,并修改其权限为 ---------- 没有人对其有任何权限.\n  但要注意,root用户可以为所欲为,可不用管文件权限是咋样的"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n  所以,可以发现root用户对a.txt文件使用查看文件内容的命令不会有权限问题.\n  而普通用户dc使用就会说权限不够. 因为dc对文件a.txt没有任何权限"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n  但不管是root还是dc都可以通过vim命令进入此文件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(" 但是普通用户dc进入后显示的是空白,不会有任何内容！！\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# touch a.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo 111 > a.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ll")]),s._v("\n总用量 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n-rw-r--r-- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":15 a.txt\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chmod 000 a.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ll")]),s._v("\n总用量 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n---------- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":15 a.txt\n\n▲ 普通用户dc\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以发现a.txt文件是有内容的")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("dc@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ll\n总用量 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n---------- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":15 a.txt\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("dc@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" a.txt\ncat: a.txt: 权限不够\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("dc@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" a.txt\ntail: 无法打开"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a.txt"')]),s._v(" 读取数据: 权限不够\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 但通过vim打开啥也没有")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Ps: 若root用户修改a.txt文件权限为chmod o=r a.txt; ")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# dc用户是可以查看文件内容的,vim进入后会显示文件全部内容,但修改啥的不会成功.权限不够.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("dc@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" a.txt\n    试图插入内容后,发现只能 :q"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" 其余的都无效"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(" 表明普通用户dc压根就对此文件不能造成任何影响.\n\n▲ root用户\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat a.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim a.txt")]),s._v("\n    插入内容222后,使用 :wq"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" 强制保存退出.\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat a.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("222")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ll")]),s._v("\n总用量 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n---------- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":21 a.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br")])]),a("h3",{attrs:{id:"替换单词"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#替换单词"}},[s._v("#")]),s._v(" 替换单词")]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("%")]),s._v(" "),a("code",[s._v("1,3")]),s._v(" "),a("code",[s._v(",3")]),s._v(" "),a("code",[s._v("1,$")]),s._v("  s/被替换/替换成/gi")])]),s._v(" "),a("div",{staticClass:"language-tex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-tex"}},[a("code",[s._v("111111egon1111\negon222222 EGON 22eGoN\n33333 egon33333 egon333\n444xxx444xxxxx\n55555xxx\n6666egon666\n#77777777\n#88888888\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[a("font",{attrs:{color:"red"}},[a("strong",[s._v("敲黑板")]),s._v("!! 可以用正则表达式去全文匹配我们要替换的文本！！")]),s._v("(egon  ^egon  egon$)")],1),s._v(" "),a("p",[s._v("▼ 将文件中的单词egon(忽略大小写,默认是区分大小写的)全部替换成yyds")]),s._v(" "),a("p",[a("font",{attrs:{color:"gray"}},[s._v("egon222222 EGON 22eGoN  ------\x3e yyds222222 yyds 22yyds ")]),a("br"),s._v(" "),a("code",[s._v(":% s/egon/yyds/gi")]),a("br"),s._v("\n解析:"),a("br"),s._v("\n        % 代表所有行; s替换;  /分隔符(用#、@都可以);"),a("br"),s._v("\n        若不加g,则只会替换每一行第一个匹配到的egon.."),a("br"),s._v("\n        若加g代表每一行中所有的egon都要替换掉. 有点正则里贪婪模式那味！"),a("br"),s._v("\n        加i代表忽略大小写！"),a("br"),s._v(" "),a("strong",[s._v("Ps:")]),s._v(" 也可以通过 "),a("code",[s._v(":set ic")]),s._v("  ; "),a("code",[s._v(":% s/egon/yyds/g")]),s._v(" 这两条命令达到同样的效果！！")],1),s._v(" "),a("p",[s._v("▼ 将文件单独某一行(eg 第三行)里的egon全部替换成EGON")]),s._v(" "),a("p",[a("code",[s._v(":3 s/egon/EGON/g")])]),s._v(" "),a("p",[s._v("▼ 将文件连续几行(eg 第一行到第四行; 第三行到最后一行)里的egon全部替换成EGON")]),s._v(" "),a("p",[a("code",[s._v(":1,4 s/egon/EGON/g")]),s._v("  ; "),a("code",[s._v(":,4 s/egon/EGON/g")]),s._v(" 不指定开头,默认开头就是1"),a("br"),s._v(" "),a("code",[s._v(":3,$ s/egon/EGON/g")])]),s._v(" "),a("p",[s._v("▼ 将全文中处于每行开头的egon替换成EGON")]),s._v(" "),a("p",[a("font",{attrs:{color:"gray"}},[s._v("egon222222 egon  -----\x3e EGON222222 egon")]),a("br"),s._v(" "),a("code",[s._v(":% s/^egon/EGON/g")]),s._v("  其实这种需求下,加不加g效果都一样..")],1),s._v(" "),a("p",[s._v("▼ 将全文中处于每行结尾的egon替换成EGON")]),s._v(" "),a("p",[a("font",{attrs:{color:"gray"}},[s._v("egon222222 egon  -----\x3e egon222222 EGON")]),a("br"),s._v(" "),a("code",[s._v(":% s/egon$/EGON/")])],1),s._v(" "),a("p",[s._v("▼ 可以达到批量删除注释的目的")]),s._v(" "),a("p",[a("code",[s._v(":4,8 s/^#//")]),s._v("   将4-8行的以＃开头的替换为空"),a("br"),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("Ps: 文件中共8行,若写的是 4,9 会报错 E16:无效的范围")])],1),s._v(" "),a("h3",{attrs:{id:"读入文件-写文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#读入文件-写文件"}},[s._v("#")]),s._v(" 读入文件/写文件")]),s._v(" "),a("p",[s._v("▼ 将文件3到5行的内容拷贝一份另存为a.txt"),a("br"),s._v("\n若a.txt已经事先存在,则需要 w! 强制另存为.. 是覆盖的效果!")]),s._v(" "),a("p",[a("code",[s._v(":3,5 w /mnt/a.txt")]),a("br"),s._v(" "),a("code",[s._v(":3,5 w! /mnt/a.txt")])]),s._v(" "),a("p",[s._v("▼ 将其他文件的内容读取到当前文件光标所在行的下一行..")]),s._v(" "),a("p",[a("code",[s._v(":r /mnt/a.txt")])]),s._v(" "),a("h3",{attrs:{id:"设置环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置环境"}},[s._v("#")]),s._v(" 设置环境")]),s._v(" "),a("p",[a("code",[s._v(":set nu")]),s._v("         设置行号"),a("br"),s._v(" "),a("code",[s._v(":set nonu")]),s._v("         取消设置行号")]),s._v(" "),a("p",[a("code",[s._v(":set ic")]),s._v("         忽略大小写"),a("br"),s._v(" "),a("code",[s._v(":set noic")]),s._v("         取消忽略大小写")]),s._v(" "),a("p",[a("code",[s._v(":set ai")]),s._v("         自动缩进 (回车后的换行保持跟上一行相同的缩进)"),a("br"),s._v(" "),a("code",[s._v(":set noai")]),s._v("         取消自动缩进")]),s._v(" "),a("p",[s._v("上述的修改都是临时修改,想要永久修改,需要修改配置文件"),a("br"),s._v("\n△ "),a("strong",[s._v("对所有用户生效")]),a("br"),s._v(" "),a("code",[s._v("vim /etc/vimrc")]),s._v("  按G跳到文件最后一行  根据需求加入一下三行文本.")]),s._v(" "),a("div",{staticClass:"language-tex line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-tex"}},[a("code",[s._v("set nu\nset ic\nset ai\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("△ "),a("strong",[s._v("只对当前的用户生效")]),a("br"),s._v(" "),a("code",[s._v("vim ~/.vimrc")]),s._v("   若此文件没有,在vim打开时会自动创建！同理,根据需求加入三行文本..")]),s._v(" "),a("h3",{attrs:{id:"其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[s._v("#")]),s._v(" 其他")]),s._v(" "),a("p",[a("code",[s._v(": 3,7 d")]),s._v("  删除文本3-7行内容"),a("br"),s._v(" "),a("code",[s._v(":2,4 co 11")]),s._v("   将2到4行的内容复制到第11行的下面")]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"文件对比"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件对比"}},[s._v("#")]),s._v(" 文件对比")]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("diff")]),s._v(" "),a("code",[s._v("<")]),s._v(" 小于号代表左边边文件  "),a("code",[s._v(">")]),s._v("大于号代表右边文件"),a("br"),s._v(" "),a("strong",[s._v("diff - u")]),s._v("         制作补丁文件, 通常会制作两个补丁文件!"),a("br"),s._v(" "),a("strong",[s._v("patch")]),s._v("         打补丁")]),s._v(" "),a("p",[a("strong",[s._v("vimdiff")]),s._v("         以vim方式打开两个文件对比, 高亮显示不同的内容")])]),s._v(" "),a("p",[a("strong",[s._v("数据准备")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat a.txt ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat b.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("222")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("333")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"diff"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#diff"}},[s._v("#")]),s._v(" diff")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# diff a.txt b.txt ")]),s._v("\n2c2,3\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("\n---\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("222")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("333")]),s._v("\n\n△ patch.diff"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"补丁文件"')]),s._v("保存两个文件不一样的地方"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("文件名随便命名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  这个补丁文件是以放在后面的那个文件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("这里是b.txt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("为准的.\n  所以这个补丁文件会用于给前面那个文件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("这里是a.txt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("打补丁.\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# diff -u a.txt b.txt > patch.diff ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat patch.diff ")]),s._v("\n--- a.txt\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-07-12 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":04:44.339129438 +0800\n+++ b.txt\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-07-12 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":04:46.035147935 +0800\n@@ -1,2 +1,3 @@\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-22")]),s._v("\n+222\n+333\n\n△ 安装patch包 -- 用于打补丁\n  通常在打补丁之前会制作两个补丁文件,便于文件打好补丁后回溯"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" a.txt b.txt "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" patch_b.diff\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" b.txt a.txt "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" patch_a.diff\n  这样的话,a.txt文件通过patch_b.diff打好补丁后,还可以通过patch_a.diff还原"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum install patch -y")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 给a.txt打补丁 a.txt会变得跟b.txt一样")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# patch a.txt patch.diff ")]),s._v("\npatching "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" a.txt\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat a.txt ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("222")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("333")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br")])]),a("h3",{attrs:{id:"vimdiff"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vimdiff"}},[s._v("#")]),s._v(" vimdiff")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vimdiff a.txt b.txt ")]),s._v("\n还有 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" 个文件等待编辑\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:n(486),alt:""}})]),s._v(" "),a("p",[a("font",{attrs:{color:"gray"}},[a("strong",[s._v("Ps")]),s._v(": "),a("code",[s._v("control + ww")]),s._v(" 在命令行模式下实现两个文件之间切换!")])],1),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("■ 同时编辑多个文件"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" 文件1 文件2   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 水平分隔")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-O")]),s._v(" 文件1 文件2   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 垂直分隔")]),s._v("\n命令行模式下使用ctrl + ww切换\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"vi-vim执行过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vi-vim执行过程"}},[s._v("#")]),s._v(" vi/vim执行过程")]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("解决vim非正常退出时文件保存的问题!")])]),s._v(" "),a("p",[s._v("结合"),a("code",[s._v("5_文件管理之文件系统")]),s._v("中的Q/A小节辅助理解..")])]),s._v(" "),a("p",[s._v("有必要再次说明:"),a("br"),s._v(" "),a("font",{attrs:{color:"browm"}},[s._v("vim的原理是将文件内容一下子从硬盘全部读到内存中,在内存中改完后,再一次性全部覆盖硬盘的原文件..")])],1),s._v(" "),a("p",[a("img",{attrs:{src:n(487),alt:""}})]),s._v(" "),a("p",[s._v("Vim非正常退出, 编辑a.txt文件的时候断开连接(断网或断电), 重新连接服务器, 再次vim编辑文件."),a("br"),s._v("\n会提示发现交换文件... Q退出.")]),s._v(" "),a("p",[a("img",{attrs:{src:n(488),alt:""}})]),s._v(" "),a("p",[s._v("△ 不想还原非正常退出时的修改,删除交换文件即可  "),a("code",[s._v("rm -rf /mnt/.a.txt.swp")]),a("br"),s._v("\n△ 还原非正常退出时的修改,命令行输入命令 "),a("code",[s._v("vim -r a.txt")]),s._v("然后进行编辑.."),a("br"),s._v("\n     再次重新打开时,还提示发现交换文件,直接按d删除交换文件,再进入即可..")]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"sed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed"}},[s._v("#")]),s._v(" sed")]),s._v(" "),a("blockquote",[a("p",[s._v("stream editor "),a("strong",[s._v("流式编辑器")]),a("br"),s._v("\n主要擅长对文件的编辑操作, 我们可以事先定制好编辑文件的指令, 然后让sed自动完成对文件的整体编辑")])]),s._v(" "),a("h3",{attrs:{id:"sed的流式过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed的流式过程"}},[s._v("#")]),s._v(" sed的流式过程")]),s._v(" "),a("p",[a("strong",[s._v("Q:")]),s._v(" 为何sed会称作流式/sed流式的原理/sed流式编辑器的整体流程？"),a("br"),s._v(" "),a("strong",[s._v("A:")]),s._v(" 一条sed命令是一个软件,一旦运行起来就会启用一个进程,进程会占用一块内存空间;"),a("br"),s._v("\n     这块内存会自动进行一个隔断, 左边的称为模式空间、右边的称为保持空间("),a("font",{attrs:{color:"gray"}},[s._v("保持空间暂且不讨论")]),s._v(");"),a("br"),s._v("\n     sed处理的文件是放在硬盘上的,sed会一行行的读取文件的内容到模式空间;"),a("br"),s._v("\n     一行行的按照事先制定的规则("),a("font",{attrs:{color:"gray"}},[s._v("定位+具体操作")]),s._v(")处理,处理完后若模式空间有内容,会流到屏幕中进行显示."),a("br"),s._v("\n     具体来说:"),a("br"),s._v("\n             step 1> 若此行不符合定位,将不会进行任何处理;"),a("br"),s._v("\n                     若此行符合定位,将会按照具体操作进行处理;"),a("br"),s._v("\n                     ("),a("font",{attrs:{color:"gray"}},[s._v('所谓的处理 "p" 将所有行打印到屏幕中. "1,2s/egon/BIGEGON/g\'" 对1到2行的内容进行替换')]),s._v(")"),a("br"),s._v("\n             step 2> 不管是否符合定位,最后若模式空间里有内容将会进行"),a("strong",[s._v("默认输出")]),s._v(",流到屏幕当中!"),a("br"),s._v("\n                     ("),a("font",{attrs:{color:"gray"}},[s._v('为何这样说,因为"d"的话,直接删除,这行内容就不会留存在模式空间.')]),s._v(")\t"),a("br"),s._v(" "),a("font",{attrs:{color:"gray"}},[a("strong",[s._v("Ps: 上述过程不会改变硬盘中原有文件的内容!! 除非用了 -i 选项")])])],1),s._v(" "),a("p",[a("img",{attrs:{src:n(489),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"sed与vim对比"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed与vim对比"}},[s._v("#")]),s._v(" sed与vim对比")]),s._v(" "),a("blockquote",[a("p",[s._v("Q: 什么时候用sed?"),a("br"),s._v("\nA: 成批次的处理;  处理大文件.")])]),s._v(" "),a("p",[s._v("1> sed可以把处理文件的规则事先写好, 然后用同一套规则编辑多个文件;"),a("br"),s._v("\n     而vim只能一个一个进行编辑"),a("br"),s._v("\n2> sed处理文件,一次只处理一行,"),a("strong",[s._v("即同一时间内存中只有文件的一行内容")]),s._v("."),a("br"),s._v("\n     无论文件多大,都不会对内存造成过大的压力")]),s._v(" "),a("h3",{attrs:{id:"命令使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令使用"}},[s._v("#")]),s._v(" 命令使用")]),s._v(" "),a("blockquote",[a("p",[s._v("sed      选项      规则     文件路径")])]),s._v(" "),a("p",[a("font",{attrs:{color:"blue"}},[a("strong",[s._v("[选项]")])]),a("br"),s._v(" "),a("strong",[s._v("-n")]),s._v("      取消默认输出"),a("br"),s._v(" "),a("strong",[s._v("-r")]),s._v("      支持扩展正则元字符"),a("br"),s._v(" "),a("strong",[s._v("-i")]),s._v("      将处理规则应用到 "),a("strong",[s._v("文件")]),s._v(" 当中去,真正的完成了编辑, 可以简单理解成改变了输出流向.")],1),s._v(" "),a("p",[a("strong",[s._v("-i 的底层原理")]),s._v(":"),a("br"),s._v("\n     将本应打印到屏幕的内容写入了一个临时文件,把原文件一删,把临时文件改名为原文件的名字, 速度非常快,看样子就像是"),a("strong",[s._v("覆盖")]),s._v("了原文件."),a("font",{attrs:{color:"brown"}},[s._v("通常会在调试完毕确保没有问题后再加-i选项!")])],1),s._v(" "),a("p",[a("font",{attrs:{color:"blue"}},[a("strong",[s._v("[规则]\t'定位/匹配+命令/具体操作'")])]),a("br"),s._v("\n不写定位代表定位所有行\n"),a("strong",[s._v("行定位")]),s._v(" "),a("code",[s._v("1")]),s._v("          定位到第一行"),a("br"),s._v(" "),a("code",[s._v("1,3")]),s._v("         从第1行到第3行"),a("br"),s._v(" "),a("strong",[s._v("正则表达式定位")]),s._v(" -- / / 两个左斜杠进行包裹."),a("br"),s._v(" "),a("code",[s._v("/egon/")]),s._v("          包含egon的行"),a("br"),s._v(" "),a("code",[s._v("/^egon/")]),s._v("         以egon开头的行"),a("br"),s._v(" "),a("code",[s._v("/egon$/")]),s._v("         以egon结尾的行"),a("br"),s._v(" "),a("strong",[s._v("数字+正则表达式定位")]),s._v(" "),a("code",[s._v("1,8")]),s._v("         1到8行"),a("br"),s._v(" "),a("code",[s._v("1,/egon/")]),s._v("         取从第1行到首次匹配到/egon/的行")],1),s._v(" "),a("p",[a("strong",[s._v("具体操作")]),s._v("\n​     "),a("code",[s._v("d")]),a("br"),s._v("\n​     "),a("code",[s._v("p")]),a("br"),s._v("\n​     "),a("code",[s._v("s/匹配内容/替换内容/gi")]),s._v(" -- s后面三个左斜杠"),a("br"),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("Ps: 命令可以用;号连接多条 \t如"),a("code",[s._v('sed "1d;3d;5d" a.txt')]),s._v("代表删除1,3,5行")])],1),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat b.txt ")]),s._v("\negon1111\n22222egon\n3333egon33333\n4444xxx44444\n5555xxx55555xxxx555xxx\n6666egon6666egon666egon\n777Egon7777eGOn7777eGoN\n\n【"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("分号连接多条命令】\n▲ 将文件的第一行和第三行进行打印处理\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# sed "1p;3p" b.txt')]),s._v("\negon1111\negon1111\n22222egon\n3333egon33333\n3333egon33333\n4444xxx44444\n5555xxx55555xxxx555xxx\n6666egon6666egon666egon\n777Egon7777eGOn7777eGoN\n\n\n【-n 取消默认输出】\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# sed -n "" b.txt')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# sed -n "1p;3p" b.txt')]),s._v("\negon1111\n3333egon33333\n\n\n【正则定位】\n▲ 删除文件中以egon结尾的行\n过程: \n  第一行进来后,正则定位/egon$/失败,直接默认输出"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  第二行进来后,定位成功,按照具体的操作指令d直接干掉,没有默认输出了"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n  剩余行同理.\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# sed "/egon$/d" b.txt')]),s._v("\negon1111\n3333egon33333\n4444xxx44444\n5555xxx55555xxxx555xxx\n777Egon7777eGOn7777eGoN\n\nPs: \n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/^egon/p"')]),s._v(" b.txt\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/egon/p"')]),s._v(" b.txt\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1,/egon$/d"')]),s._v(" b.txt  第一行到首次定位到以egon结尾的行全部删除\n\n\n【s替换操作】\n● 不忽略大小写,懒惰匹配"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("当前读入模式空间的行从左到右找到第一个egon就不往后面找了"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# sed "s/egon/EGON/" b.txt ')]),s._v("\nEGON1111\n22222EGON\n3333EGON33333\n4444xxx44444\n5555xxx55555xxxx555xxx\n6666EGON6666egon666egon\n777Egon7777eGOn7777eGoN\n● 不忽略大小写,全局匹配\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# sed "s/egon/EGON/g" b.txt ')]),s._v("\nEGON1111\n22222EGON\n3333EGON33333\n4444xxx44444\n5555xxx55555xxxx555xxx\n6666EGON6666EGON666EGON\n777Egon7777eGOn7777eGoN\n● 忽略大小写,全局匹配\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# sed "s/egon/EGON/gi" b.txt ')]),s._v("\nEGON1111\n22222EGON\n3333EGON33333\n4444xxx44444\n5555xxx55555xxxx555xxx\n6666EGON6666EGON666EGON\n777EGON7777EGON7777EGON\n\n\n【sed使用管道处理其他命令的结果】\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# ifconfig | sed "s/ens33/eth0/"')]),s._v("\neth0: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("flags")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("416")]),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("3")]),s._v("<")]),s._v("UP,BROADCAST,RUNNING,MULTICAST"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  mtu "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v("\n        inet "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".150.131  netmask "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0  broadcast "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".150.255\n        inet6 fe80::20c:29ff:fe90:303e  prefixlen "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("  scopeid 0x2"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v("<")]),s._v("link"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        ether 00:0c:29:90:30:3e  txqueuelen "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ethernet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# ifconfig | sed -i  "s/ens33/eth0/"')]),s._v("\nsed: 没有输入文件  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -i 选项作用目标是文件")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"awk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#awk"}},[s._v("#")]),s._v(" awk")]),s._v(" "),a("blockquote",[a("p",[s._v("事实上awk是一门编程语言,可以独立完成很强大的操作.."),a("br"),s._v("\n主要擅长处理有规律的文本(eg "),a("code",[s._v("/etc/passwd")]),s._v("), 对其做一些格式化的处理!")])]),s._v(" "),a("h3",{attrs:{id:"命令构成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令构成"}},[s._v("#")]),s._v(" 命令构成")]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v('awk  选项  "规则"  文件路径')]),a("br"),s._v(" "),a("font",{attrs:{color:"brown"}},[s._v("awk与sed相比,"),a("strong",[s._v("没有默认输出")]),s._v("; awk强大在于"),a("strong",[s._v("段的概念")]),s._v("(段可以应用于定位以及具体操作的命令).")])],1)]),s._v(" "),a("p",[a("font",{attrs:{color:"blue"}},[a("strong",[s._v("[选项]")])]),a("br"),s._v(" "),a("strong",[s._v("-F")]),s._v("  指定分隔符,不写此选项默认就是以空格为分隔符")],1),s._v(" "),a("p",[a("font",{attrs:{color:"blue"}},[a("strong",[s._v("[规则]\t'定位+命令/具体操作'")])]),a("br"),s._v(" "),a("font",{attrs:{color:"red"}},[s._v("注意: 规则得用 "),a("strong",[s._v("单引号")]),s._v(" 包裹... ")]),a("br"),s._v("\n     没有定位则代表定位所有行"),a("br"),s._v(" "),a("strong",[s._v("行定位")]),a("br"),s._v(" "),a("code",[s._v("NR == 1")]),s._v("              代表定位到第一行"),a("br"),s._v(" "),a("code",[s._v("NR>=3&&NR<=5")]),s._v("      代表定位到第三行到第五行   "),a("font",{attrs:{color:"gray"}},[s._v("&&并且 ")]),a("br"),s._v(" "),a("code",[s._v("NR<=3||NR>=8")]),s._v("      代表定位到第三行到第五行   "),a("font",{attrs:{color:"gray"}},[s._v("||或者 ")]),a("br"),s._v(" "),a("strong",[s._v("正则表达式定位")]),s._v(" -- "),a("font",{attrs:{color:"brown"}},[s._v("sed可以的awk也可以")]),a("br"),s._v(" "),a("code",[s._v("$5 ~ /root/")]),s._v("         摘取读入内存的行的第6段进行正则定位,若第5段的内容包含root则定位成功"),a("br"),s._v(" "),a("code",[s._v("$5 !~ /root/")]),s._v("         定位第5段不包含root的行"),a("br"),s._v(" "),a("code",[s._v('$1=="root"')]),s._v("                 每一行进来后,只比较第一段.  "),a("font",{attrs:{color:"gray"}},[a("strong",[s._v("注意root用双引号包裹起来了哦!")])])],1),s._v(" "),a("p",[s._v("​\t"),a("strong",[s._v("命令/具体操作")]),a("br"),s._v(" "),a("code",[s._v("{print $3,$5}")]),s._v("  打印定位的行以指定分隔符分隔的第3段和第5段的内容")]),s._v(" "),a("p",[a("font",{attrs:{color:"green"}},[a("strong",[s._v("awk内置的变量")])]),a("br"),s._v(" "),a("strong",[s._v("NR")]),s._v("      读入的是第一行,NR的值为1;读入的是第n行,NR的值为n;"),a("br"),s._v(" "),a("strong",[s._v("$0")]),s._v("       一整行的内容"),a("br"),s._v(" "),a("strong",[s._v("NF")]),s._v("      以-F分隔符分隔的段数")],1),s._v(" "),a("h3",{attrs:{id:"工作流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工作流程"}},[s._v("#")]),s._v(" 工作流程")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# head -10 /etc/passwd > test.txt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\ntest.txt\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat test.txt")]),s._v("\nroot:x:0:0:root:/root:/bin/bash\nbin:x:1:1:bin:/bin:/sbin/nologin\ndaemon:x:2:2:daemon:/sbin:/sbin/nologin\nadm:x:3:4:adm:/var/adm:/sbin/nologin\nlp:x:4:7:lp:/var/spool/lpd:/sbin/nologin\nsync:x:5:0:sync:/sbin:/bin/sync\nshutdown:x:6:0:shutdown:/sbin:/sbin/shutdown\nhalt:x:7:0:halt:/sbin:/sbin/halt\nmail:x:8:12:mail:/var/spool/mail:/sbin/nologin\noperator:x:11:0:operator:/root:/sbin/nologin\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("p",[s._v("step1: awk会读取文件的一行内容然后赋值给$0"),a("br"),s._v("\nstep2: 然后awk会以-F指定的分隔符将该行切分成n段,最多可以达到100段,第一段给$1,第二段给$2,以此类推"),a("br"),s._v("\nstep3: print输出该行的第一段和第三段"),a("br"),s._v("\nstep4: 重复步骤1,2,3直到文件内容读完"),a("br"),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("Ps 此处定位的是所有行,所以每行的操作都需要经历上述流程.. ("),a("strong",[s._v("只会对定位的行进行具体的操作!!")]),s._v(")")])],1),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: '{print $1,$3}' test.txt ")]),s._v("\nroot "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nbin "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\ndaemon "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nadm "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\nlp "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sync")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("halt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\nmail "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\noperator "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"行定位"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#行定位"}},[s._v("#")]),s._v(" 行定位")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("▲ 定位文件的第三行\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: 'NR==3{print $1,$3}' test.txt")]),s._v("\ndaemon "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 等同于 sed -n '3p' test.txt ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: 'NR==3{print $0}' test.txt")]),s._v("\ndaemon:x:2:2:daemon:/sbin:/sbin/nologin\n▲ 定位文件中的第三行到第五行\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: 'NR>=3&&NR<=5{print $1,$3}' test.txt")]),s._v("\ndaemon "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nadm "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\nlp "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n▲ 定位文件中行号小于等于3或者大于等于8的行\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: 'NR<=3||NR>=8{print $1,$3}' test.txt")]),s._v("\nroot "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nbin "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\ndaemon "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("halt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\nmail "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\noperator "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("\n▲ 定位文件中的3、5、7行\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: 'NR==3||NR==5||NR==7{print $1,$3}' test.txt")]),s._v("\ndaemon "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nlp "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("h3",{attrs:{id:"正则定位"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#正则定位"}},[s._v("#")]),s._v(" 正则定位")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("▲ 定位文件中以nologin结尾的行\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: '/nologin$/{print $1}' test.txt")]),s._v("\nbin\ndaemon\nadm\nlp\nmail\noperator\n▲ 定位文件中包含root的行\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: '/root/{print $0}' test.txt")]),s._v("\nroot:x:0:0:root:/root:/bin/bash\noperator:x:11:0:operator:/root:/sbin/nologin\n▲ 定位文件中第5段包含root的行\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: '$5~/root/{print $0}' test.txt")]),s._v("\nroot:x:0:0:root:/root:/bin/bash\n▲ 定位文件中第5段不包含root的行\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: '$5!~/root/{print $0}' test.txt")]),s._v("\nbin:x:1:1:bin:/bin:/sbin/nologin\ndaemon:x:2:2:daemon:/sbin:/sbin/nologin\nadm:x:3:4:adm:/var/adm:/sbin/nologin\nlp:x:4:7:lp:/var/spool/lpd:/sbin/nologin\nsync:x:5:0:sync:/sbin:/bin/sync\nshutdown:x:6:0:shutdown:/sbin:/sbin/shutdown\nhalt:x:7:0:halt:/sbin:/sbin/halt\nmail:x:8:12:mail:/var/spool/mail:/sbin/nologin\noperator:x:11:0:operator:/root:/sbin/nologin\n▲ 定位文件中第1段为root的行\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: '$1==\"root\"{print $0}' test.txt")]),s._v("\nroot:x:0:0:root:/root:/bin/bash\n▲ 综合考察: 定位文件第1到4行且第5段不包含root的行\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: 'NR>=1&&NR<=4&&$5!~/root/{print $0}' test.txt")]),s._v("\nbin:x:1:1:bin:/bin:/sbin/nologin\ndaemon:x:2:2:daemon:/sbin:/sbin/nologin\nadm:x:3:4:adm:/var/adm:/sbin/nologin\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br")])]),a("h3",{attrs:{id:"以空格为分隔符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#以空格为分隔符"}},[s._v("#")]),s._v(" 以空格为分隔符")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat a.txt ")]),s._v("\na    b  c\nd  e      f g\nh i    g  k  l\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F\" \" '{print $1,$2}' a.txt ")]),s._v("\na b\nd e\nh i\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk '{print $1,$2}' a.txt ")]),s._v("\na b\nd e\nh i\n▲ 取第一块网卡的IP地址\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ifconfig")]),s._v("\nens33: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("flags")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("416")]),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("3")]),s._v("<")]),s._v("UP,BROADCAST,RUNNING,MULTICAST"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  mtu "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v("\n        inet "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".150.131  netmask "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0  broadcast "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".150.255\n        inet6 fe80::20c:29ff:fe90:303e  prefixlen "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("  scopeid 0x2"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v("<")]),s._v("link"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        ether 00:0c:29:90:30:3e  txqueuelen "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ethernet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ifconfig | awk 'NR==2{print $2}'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".150.131\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ifconfig | awk 'NR==2{print $2}' | awk -F. '{print $1}'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("h3",{attrs:{id:"nf的妙用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nf的妙用"}},[s._v("#")]),s._v(" NF的妙用")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("▲ 每一行的分隔段数不一样,打印行号和每行分隔的段数以及每行的最后一段和倒数第二段的内容\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat b.txt ")]),s._v("\na:b:c\nd:e\nf:g:h:i:j\nk:l:M:n\no:p\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mnt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# awk -F: '{print NR,NF,$NF,$(NF-1)}' b.txt ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" c b\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" e d\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" j i\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" n M\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" p o\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"grep"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grep"}},[s._v("#")]),s._v(" grep")]),s._v(" "),a("blockquote",[a("p",[s._v("grep更擅长过滤内容, < "),a("em",[s._v("grep没有行定位的概念,作用的就是整个文件!")]),s._v(" >")]),s._v(" "),a("p",[a("strong",[s._v('grep  选项  "过滤规则/正则"  文件路径')])])]),s._v(" "),a("p",[a("font",{attrs:{color:"blue"}},[a("strong",[s._v("[选项]")])]),a("br"),s._v(" "),a("strong",[s._v("-n")]),s._v("      在过滤出的每一行前面加上它在源文件中的行号"),a("br"),s._v(" "),a("strong",[s._v("-i")]),s._v("      忽略大小写"),a("br"),s._v(" "),a("strong",[s._v("-l")]),s._v("      如果文件的某一行符合过滤规则, 则只将文件名打印出来, 失败则不打印"),a("br"),s._v(" "),a("strong",[s._v("-r")]),s._v("      递归文件夹里的文件"),a("br"),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("Ps:  "),a("strong",[s._v("通常 -rl 一起用")]),s._v(" "),a("code",[s._v("grep -rl 'root' /etc")])]),a("br"),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("某个文件夹里有一堆文件,当忘记了某个配置项在哪个文件里时可以用.")])],1),s._v(" "),a("p",[a("strong",[s._v("-v")]),s._v(" "),a("strong",[s._v("过滤掉")]),s._v(", 其余的选项都是过滤出符合规则的行.")]),s._v(" "),a("p",[a("font",{attrs:{color:"blue"}},[a("strong",[s._v("[过滤规则]")])]),a("br"),s._v("\n     本质就是正则, 现目前只需要掌握  "),a("code",[s._v("/egon/")]),s._v(" "),a("code",[s._v("/^egon/")]),s._v(" "),a("code",[s._v("/egon$/")]),s._v("即可.")],1),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost opt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# grep -rl 'egon' /etc")]),s._v("\n/etc/udev/hwdb.bin\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost opt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# grep -n 'bash$' /etc/passwd")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":root:x:0:0:root:/root:/bin/bash\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v(":onepiece:x:1000:1000:OnePiece:/home/onepiece:/bin/bash\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(":dc:x:1001:1001::/home/dc:/bin/bash\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost opt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ifconfig ens33 | grep 'netmask'")]),s._v("\n        inet "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".150.131  netmask "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0  broadcast "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".150.255\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost opt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# ps aux | grep "ssh"')]),s._v("\nroot       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1093")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("112984")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("392")]),s._v(" ?        Ss   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月11   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 /usr/sbin/sshd "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v("\nroot       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1881")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72552")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v(" ?        Ss   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月11   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":06 /usr/bin/ssh-agent /bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32633")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("163888")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2004")]),s._v(" ?        Ss   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":53   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":04 sshd: root@pts/1\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("41008")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("112824")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("988")]),s._v(" pts/1    R+   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":50   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--color")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 等同于 ps aux | grep "[s]sh"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost opt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# ps aux | grep "ssh" | grep -v "grep"')]),s._v("\nroot       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1093")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("112984")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("392")]),s._v(" ?        Ss   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月11   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 /usr/sbin/sshd "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v("\nroot       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1881")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72552")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v(" ?        Ss   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月11   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":06 /usr/bin/ssh-agent /bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nroot      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32633")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("163888")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2004")]),s._v(" ?        Ss   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":53   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":04 sshd: root@pts/1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[a("font",{attrs:{color:"gray"}},[s._v("linux上查看所有的进程"),a("code",[s._v("ps aux")]),s._v("; 强制杀死某个进程 "),a("code",[s._v("kill -9 进程号")]),s._v(";  ")]),a("br"),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("windows上查看进程并过滤 "),a("code",[s._v('tasklist | findstr "WeChat.exe"')]),s._v("; 杀死进程 "),a("code",[s._v("taskkill /F /PID 进程号")])])],1),s._v(" "),a("hr"),s._v(" "),a("p",[s._v("文本处理三剑客 sed、awk、grep 在后续的shell编程里会详解它仨! (如果会系统学习shell编程的话)")])])}),[],!1,null,null,null);t.default=r.exports},486:function(s,t,n){s.exports=n.p+"assets/img/11.a442b02a.jpg"},487:function(s,t,n){s.exports=n.p+"assets/img/5.2eb1f966.jpeg"},488:function(s,t,n){s.exports=n.p+"assets/img/6.4d361201.jpeg"},489:function(s,t,n){s.exports=n.p+"assets/img/sed.2cfc7170.png"}}]);