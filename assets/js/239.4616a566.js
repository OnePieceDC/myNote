(window.webpackJsonp=window.webpackJsonp||[]).push([[239],{1213:function(s,a,t){"use strict";t.r(a);var n=t(0),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"crond简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#crond简介"}},[s._v("#")]),s._v(" Crond简介")]),s._v(" "),t("blockquote",[t("p",[s._v("定时任务: 指定某个日期或时间周期性的执行指令"),t("br"),s._v("\n参考文档链接: "),t("code",[s._v("https://zhuanlan.zhihu.com/p/338375307")])])]),s._v(" "),t("p",[s._v("Crond是Linux系统中用来定期执行命令或脚本的一种服务软件, 一般情况下, 我们安装完CentOS操作系统之后, 默认便会启动Crond任务调度服务...")]),s._v(" "),t("p",[s._v("Crond服务会定期(默认每分钟检查一次)检查系统中是否有要执行的任务工作, 若有, 便会根据其预先设定的定时任务规则自动执行该定时任务工作...")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -ef | grep crond | grep -v grep")]),s._v("\nroot       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1081")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 09:03 ?        00:00:00 /usr/sbin/crond "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("hr"),s._v(" "),t("h2",{attrs:{id:"crond使用场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#crond使用场景"}},[s._v("#")]),s._v(" Crond使用场景")]),s._v(" "),t("blockquote",[t("p",[s._v("定期备份数据, 定期执行脚本程序")])]),s._v(" "),t("p",[t("strong",[s._v("系统级别的定时任务")]),t("br"),s._v("\n        临时文件清理例/tmp和/var/tmp等、系统信息采集、日志文件切割")]),s._v(" "),t("p",[t("strong",[s._v("用户级别的定时任务")]),t("br"),s._v("\n        定时向互联网同步时间、定时备份系统配置文件、定时备份数据库的数据")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mem_total")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NR==2 {print $2}'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mem_used")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NR==2 {print $3}'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mem_free")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NR==2 {print $4}'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mem_percent")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NR==2 {printf \"%.2f%\\n\", ($3/$2)*100}'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"---- mem check info ----"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"总内存(M): '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$mem_total")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"已使用(M): '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$mem_used")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"剩余量(M): '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$mem_free")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"使用率: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$mem_percent")]),s._v('"')]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bash mem_check.sh")]),s._v("\n---- mem check info ----\n总内存"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("M"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("972")]),s._v("\n已使用"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("M"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("208")]),s._v("\n剩余量"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("M"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("425")]),s._v("\n使用率: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21.40")]),s._v("%\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 今天备份昨天的")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /var/log/messages /var/log/messages-"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%Y%m%d "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-1 day'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("hr"),s._v(" "),t("h2",{attrs:{id:"定时任务管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定时任务管理"}},[s._v("#")]),s._v(" 定时任务管理")]),s._v(" "),t("h3",{attrs:{id:"etc-crontab"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#etc-crontab"}},[s._v("#")]),s._v(" /etc/crontab")]),s._v(" "),t("blockquote",[t("p",[s._v("分钟 小时 日 月 周")])]),s._v(" "),t("p",[s._v("*        表示任意的(分时日月周)都会运行"),t("br"),s._v("\n-        表示一个时间范围, eg 5-7点"),t("br"),s._v("\n,        表示分隔时段, 如6,0,4表示周六、日、四"),t("br"),s._v("\n/1        表示每隔n单位时间, 如*/10 每10分钟")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /etc/crontab")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("SHELL")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/bin/bash\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/sbin:/bin:/usr/sbin:/usr/bin\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MAILTO")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# For details see man 4 crontabs")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Example of job definition:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# .---------------- minute (0 - 59)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# |  .------------- hour (0 - 23)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# |  |  .---------- day of month (1 - 31)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# |  |  |  |  |")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# *  *  *  *  * user-name  command to be executed")]),s._v("\n\n可以在此文件里编写定时任务,亦可以crontab "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" 创建定时任务\n* * * * * "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /tmp/1.txt\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# -- 每分钟往1.txt文件写入一次"hello world"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("h3",{attrs:{id:"编写举例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编写举例"}},[s._v("#")]),s._v(" 编写举例")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("分钟 小时 日 月 周\n\n00 02 * * *       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每天的凌晨2点整执行")]),s._v("\n\n00 02 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" * *       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每月的1日的凌晨2点整执行")]),s._v("\n\n00 02 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" *      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每年的2月14日凌晨2点执行")]),s._v("\n\n00 02 * * "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每周天的凌晨2点整执行")]),s._v("\n\n00 02 * "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每年的6月周五凌晨2点执行")]),s._v("\n\n00 02 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" * "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每月14日或每周日的凌晨2点都执行")]),s._v("\n\n00 02 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每年的2月14日或每年2月的周天的凌晨2点执行")]),s._v("\n\n*/10 02 * * *     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每天凌晨2点,每隔10分钟执行一次")]),s._v("\n\n* * * * *         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每分钟都执行")]),s._v("\n\n00 00 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" *      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每年2月14日的凌晨执行命令")]),s._v("\n\n*/5 * * * *       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每隔5分钟执行一次")]),s._v("\n\n00 02 * "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1,5")]),s._v(",8 *   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每年的1月5月8月凌晨2点执行")]),s._v("\n\n00 02 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("-8 * *     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每月1号到8号凌晨2点执行")]),s._v("\n\n00 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" * * *       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每天晚上21:00执行")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1,10")]),s._v(",22 * *  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每月1、10、22日的4:45执行")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("-10 * *     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每月1到10日的4:45执行")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3,15")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("-11 */2 * * "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 每隔两天的上午8点到11点的第3和第15分钟执行")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v("-7/2 * * *    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 晚上11点到早上7点之间,每隔两小时执行")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" * * "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("-5     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 周一到周五每天晚上21:15执行")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br")])]),t("h3",{attrs:{id:"命令选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令选项"}},[s._v("#")]),s._v(" 命令选项")]),s._v(" "),t("p",[s._v("-e      编辑定时任务"),t("br"),s._v("\n-l      查看定时任务"),t("br"),s._v("\n-r      删除定时任务"),t("br"),s._v("\n-u      指定其他用户")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# crontab -l")]),s._v("\n* * * * * "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /tmp/1.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("hr"),s._v(" "),t("h2",{attrs:{id:"定时任务实践"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定时任务实践"}},[s._v("#")]),s._v(" 定时任务实践")]),s._v(" "),t("p",[s._v("▲ 使用root用户每5分钟执行一次时间同步.")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- step1:安装nptdate包")]),s._v("\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" ntpdate\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- step2:测试时间同步命令 (返回结果没有报错即可)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ntpdate ntp.aliyun.com")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" Aug "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":45:19 ntpdate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11577")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": adjust "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" server "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("203.107")]),s._v(".6.88 offset "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.178911")]),s._v(" sec\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- step3:确定命令所在目录 在 /etc/crontab文件的PATH字段所包含的目录下")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 不在的话,编写定时任务时候,可用绝对路径解决！！")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /etc/crontab | grep PATH")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/sbin:/bin:/usr/sbin:/usr/bin\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# which ntpdate")]),s._v("\n/usr/sbin/ntpdate\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- step4:配置并查看定时任务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# crontab -e")]),s._v("\ncrontab: installing new "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# crontab -l")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 每5分钟执行一次时间同步 最好使用绝对路径 /usr/sbin/ntpdate ntp.aliyun.com")]),s._v("\n*/5 * * * * ntpdate ntp.aliyun.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("p",[s._v("▲ 备份案例"),t("br"),s._v(" "),t("strong",[s._v("需求:")]),t("br"),s._v("\n     提前准备备份文件目录,命名规则: /backup/web01_172.16.150.131_2022-08-30"),t("br"),s._v("\n     打包备份文件: 名字 2022-08-30_hostname_etc.tar.gz"),t("br"),s._v("\n     验证文件是否完整"),t("br"),s._v("\n     将验证结果发送到邮箱"),t("br"),s._v("\n     存放备份内容的目录要求只保留3天的数据"),t("br"),s._v("\n     每天的凌晨3点50执行该备份")]),s._v(" "),t("p",[s._v("脚本文件 "),t("code",[s._v("bei.sh")]),s._v(" 的内容如下:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("hostname")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("hostname")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ip")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("hostname")]),s._v(" -I"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $1}'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("date")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%F"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v("  /backup/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${hostname}")]),s._v("_"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ip}")]),s._v("_"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${date}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" zcf /backup/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${hostname}")]),s._v("_"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ip}")]),s._v("_"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${date}")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${date}")]),s._v("_"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${hostname}")]),s._v("_etc.tar.gz /etc\nmd5sum /backup/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${hostname}")]),s._v("_"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ip}")]),s._v("_"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${date}")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${date}")]),s._v("_"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${hostname}")]),s._v("_etc.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /backup/flag.txt\nmd5sum "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" /backup/flag.txt "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /backup/mail.txt\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 将验证结果发送到邮箱 此过程略.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" /backup/ "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-type")]),s._v(" f "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-mtime")]),s._v(" +3 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("写入定时任务:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 写入命令 \t50 3 * * * /bin/bash ~/bei.sh")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("hr"),s._v(" "),t("h2",{attrs:{id:"定时任务编写"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定时任务编写"}},[s._v("#")]),s._v(" 定时任务编写")]),s._v(" "),t("h3",{attrs:{id:"思路"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#思路"}},[s._v("#")]),s._v(" 思路")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".手动执行命令,然后保留执行成功的结果\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".编写脚本\n  脚本需要统一路径/scripts\n  脚本内容复制执行成功的命令"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("减少每个环节出错几率"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  脚本内容尽可能的优化,使用一些变量或简单的判断语句\n  脚本执行的输出信息可以重定向至其它位置保留或写入/dev/null\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".执行脚本\n  使用bash命令执行,防止脚本没有增加执行权限"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/usr/bin/bash /bin/bash"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  执行脚本成功后,复制该执行的命令,以便写入cron\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".编写定时任务\n  加上必要的注释信息, 人、时间、任务\n  设定定时任务执行的周期\n  粘贴执行脚本的命令"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("不要手敲"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".调试定时任务\n  增加任务频率测试\n  检查环境变量问题"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("最好在脚本中重新定义环境变量"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  检查crond服务日志  /var/log/cron\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h3",{attrs:{id:"注意点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#注意点"}},[s._v("#")]),s._v(" 注意点")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" 定时任务规则配置一定要加注释\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" 定时任务里面尽量使用脚本\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("3")]),s._v(">")]),s._v(" 运行脚本习惯性的使用绝对路径 用户的定时任务中的文件默认存放在当前用户的家目录\n   比如: /bin/bash ~/bei.sh bash命令用的绝对路径\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("4")]),s._v(">")]),s._v(" 脚本或者命令的执行结果尽量将有用的定义到指定日志,没用的定义到空\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("5")]),s._v(">")]),s._v(" 避免不必要的输出 比如: "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-zcvf")]),s._v(" etc.tar.gz /etc  f选项会输出打包的过程,没必要加这个选项\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("6")]),s._v(">")]),s._v(" 打包压缩命令使用绝对路径\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("7")]),s._v(">")]),s._v(" 系统与命令位置有关的环境变量问题,建议脚本中重新定义环境变量"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("8")]),s._v(">")]),s._v(" 定时任务中date命令的百分号需转义才能使用\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("hr")])}),[],!1,null,null,null);a.default=e.exports}}]);