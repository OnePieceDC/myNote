(window.webpackJsonp=window.webpackJsonp||[]).push([[261],{1283:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"request"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request"}},[s._v("#")]),s._v(" Request")]),s._v(" "),a("p",[s._v("首先, 提醒一点, REST framework 传入视图的request对象不再是Django默认的HttpRequest对象"),a("br"),s._v("\n而是 "),a("font",{attrs:{color:"brown"}},[s._v("REST framework提供的扩展了HttpRequest类的Request类的对象")]),s._v("!!"),a("br"),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("在前面有对Request类进行过分析!!详情请到 APIView.md中查看!")])],1),s._v(" "),a("h3",{attrs:{id:"常用属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用属性"}},[s._v("#")]),s._v(" 常用属性")]),s._v(" "),a("blockquote",[a("p",[s._v("Request类的实例化对象 (此处是request) 的常用属性")])]),s._v(" "),a("p",[s._v("1> "),a("font",{attrs:{color:"red"}},[a("code",[s._v("request.data")])]),s._v(" 包含了对POST、PUT、PATCH请求方式解析后的数据.."),a("br"),s._v("\n     type(request.data)的结果取决于前端编码的格式.  urlencoded、formdata --\x3e querydict ; json --\x3e dict"),a("br"),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("这一点不是很重要,管它什么格式,request.data拿到后, "),a("strong",[s._v("直接当作字典用就行啦")]),s._v(" !!")]),a("br"),s._v("\n2> "),a("code",[s._v("request.query_params")]),s._v(" 与Django标准的request.GET相同，只是更换了更正确的名称而已")],1),s._v(" "),a("h3",{attrs:{id:"接口支持的编码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#接口支持的编码"}},[s._v("#")]),s._v(" 接口支持的编码")]),s._v(" "),a("blockquote",[a("p",[s._v("可以通过配置, 设置后端接口 支持/能够解析 的编码格式, 默认情况三种编码格式都支持!!")])]),s._v(" "),a("p",[a("font",{attrs:{color:"red"}},[a("strong",[s._v("查找顺序/优先级:")]),s._v(" 视图类局部 -- 项目配置文件 -- drf的配置文件 ")]),a("br"),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("因为有优先级存在,可以局部和全局配置结合着使用!!")])],1),s._v(" "),a("h5",{attrs:{id:"局部配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#局部配置"}},[s._v("#")]),s._v(" 局部配置")]),s._v(" "),a("blockquote",[a("p",[s._v("在视图类中写类属性 parser_classes")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" rest_framework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("views "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" APIView\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" rest_framework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("response "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Response\n"),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v("\"\"\"\nJSONParser -- 解析json格式 'application/json'\nFormParser -- 解析from表单格式 'application/x-www-form-urlencoded'\nMultiPartParser -- 解析文件格式 'multipart/form-data'\n\"\"\"")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" rest_framework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parsers "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" JSONParser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" FormParser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" MultiPartParser\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IndexView")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("APIView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 需求:想要后端视图类IndexView中post/put/patch请求类型的接口只 支持/接收 前端json编码的数据!!  ")]),s._v("\n    parser_classes "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("JSONParser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'get'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不符合,返回前端的报错信息.      ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# {")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#     "detail": "Unsupported media type \\"application/x-www-form-urlencoded\\" in request."')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# }")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("h5",{attrs:{id:"全局配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局配置"}},[s._v("#")]),s._v(" 全局配置")]),s._v(" "),a("blockquote",[a("p",[s._v("在项目的settings.py中配置")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("REST_FRAMEWORK "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 全局解析的编码格式 全局生效,所有接口都支持")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    只不过是在自己项目的settings.py文件覆盖了drf内置配置文件settings.py里这部分的配置")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'DEFAULT_PARSER_CLASSES'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rest_framework.parsers.JSONParser'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'rest_framework.parsers.FormParser',")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'rest_framework.parsers.MultiPartParser'")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"response"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#response"}},[s._v("#")]),s._v(" Response")]),s._v(" "),a("blockquote",[a("p",[s._v("drf的Response类的父类继承了Django的HttpResponse!!"),a("br"),s._v("\n以后我们接口返回的都是Response类的实例化对象!")])]),s._v(" "),a("h3",{attrs:{id:"构造方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构造方式"}},[s._v("#")]),s._v(" 构造方式")]),s._v(" "),a("blockquote",[a("p",[s._v("Response实例化对象的属性:"),a("br"),s._v(" "),a("code",[s._v("Response(data, status=None, template_name=None, headers=None, exception=False, content_type=None)")])])]),s._v(" "),a("p",[s._v("△ "),a("strong",[s._v("data:")]),a("br"),s._v("\n          要返回的数据,放到了Http响应的响应体中!"),a("br"),s._v("\n          若传列表、字典,会序列化成json格式返回、若传字符串返回的也是字符串,不变."),a("br"),s._v("\n△ "),a("strong",[s._v("status:")]),a("br"),s._v("\n          http响应的状态码,默认为200."),a("br"),s._v("\n          drf将所有的http状态码都定义成了常量,放到了rest_framework.status下 "),a("code",[s._v("from rest_framework import status")]),a("br"),s._v("\n△ "),a("strong",[s._v("headers:")]),a("br"),s._v("\n          用于往http响应头里写k-v的数据,是个字典"),a("br"),s._v("\n△ "),a("strong",[s._v("content_type:")]),a("br"),s._v("\n          响应的编码格式,此参数无需传递,REST framework会根据前端所需类型数据来自动设置该参数."),a("br"),s._v(" "),a("font",{attrs:{color:"gray"}},[s._v("Ps: template_name、exception不用管.")])],1),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("原生的Django往响应头里写k"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v数据"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("怎么做的?\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    res "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" HttpResponse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ok'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'lqz'")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 往响应头里写入name=lqz ")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" res\n\n信息告知 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 1xx\n成功 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 2xx\n重定向 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 3xx\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("301")]),s._v(" 永久重定向\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("302")]),s._v(" 临时重定向\n客户端错误 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 4xx\n服务器错误 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" 5xx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h3",{attrs:{id:"响应显示格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#响应显示格式"}},[s._v("#")]),s._v(" 响应显示格式")]),s._v(" "),a("blockquote",[a("p",[s._v("响应数据回去后,是显示浏览器里drf提供的那个好看的页面,还是postman里的json格式,可以进行配置.")])]),s._v(" "),a("h5",{attrs:{id:"局部配置-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#局部配置-2"}},[s._v("#")]),s._v(" 局部配置")]),s._v(" "),a("blockquote",[a("p",[s._v("在视图类中写类属性 renderer_classes")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" rest_framework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("views "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" APIView\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" rest_framework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("response "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Response\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" rest_framework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parsers "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" JSONParser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" FormParser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" MultiPartParser\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" rest_framework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("renderers "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" JSONOpenAPIRenderer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" BrowsableAPIRenderer\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IndexView")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("APIView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    parser_classes "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("JSONParser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    renderer_classes "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("JSONOpenAPIRenderer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'get'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h5",{attrs:{id:"全局配置-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局配置-2"}},[s._v("#")]),s._v(" 全局配置")]),s._v(" "),a("blockquote",[a("p",[s._v("和配置前端数据的编码格式一样,在项目的settings.py中配置")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("REST_FRAMEWORK "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 前端数据编码格式/后端解析数据的格式")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'DEFAULT_PARSER_CLASSES'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rest_framework.parsers.JSONParser'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'rest_framework.parsers.FormParser',")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'rest_framework.parsers.MultiPartParser'")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 默认响应渲染类")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    若想浏览器访问也是json的话,把BrowsableAPIRenderer那行代码注释点即可.")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'DEFAULT_RENDERER_CLASSES'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("  \n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rest_framework.renderers.JSONRenderer'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- json渲染器")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rest_framework.renderers.BrowsableAPIRenderer'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 浏览API渲染器")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("hr")])}),[],!1,null,null,null);t.default=e.exports}}]);