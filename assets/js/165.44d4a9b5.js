(window.webpackJsonp=window.webpackJsonp||[]).push([[165],{1207:function(s,a,t){"use strict";t.r(a);var n=t(0),r=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"进程回顾"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进程回顾"}},[s._v("#")]),s._v(" 进程回顾!!")]),s._v(" "),n("blockquote",[n("p",[n("font",{attrs:{color:"red"}},[s._v("<进程>是 "),n("strong",[s._v("操作系统分配资源")]),s._v(" 的最小单位; <线程>是程序执行/ "),n("strong",[s._v("cpu调度")]),s._v(" 的最小单位")])],1)]),s._v(" "),n("p",[s._v("程序     -- 一堆代码文件"),n("br"),s._v("\n进程     -- "),n("code",[s._v("进程 = 资源申请(开辟内存空间) + 程序执行(运行代码)")]),n("br"),s._v("\n             一般会笼统的说是程序的运行过程; 严谨点这种说法指的是线程 即"),n("strong",[s._v("进程 = 资源申请 + 多个线程执行")]),n("br"),s._v("\n             亦或者说是操作系统控制着硬件去运行程序的过程;"),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[n("strong",[s._v("进程是操作系统最核心的概念,没有之一!")])]),n("br"),s._v("\n并发     -- "),n("em",[s._v("多个")]),s._v(" "),n("font",{attrs:{color:"brown"}},[s._v("任务")]),s._v(" "),n("font",{attrs:{color:"green"}},[s._v("看起来")]),s._v(" 是 "),n("strong",[s._v("同时运行")]),s._v(" 的即可."),n("br"),s._v("\n             OS的多道技术实现并发: (这里讨论一个cpu的情况下),先将多个任务读到内存里,"),n("br"),s._v("\n                  实现空间上的复用 -- 任务跟任务之间内存空间上实现物理("),n("em",[s._v("即硬件")]),s._v(")层面的互相隔离;"),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("详细来说,就涉及到虚拟内存,虚拟地址,内存分页等OS内存管理的知识啦..不必深究!!")]),n("br"),s._v("\n             实现时间上的复用 -- 简单来说, "),n("strong",[s._v("cpu在多个任务之间快速来回切换..")]),s._v(" "),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("通常采用的是时间片轮转的抢占式调度方式..由于CPU的执行效率非常高,时间片非常短,")]),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v('在各个任务之间快速地切换，给人的感觉就是多个任务在"同时进行" ')]),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("Ps: cpu的性能很强,能快速在上万个任务之间切换,但也要受限于内存能装下上万个任务.. ")]),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v(" 提升计算机的性能 -- 加内存条;提升软件的启动速度,IO相关 -- 用固态硬盘..")]),n("br"),s._v("\n并行     -- "),n("em",[s._v("多个")]),s._v(" "),n("font",{attrs:{color:"brown"}},[s._v("任务")]),s._v(" 是 "),n("font",{attrs:{color:"green"}},[s._v("真正的")]),s._v(" "),n("strong",[s._v("同时运行")]),s._v(" 的. "),n("font",{attrs:{color:"red"}},[s._v("只有 "),n("strong",[s._v("多核")]),s._v(" 才能实现并行..")]),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("4核8线程, 比纯8核性能低一些,比纯4核要强一些.. ")]),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("4核 -- 不管真实情况下有多个cpu,但4个核心就相当于4个cpu;")]),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("8线程 -- 每一个核可以同时运行两条流水线; 4X2=8;")]),s._v("\t\n线程\t-- 随着计算机的发展, 对CPU的要求越来越高, 进程之间的切换开销较大, 已经无法满足越来越复杂的程序的                  要求,于是就发明了线程.它是从进程里剥离出的一个概念. 单指进程概念里 代码的执行过程."),n("br"),s._v(" "),n("strong",[s._v("一个进程内至少有一个线程..")]),s._v(" 线程才是cpu上的执行单位("),n("font",{attrs:{color:"brown"}},[s._v("即上文的任务严谨点指的就是线程")]),s._v(")"),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[n("strong",[s._v("强调!")]),s._v(" cpu是运行代码的,硬盘、内存、网卡等硬件设备才是做IO的")]),s._v(" "),n("br"),s._v("\n多线程     -- "),n("strong",[s._v("一个进程内开多个线程")]),s._v(", "),n("font",{attrs:{color:"brown"}},[s._v("注意哦 是 "),n("strong",[s._v("一个")]),s._v(" 进程 ")]),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("打个比方,OS是一个工厂,一个进程就是该工厂的一个车间,"),n("strong",[s._v("车间是一个资源单位")]),s._v(";")]),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("一个车间里面可以有用于加工的一条或多条流水线(线程)")]),n("br"),s._v(" "),n("font",{attrs:{color:"red"}},[n("strong",[s._v("特点:")])]),s._v("一个进程里的多个线程可以 "),n("strong",[s._v("共享")]),s._v(" 该进程的内存资源!!\t"),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("当然线程拥有属于自己的一小部分资源, 就是栈空间, 保存其运行状态和局部自动变量的 ")]),n("br"),s._v("\n                        不同进程里的多个线程的内存资源 "),n("strong",[s._v("互相隔离")]),s._v(" !!\t\t"),n("br"),s._v("\n任务的三种运行状态\t-- 非阻塞态(运行态 就绪态)、阻塞态"),n("br"),s._v("\n提交任务的方式\t-- 同步、异步"),n("br"),s._v(" "),n("font",{attrs:{color:"blue"}},[s._v("Ps: 提交任务的方式与任务的三种运行状态"),n("strong",[s._v("不能混为一谈")]),s._v("!!尽管同步跟阻塞都会有一种让人等待的感觉... ")]),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("以同步提交的方式提交的任务,会在原地等待,在此期间任务可能会进入阻塞态或非阻塞态.. ")])],1),s._v(" "),n("p",[s._v("Q: 若需要 "),n("strong",[s._v("并发")]),s._v(" 10个任务,如何实现？"),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("并发第一反应是cpu会在10个任务之间不停调度,跟4核8线程什么的并行没直接关系.. ")]),n("br"),s._v("\nA: 方案一:一个车间里开10条流水线; 方案二: 有10个车间,每个车间都只有一条流水线.."),n("br"),s._v("\n     前者肯定优于后者,因为启用进程的开销比线程大. "),n("strong",[s._v("启动进程涉及到非常耗费资源的申请内存空间的IO操作.")]),n("br"),s._v("\n     启用线程就是开一条流水线,就只需要通知操作系统一声,叫OS帮忙调度下此流水线.."),n("br"),s._v(" "),n("font",{attrs:{color:"brown"}},[s._v("So, 若只是并发的话,推荐一个进程里开多个线程..")]),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("Ps: nginx不是单纯使用方案一,假设cpu是4核的,就会开启4个进程,若每个进程里有20个线程,就可以并发80个任务..")])],1),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("乘上启下:\n    先理清几个说法\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" 因为一个进程内至少有一个线程,so,我们说cpu调度进程,准确点是指cpu调度进程内的那个线程"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" 并行只适用于多核,若是4核,意味着可以并行4个线程.\n       每个核不可能长时间固定调度同一个线程,核就需要在多个线程之间切换,方式之一就是时间片"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("查看进程信息,没有特殊指明多线程的话,可以简单理解成查看进程里那一个线程的信息.\n    "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("任务的三种运行状态"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("之间的切换同理.此处的任务可以简单理解成线程.\n\t\t\n补充几个知识点"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("自己理解的很笼统,不是很准确,但大体意思到差不差的"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n    作业、程序、进程之间的关系 详见0_计算机基础/2_操作系统.md 多道技术"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" -- 并发 这部分的内容\n    ▲ 父子进程\n      同一个程序可能对应多个进程\n      父进程:程序运行时产生的第一个进程 \n      子进程:由父进程衍生fork"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("出来的进程,子进程几乎是父进程的完全复制"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PID肯定是不一样的"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            子进程再调用exec把自身替换为新的进程,PID与"),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("是不变的\n            但原来子进程的代码段、堆栈段、数据段会被新的内容取代,用来执行新的程序\n            这样fork和exec就成为一种组合,虽然这种组合会造成较大负担\n          注意:如果父进程终止,子进程也会随之被终止\n       fork的用途:在许多客户-服务器C/S应用程序中,会有许多fork执行同一个程序的进程,\n                用fork函数创建多个子进程来实现客户端的请求业务,因此用fork方式可以实现服务器端的并发应用\n                服务器端可以消除客户端请求所要创建新进程的开销\n       Ps:可能现目前看来不合理,但这样设计有历史遗留,刚开始时内存很小等导致的.\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("具体的暂且不想深入研究了"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n          fork-exec的由来可参考 https://www.zhihu.com/question/66902460\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])]),n("hr"),s._v(" "),n("h2",{attrs:{id:"查看进程信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看进程信息"}},[s._v("#")]),s._v(" 查看进程信息")]),s._v(" "),n("h3",{attrs:{id:"ps-aux"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ps-aux"}},[s._v("#")]),s._v(" ps aux")]),s._v(" "),n("blockquote",[n("p",[n("strong",[s._v("ps aux")]),s._v("\t查看操作系统中 "),n("font",{attrs:{color:"brown"}},[n("strong",[s._v("那一时刻")])]),s._v("  所有运行的进程( "),n("em",[n("strong",[s._v("前后台")]),s._v("的都有")]),s._v(" )信息 不具备实时性.")],1)]),s._v(" "),n("p",[s._v("选项:"),n("br"),s._v("\n     -a      该终端所有进程;"),n("br"),s._v("\n     -u      显示用户 ;"),n("br"),s._v("\n     -x      显示命令的绝对路径.")]),s._v(" "),n("p",[n("font",{attrs:{color:"gray"}},[s._v("Ps: windows上有实现类似功能的命令 "),n("code",[s._v("tasklist | findstr 具体某一个进程")])])],1),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | head -n 3")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("        PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\nroot          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("199756")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3036")]),s._v(" ?        Ss   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("月05   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(":55 /usr/lib/systemd/systemd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\nroot          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ?        S    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("月05   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kthreadd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\nPs:PID为1的进程是个软件,详细介绍详见1_linux基础/0_准备工作.md Linux启动流程这一小节的内容"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('"\n'),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("      运行进程的用户\nPID       进程的ID号\n%CPU      CPU占用率,该进程占用CPU的百分比\n%MEM      内存占用率\nVSZ       占用虚拟内存的大小"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("单位字节Kb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n          简单的来说,进程在启动时会预先申请好一块线性空间,分配好后,不一定会全用\n          内存映射、共享的动态库、或者向系统申请了更多的堆等,都会扩展线性空间大小TnT\n          注意"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" \n              这里的虚拟内存不是指swap分区虚拟内存的大小"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("两者没有关系.\n              我觉得VSZ是指进程需要的线性地址空间的大小"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("Hhhh\nRSS       进程实际占用的物理内存大小"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("单位字节Kb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nTTY       该进程在哪个终端运行的\t\n          "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("？"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" 问号代表没有在任何一个终端提交,代表开机自动启动起来的\n          终端？CTTS -- MULTICS -- unix -- minix -- linux -- linux发行版:redhat、centos\n             linux继承了MULTICS,自动保留几个联机终端"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(" \n                 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("个真实的终端 /dev/tty1 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". /dev/tty6\n             xshell远程连接看到的终端是预留的终端以外通过ssh虚拟模拟出来的终端,不是真实的终端.\n                 /dev/pts/0\t/dev/pts/1 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("代表第一个虚拟的Bash Shell终端 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("代表第2个 以此类推"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tty")]),s._v("\n          /dev/pts/0\n★STAT     进程的状态 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("最好记住"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" R、S、D、T、Z、X\t\t\nSTART     进程的启动时间\nTIME      进程占用CPU的总时间\nCOMMAND   进程的绝对路径,当然有些没有绝对路径 \n          用"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("包裹起来的代表内核态"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("运行操作系统的代码"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("的进程\n          不带"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("号的代表用户态"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("运行应用程序代码"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("进程\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br")])]),n("h3",{attrs:{id:"pstree"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pstree"}},[s._v("#")]),s._v(" pstree")]),s._v(" "),n("blockquote",[n("p",[s._v("查看进程树")])]),s._v(" "),n("p",[s._v("查看某一个进程的进程树: "),n("code",[s._v("pstree 进程PID")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep nginx")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("56062")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("112824")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("988")]),s._v(" pts/1    S+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":21   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--color")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto nginx\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("75065")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20576")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" ?        Ss   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("月21   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 nginx: master process /usr/local/nginx-1.22.0/sbin/nginx\nnobody    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("75066")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23104")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" ?        S    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("月21   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 nginx: worker process\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pstree 75065")]),s._v("\nnginx───nginx\n\n注意哦"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("若是最小化安装,没有pstree命令,安装下即可 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-qf")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" pstree"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h3",{attrs:{id:"ppid"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ppid"}},[s._v("#")]),s._v(" ppid")]),s._v(" "),n("blockquote",[n("p",[s._v("ppid 即parent pid..  代表这个进程是由哪个进程发展衍生而来的, 即查看父进程PID")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -elf | head -1")]),s._v("\nF S "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("         PID   "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("  C PRI  NI ADDR SZ WCHAN  STIME TTY          TIME CMD\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -elf | grep [n]ginx")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" S root      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("75065")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5144")]),s._v(" sigsus "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("月21 ?       00:00:00 nginx: master process /usr/local/nginx-1.22.0/sbin/nginx\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 可以发现 75066进程的父进程是75065")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" S nobody    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("75066")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("75065")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5776")]),s._v(" ep_pol "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("月21 ?       00:00:00 nginx: worker process\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"pgrep"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pgrep"}},[s._v("#")]),s._v(" pgrep")]),s._v(" "),n("p",[n("code",[s._v("pgrep 进程名")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pgrep nginx")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("75065")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("75066")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("查看由某个用户开启的进程 "),n("code",[s._v("pgrep -l -u 用户名")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pgrep -l -u root | head -5")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" systemd\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" kthreadd\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" kworker/0:0H\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" ksoftirqd/0\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" migration/0\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# id dc")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("uid")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("dc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gid")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("dc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 组"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("dc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# su - dc -c "sleep 10000" &')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57035")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pgrep -l -u dc")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57037")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 这种方式的话,就需要看第一列是dc")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep dc")]),s._v("\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1987")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("376184")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("176")]),s._v(" ?        Sl   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("月14   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 /usr/libexec/ibus-dconf\nroot       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("187400")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("356")]),s._v(" ?        Sl   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("月14   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 /usr/libexec/dconf-service\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57035")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("231964")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3456")]),s._v(" pts/1    S    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":38   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dc")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dc")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57037")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("108052")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("360")]),s._v(" ?        Ss   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":38   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57196")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("112828")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("984")]),s._v(" pts/1    S+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":40   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--color")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dc")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('"\n'),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dc")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sleep 10000"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("这条命令启动了两个进程 \n一个是su进程,一个是切换用户后以dc用户运行的sleep进程"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n第一个是PID为 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57035")]),s._v(" 的进程"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("另一个是PID为 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57037")]),s._v(" 的子进程.\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('"\n'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -elf | grep dc")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S root       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1987")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1983")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("94046")]),s._v(" poll_s "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("月14 ?       00:00:00 /usr/libexec/ibus-dconf\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S root       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("46850")]),s._v(" poll_s "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("月14 ?       00:00:00 /usr/libexec/dconf-service\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S root      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57035")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("52706")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57991")]),s._v(" do_wai "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":38 pts/1    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dc")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" S "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dc")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57037")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57035")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("27013")]),s._v(" hrtime "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":38 ?        00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" R root      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57382")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("52706")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28207")]),s._v(" -      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":43 pts/1    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--color")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dc")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])]),n("hr"),s._v(" "),n("h2",{attrs:{id:"详解进程的状态stat"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#详解进程的状态stat"}},[s._v("#")]),s._v(" 详解进程的状态STAT")]),s._v(" "),n("blockquote",[n("p",[s._v("进程是一种动态描述, 并不代表所有的进程都在运行."),n("br"),s._v("\n这就可以引入"),n("code",[s._v("进程状态")]),s._v(", 进程在内存中会因为各种策略或调度需求处于不同的状态..")]),s._v(" "),n("p",[n("strong",[s._v("R、S、D、T、Z、X")])]),s._v(" "),n("p",[n("strong",[s._v("<     N      s      +      ｜      l")]),s._v(" (这里是小写的英文字母l,不是数字1)      这6个符号可与上面6个状态组合搭配使用!!")])]),s._v(" "),n("p",[n("font",{attrs:{color:"red"}},[n("strong",[s._v("R")])]),s._v("      运行, 该进程正在使用cpu")],1),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 第一个终端上运行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tty")]),s._v("\n/dev/pts/0\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim 1.sh")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat 1.sh")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bash 1.sh")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 第二个终端上查看")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tty")]),s._v("\n/dev/pts/1\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## R+ +号代表前台(意味着占用着终端呢)运行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep 1.sh | grep -v grep")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("44419")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("99.8")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("113280")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1208")]),s._v(" pts/0    R+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":06   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":14 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".sh\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep 1.sh | grep -v grep")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("44419")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("113280")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1208")]),s._v(" pts/0    R+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":06   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":45 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".sh\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep 1.sh | grep -v grep")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("44419")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("99.7")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("113280")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1208")]),s._v(" pts/0    R+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":06   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":46 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".sh\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("p",[n("font",{attrs:{color:"red"}},[n("strong",[s._v("S")])]),s._v("      可中断睡眠 Sleep  =>  遇到IO啦, "),n("em",[s._v("可正常的处理IO")]),s._v(" ,执行的IO操作可以得到硬件设备的响应")],1),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("绝大多数软件的大多数时候的状态都处于S状态,why? 因为现在的软件都离不开网络,有网络就会有网络IO"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n像比特币的运算程序就非常耗费cpu的资源,一直在算"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("就像是死循环一样.cpu直接裂开"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n注意哦"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n    这里进程的"),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("S状态"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("别跟linux命令"),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("混为一谈,sleep命令比较憨就是纯粹的休眠指定时间"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    但可以用sleep命令模拟IO行为.\n\t\t\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 第一个终端上运行 让其运算中途停止1秒")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim 2.sh")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat 2.sh")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 第二个终端上查看 监测不到R状态是因为 1+1的运算几乎没有耗时 极难捕捉到")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 试着捕捉下:(不要纠结!)")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("44615")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n     使用top命令也监测不到 top命令的本质就是默认3秒执行一次ps aux命令,实时性也不是很高.\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".sh "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n     使用死循环,也捕捉不到,1+1运算耗时太短了\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep 2.sh | grep -v grep")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("44615")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("113280")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1388")]),s._v(" pts/0    S+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":09   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".sh\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep 2.sh | grep -v grep")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("44615")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("113280")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1388")]),s._v(" pts/0    S+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":09   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".sh\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep 2.sh | grep -v grep")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("44615")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("113280")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1388")]),s._v(" pts/0    S+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":09   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".sh\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("p",[n("font",{attrs:{color:"red"}},[n("strong",[s._v("D")])]),s._v("      不可中断睡眠"),n("br"),s._v("\n                遇到IO啦, "),n("em",[s._v("想要处理IO")]),s._v(", 但执行的IO操作得不到硬件设备的响应,硬件设备压根儿不鸟你.."),n("br"),s._v("\n                意味着硬件设备此时的压力太大了,忙活不过来啦!!没空搭理你."),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("Ps:一旦进程处于这个状态,杀都杀不掉 Hhh")])],1),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("解决方案:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("现目前只能这么做"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    一旦进程状态出现D,降低下硬盘的压力,将一些不必要的写操作干掉,让关键的写操作能得到响应.\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 第一个终端上运行 从硬盘上将指定的内容读出来写到指定的地方去")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tar czf /root/egon.tar.gz /etc/ /usr/ /tmp/ /boot/ ")]),s._v("\ntar: 从成员名中删除开头的“/”\ntar: 从硬连接目标中删除开头的“/”\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 第二个终端上查看 有运行(R+);有正常的IO(S+);也有可能硬盘压力过大响应不过来(D+)")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep [c]zf")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("49735")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("124132")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1932")]),s._v(" pts/0    S+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":39   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" czf /root/egon.tar"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep [c]zf")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("49735")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("124132")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1932")]),s._v(" pts/0    S+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":39   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" czf /root/egon.tar"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep [c]zf")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("49735")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.6")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("124132")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1932")]),s._v(" pts/0    R+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":39   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" czf /root/egon.tar"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep [c]zf")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("49735")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.9")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("124132")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1932")]),s._v(" pts/0    D+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":39   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" czf /root/egon.tar"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep [c]zf")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("49735")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("124132")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1932")]),s._v(" pts/0    S+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":39   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" czf /root/egon.tar"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("p",[n("font",{attrs:{color:"red"}},[n("strong",[s._v("T")])]),s._v("      停止/中止的进程")],1),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 第一个终端上运行 进入vim编辑界面后 control+z停止")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim a.txt")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("+  已停止               "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" a.txt\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 第二个终端上查看")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 这个是第一个终端在vim界面时")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep [v]im")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("48892")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("149820")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5436")]),s._v(" pts/0    S+   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":26   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" a.txt\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 这个是第一个终端control+z停止,退出vim界面后")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep [v]im")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("48892")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("149820")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5436")]),s._v(" pts/0    T    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":26   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" a.txt\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[n("font",{attrs:{color:"red"}},[n("strong",[s._v("Z")])]),s._v("      僵尸进程, 处于该状态的进程同样杀不死!!!")],1),s._v(" "),n("p",[n("font",{attrs:{color:"red"}},[n("strong",[s._v("X")])]),s._v("      死掉的进程(几乎看不见,因为死了就立即回收了)")],1),s._v(" "),n("p",[n("font",{attrs:{color:"blue"}},[n("strong",[s._v("<")])]),s._v("      标注了<小于号代表优先级较高的进程")],1),s._v(" "),n("p",[n("font",{attrs:{color:"blue"}},[n("strong",[s._v("N")])]),s._v("      N代表优先级较低的进程")],1),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("进程的优先级涉及到nice值"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("也叫做好心值"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n    好心值越低优先级越高"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("妥妥的欺负老实人呗"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n    nice值的范围"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-20,19"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## & 代表后台运行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nice -n -20 sleep 3000 &")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("51827")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nice -n 19 sleep 5000 &")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("51835")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep [s]leep")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("51797")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("108052")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("360")]),s._v(" ?        S    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":12   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("51827")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("108052")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("360")]),s._v(" pts/0    S"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":13   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("51835")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("108052")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("356")]),s._v(" pts/0    SN   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":13   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[n("font",{attrs:{color:"blue"}},[n("strong",[s._v("s")])]),s._v("      包含子进程")],1),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep nginx | grep -v grep")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 此处的Ss 小写s指的就是PID为75066的子进程")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("75065")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20576")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" ?        Ss   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("月21   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 nginx: master process /usr/local/nginx-1.22.0/sbin/nginx\nnobody    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("75066")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23104")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" ?        S    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("月21   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 nginx: worker process\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[n("font",{attrs:{color:"blue"}},[n("strong",[s._v("+")])]),s._v("      +表示进程是在前台运行(占着终端屏幕..)")],1),s._v(" "),n("p",[n("font",{attrs:{color:"blue"}},[n("strong",[s._v("l")])]),s._v("      小写字母l, 代表以线程的方式运行,即多线程")],1),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 第一个终端上运行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim a.py")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat a.py")]),s._v("\nfrom threading "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" Thread\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" os\n\ndef task"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n    time.sleep"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" __name__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"__main__"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\n    print"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("os.getpid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("i")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" range"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n        t "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Thread"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("target"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("task"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tt.start"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# python a.py")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("54844")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 第二个终端上查看 在py程序还在运行的时候查看!!")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps aux | grep 54844 | grep -v grep")]),s._v("\nroot      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("54844")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("740392")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5048")]),s._v(" pts/1    Sl+  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":02   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 python a.py\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("p",[n("font",{attrs:{color:"blue"}},[n("strong",[s._v("|")])]),s._v("    管道符号代表多进程")],1),s._v(" "),n("hr"),s._v(" "),n("h2",{attrs:{id:"动态查看top"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#动态查看top"}},[s._v("#")]),s._v(" 动态查看top")]),s._v(" "),n("h3",{attrs:{id:"命令行选项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#命令行选项"}},[s._v("#")]),s._v(" 命令行选项")]),s._v(" "),n("blockquote",[n("p",[s._v("-d ; -p ; -u")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sleep 1000 &")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("68309")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pgrep nginx")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("75065")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("75066")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -d 指定几秒刷新一次; -p 指定动态刷新的进程")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("68309")]),s._v(" \t\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## pgrep nginx结果是进程PID,用head过滤第一个,用逗号连接表示一连串的进程")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 查看nginx以及pid为68309的进程")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\t"),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("pgrep nginx "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-1")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(",68309 \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 查看egon用户开启的进程")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" egon\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h3",{attrs:{id:"显示内容解释"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#显示内容解释"}},[s._v("#")]),s._v(" 显示内容解释")]),s._v(" "),n("blockquote",[n("p",[s._v("关注: up 、"),n("strong",[s._v("load average")]),s._v("、Tasks、%Cpu的us sy id、KiB Mem、KiB Swap"),n("br"),s._v("\n          PID、USER、NI、VIRT、RES、SHR、S"),n("br"),s._v("\nPs: 只看 "),n("strong",[s._v("load average")]),s._v(" 那一行的命令 -- "),n("code",[s._v("uptime")])])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":34:42 up "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" days, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":10,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" users,  load average: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.02")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.05")]),s._v("\nTasks: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("213")]),s._v(" total,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" running, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("211")]),s._v(" sleeping,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" stopped,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" zombie\n%Cpu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(" us,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(" sy,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" ni, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("98.0")]),s._v(" id,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" wa,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" hi,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" si,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" st\nKiB Mem "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("995640")]),s._v(" total,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("173984")]),s._v(" free,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("558128")]),s._v(" used,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("263528")]),s._v(" buff/cache\nKiB Swap:  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2097148")]),s._v(" total,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1706236")]),s._v(" free,   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("390912")]),s._v(" used.   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("257816")]),s._v(" avail Mem \n\n   PID "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND                 \n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("72062")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dc")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("116960")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3328")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1708")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.09 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("                    \n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("73191")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dc")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("108052")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("360")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("284")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v("  \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h5",{attrs:{id:"系统整体统计信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#系统整体统计信息"}},[s._v("#")]),s._v(" [系统整体统计信息]")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 这里的平均负载是将所有cpu资源都涵盖在内 当前时间点往过去1min内/5min内/15min内的平均负载")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" - 当前系统时间 up 运行了多长时间, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("个用户"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("本机和远程登录的"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" , CPU平均负载 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("分钟的,5分钟的,15分钟的\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 处于sleeping的进程数越多 cpu就越轻松 系统越健康; running比较多 反应正在大忙活..")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 处于T状态的,若不需要,可以考虑把它干掉..(占用空间又不干事)  ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- D和Z状态的进程kill -9也杀不死;只能曲线救国,比如D等硬件设备响应")]),s._v("\n任务: 总共运行了213个进程, 有一个正在运行"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("R"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("211")]),s._v(" 个在睡眠"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("S"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", 有一个被停止"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("T"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", 有0个僵尸进程\n%Cpu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 罗列的是所有cpu的平均情况\t%Cpu0 %Cpu1 %Cpu2")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('"\nus  用户态进程'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("即应用程序"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("占用cpu时间的百分比\nsy  内核态进程"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("即操作系统"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("占用cpu时间的百分比\nni \t代表优先被调度的进程占cpu时间的百分比\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" \tcpu空闲的百分比\nwa \tcpu等待进程将io做完的百分比 此值较高的话代表计算机IO比较繁忙\nhi \t硬件中断,处理硬件中断所占用CPU的时间 此值大的话,表明硬件在不断忙活\nsi \t软件中断,处理软件中断所占用CPU的时间\nst \t被偷走的cpu,跟虚拟化有关\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('"\n'),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- buff/cache linux的内存优化机制,自作主张的将闲着的内存来做优化 优化读写")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 详见 01.计算机基础/1_计算机硬件组成.md中 软件与三大核心的关系 这部分内容")]),s._v("\n物理内存空间"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("单位kb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": 总计 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("995640")]),s._v(",   空闲 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("173984")]),s._v(",   已使用 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("558128")]),s._v(",   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("263528")]),s._v(" buff/cache\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 此处的used 已使用的值大于0,代表物理内存不够用了,开始swap out啦!")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 占用物理内存多少百分比后开始使用swap分区当临时内存 可以设置 `cat  /proc/sys/vm/swappiness`")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 详见 01.计算机基础/1_计算机硬件组成.md中 [虚拟内存] 这部分内容")]),s._v("\n交换区/虚拟内存空间"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("单位kb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": 总计 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2097148")]),s._v(",  空闲 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1706236")]),s._v(",  已使用 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("390912")]),s._v(",  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("257816")]),s._v(" avail Mem \n\nSWAP OUT: 当某进程向OS请求内存发现不足时,OS会把内存中暂时不用的数据交换出去,放在SWAP分区中"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nSWAP IN:  当某进程又需要这些数据且OS发现还有空闲物理内存时,又会把SWAP分区中的数据交换回物理内存中.\nPs: buff、cache、swap还可参考 "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("https://blog.csdn.net/dingding_ting/article/details/86495076"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n\n中断是一个异步的事件处理机制,可以提高操作系统处理并发的能力.\n中断参考链接: "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("https://www.cnblogs.com/linhaifeng/articles/13916102.html"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n硬件中断相当于硬性打断你手中的活,去干指派的活,然后又来其他活了,又打断手中的活,最后啥也做不成"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n软件中断相当于来活了,ok,我记录了下来,合适的时候,会去执行它"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br")])]),n("p",[n("strong",[s._v("Q1:")]),s._v(" what "),n("font",{attrs:{color:"red"}},[n("strong",[s._v("平均负载")])]),s._v("？"),n("br"),s._v("\nA1: 平均负载是指, 单位时间内系统处于可运行状态和不可中断状态的平均进程数, 也就是平均活跃进程数..")],1),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# uptime")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":34:42 up "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" days, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":10,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" users,  load average: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.02")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.05")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("strong",[s._v("Q2:")]),s._v(" "),n("font",{attrs:{color:"green"}},[s._v("平均负载多少合理? ")]),n("br"),s._v("\nA2: 如下")],1),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\n  核心数      平均负载        含义\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("             "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("         每个cpu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("核"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("都在满负载运行\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\t\t\t\t\t\t "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("        还有空闲"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("问题不大\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\t\t\t\t\t\t "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("        超负荷运行\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("           "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("             "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("         有一半"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("的CPU是空闲状态\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("             "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("         CPU刚好完全被占用\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("             "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("         至少一半的进程是抢不到CPU\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[n("strong",[s._v("Q3:")]),s._v(" "),n("font",{attrs:{color:"green"}},[s._v("平均负载的三个数值如何看？")]),n("br"),s._v("\nA3:  三个值相当于三个样本, 我们应该统筹的看"),n("br"),s._v("\n        1> 若1分钟,5分钟,15分钟的负载数值相差不大. 并且都没有满负荷, 则代表系统的负载很'稳定'"),n("br"),s._v("\n        2> 若1分钟("),n("font",{attrs:{color:"gray"}},[s._v("当前时间往过去推1分钟")]),s._v(")的负载值远小于15分钟("),n("font",{attrs:{color:"gray"}},[s._v("当前时间往过去推15分钟")]),s._v(")的."),n("br"),s._v("\n             那么证明过去系统经受了高并发,但现目前的压力降下来了.."),n("br"),s._v("\n             不必紧张,但15分钟区间内,系统负载上升的原因,还需要我们认真查明"),n("br"),s._v("\n        3> 若1分钟的负载值远超过15分钟的. 那么证明过去没有高并发,但是此刻正在经受高并发..需要分析处理.."),n("br"),s._v("\n        4> 一旦1分钟的平均负载接近或超过了CPU的个数, 就意味着系统正在发生过载的问题, 这时候就得分析优化..")],1),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 无任何的IO,休眠行为 纯计算型")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 此进程启动后,后台运行,大部分时间都在睡 IO密集型")]),s._v("\n\nIO密集型:  该进程大量的时间在做IO, 做IO的时间远大于计算的时间\n          对cpu的影响不大,但架不住量多"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n计算密集型:  该进程大量的时间在做运算, 计算的时间远大于做IO的时间\n\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('"\n补充两工具'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("了解即可"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('"\n▲ '),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" stress "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\nstress是Linux系统压力测试工具,可用作异常进程模拟平均负载升高的场景\n需要安装  stress本质就是就是进行计算密集型的死循环\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 4代表4个核 3000代表持续加压3000秒 执行此命令后会瞬间将4个cpu占满")]),s._v("\n    stress "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--cpu")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--timeout")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),s._v(" \n\t\t\n▲ "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" sysstat "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" 会得到下述两个命令\nmpstat  是多核CPU性能分析工具,用来实时检查每个CPU的性能指标,以及所有CPU的平均指标.\n    mpstat "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-P")]),s._v(" ALL "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 输出全部cpu所有指标,以3秒为间隔不间断刷")]),s._v("\npidstat 是一个常用的进程性能分析工具,用来实时查看进程的CPU、内存、IO以及上下文切换等性能指标.\n    pidstat "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 1秒一次,总共输出5次")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("h5",{attrs:{id:"进程信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进程信息"}},[s._v("#")]),s._v(" [进程信息]")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("PID "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND   \n\nTIME:\t\t进程使用的CPU时间总计,单位秒\nTIME+:  进程使用的CPU时间总计,单位1/100秒\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("VIRT:     virtual memory usage 虚拟内存"),n("br"),s._v("\n        1> 预先分配给该进程这么多,但不代表实际占用这么多."),n("br"),s._v("\n        2> 是指该进程“需要的”虚拟内存大小,包括进程使用的库、代码、数据等.."),n("br"),s._v("\n        3> 跟swap分区没有关系！！")]),s._v(" "),n("p",[s._v("RES:     resident memory usage 常驻内存"),n("br"),s._v("\n        1> 进程当前使用/占用的内存大小, 但不包括swap out"),n("br"),s._v("\n        2> RES包含了SHR共享空间")]),s._v(" "),n("p",[s._v("SHR:     shared memory 共享内存"),n("br"),s._v("\n        当内存不够用时,此值会增大,挤一挤嘛;"),n("br"),s._v("\n        当KiB Swap交换区的used值降下来了,代表物理内存在恢复正常,SHR会降低."),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("计算一个进程实际占用物理内存的大小 "),n("code",[s._v("RES – SHR")])])],1),s._v(" "),n("h3",{attrs:{id:"显示内容的操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#显示内容的操作"}},[s._v("#")]),s._v(" 显示内容的操作")]),s._v(" "),n("blockquote",[n("p",[s._v("下述的每一个操作都会刷新下top显示的内容")])]),s._v(" "),n("p",[n("code",[s._v("上下键")]),s._v("     往上往下的翻看所有进程"),n("br"),s._v(" "),n("code",[s._v("h")]),s._v(" or "),n("code",[s._v("?")]),s._v("      查看帮助信息")]),s._v(" "),n("p",[n("code",[s._v("q")]),s._v("  or "),n("code",[s._v("control + c")]),s._v("       退出"),n("br"),s._v(" "),n("code",[s._v("s")]),s._v("       改变刷新的时间频率,默认是3.0秒"),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("Ps: 刷新频率别设置的太高 例如0.001s,因为很消耗cpu的资源..")])],1),s._v(" "),n("p",[n("code",[s._v("M")]),s._v("      按照占用内存进行排序"),n("br"),s._v(" "),n("code",[s._v("P")]),s._v("      按照cpu的占用率进行排序"),n("br"),s._v(" "),n("code",[s._v("N")]),s._v("      按照PID进行排序"),n("br"),s._v(" "),n("font",{attrs:{color:"gray"}},[s._v("Ps: 排序的结果"),n("strong",[s._v("默认")]),s._v("都是"),n("strong",[s._v("从高到低")])])],1),s._v(" "),n("p",[n("code",[s._v("shift + >")]),s._v(" "),n("code",[s._v("shift + <")]),s._v("    向右、向左  "),n("font",{attrs:{color:"gray"}},[s._v("吐槽下: 没有明确提示对哪个字段排序 ")]),n("br"),s._v("\n        即将排序作用于当前排序字段 右边/左边 的字段")],1),s._v(" "),n("p",[n("code",[s._v("R")]),s._v("      将当前排序的字段结果进行反转")]),s._v(" "),n("p",[n("code",[s._v("f")]),s._v("      *标记的是界面上会显示的字段  按空格选择/取消 新选择的会在界面最右边显示"),n("br"),s._v(" "),n("code",[s._v("z")]),s._v("      彩色界面 "),n("font",{attrs:{color:"gray"}},[s._v("芜湖～")])],1),s._v(" "),n("p",[n("code",[s._v("k")]),s._v("      给进程发送信号")]),s._v(" "),n("p",[n("img",{attrs:{src:t(497),alt:""}})]),s._v(" "),n("p",[n("code",[s._v("1")]),s._v("      按下数字1会显示所有CPU的负载")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("%Cpu"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(" us,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.0")]),s._v(" sy,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" ni, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("97.0")]),s._v(" id,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" wa,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" hi,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" si,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" st\n\n%Cpu0  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(" us,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(" sy,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" ni, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("98.0")]),s._v(" id,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" wa,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" hi,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" si,  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" st\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 多个核的话 %Cpu0、%Cpu1、%Cpu2...")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[n("code",[s._v("r")]),s._v("      调整进程的优先级(即修改该进程的nice值)     越小优先级越高")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("PID to "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("renice")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("default pid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2216")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("72122")]),s._v("\nRenice PID "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("72122")]),s._v(" to value  "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-10")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- PR值与NI值是相对应的 PR会在NI值上加20")]),s._v("\n   PID "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND                 \n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("72062")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dc")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("116960")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3328")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1708")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.09 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("                    \n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("72122")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dc")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-10")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("108052")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("356")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("284")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v("                   \n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("73191")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("dc")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("108052")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("360")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("284")]),s._v(" S  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("hr"),s._v(" "),n("h2",{attrs:{id:"网络有关的查看"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#网络有关的查看"}},[s._v("#")]),s._v(" 网络有关的查看")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("▲ 查看网络状态\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('"\n'),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v("   tcp协议\n"),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v("   udp协议\n"),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v("   不反解,不将IP地址解析为主机名,不将端口号解析成协议名\n\t\t eg:不加此选项 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 --"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" localhost \t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("端口 --"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" \t 全部\n"),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("   listen\n"),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v("   PID/Program name\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('"\n'),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-tunalp")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-an")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" :22\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-an")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" :80\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i:22")]),s._v("\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 可用于快速验证某个端口是否开启")]),s._v("\n\n▲ 查看网关\nroute "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# route -n")]),s._v("\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 0.0.0.0指代所有的IP地址 去往所有的IP地址都通过172.16.150.2网关进行转发")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".150.2    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0         UG    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ens33\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".150.0    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0   U     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ens33\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("hr"),s._v(" "),n("h2",{attrs:{id:"查看系统状态"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看系统状态"}},[s._v("#")]),s._v(" 查看系统状态")]),s._v(" "),n("blockquote",[n("p",[s._v("围绕三大核心硬件 -- cpu、内存、硬盘")]),s._v(" "),n("p",[s._v("cpu:     /proc/cpuinfo\n内存:     /proc/meminfo")])]),s._v(" "),n("h3",{attrs:{id:"硬盘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#硬盘"}},[s._v("#")]),s._v(" 硬盘")]),s._v(" "),n("blockquote",[n("p",[s._v("详见 5_文件管理之文件系统.md")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-sh")]),s._v(" /etc "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -- 统计某个文件夹所包含的所有内容的大小")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v("\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 带单位")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-T")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 带文件系统类型")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"内存"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#内存"}},[s._v("#")]),s._v(" 内存!!")]),s._v(" "),n("blockquote",[n("p",[n("code",[s._v("top")]),s._v("命令显示的系统整体统计信息里就有内存的信息"),n("br"),s._v("\n也可以通过 "),n("code",[s._v("free")]),s._v(" 命令直接查看")])]),s._v(" "),n("h5",{attrs:{id:"free结果的字段"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#free结果的字段"}},[s._v("#")]),s._v(" [free结果的字段]")]),s._v(" "),n("p",[n("font",{attrs:{color:"blue"}},[s._v("「total = used + free + buffers + cache 」")]),n("br"),s._v(" "),n("font",{attrs:{color:"blue"}},[s._v("So, Linux的内存大体可分为三部分, 应用程序占用的,空闲的,操作系统对读写做优化的")])],1),s._v(" "),n("p",[n("strong",[s._v("注意!")]),s._v(" 查看真正有多少物理内存可以用(不考虑swap分区),看free不准确,看available字段最准确.."),n("br"),s._v("\navailable值是大于free值的... 多的那部分是buff/cache可释放的空间.."),n("br"),s._v("\n即 "),n("font",{attrs:{color:"blue"}},[s._v("available = free + 可释放的buff/cache")]),s._v("   So, 物理内存还有多少可以用(百分比) = available / total")],1),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- free命令显示了系统中内存的剩余量和使用量")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('"\n命令选项\n'),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" 字节为单位 \n"),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-k")]),s._v(" kb为单位"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("默认"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" M为单位 注意哦,转换单位后会进行四舍五入,不是严丝合缝一样的,大体上一样\n"),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-w")]),s._v(" buffer跟cache分开显示\n\n显示结果字段\ntotal:      安装的内存大小,即内存条总共的大小\nused:       使用的内存大小,准确点来说指的是在内存中跑的应用程序占用的空间\nfree:       空闲的,used可以用,buff/cache也可以用\nshared:     共享的内存,指used中有部分内存是进程们共享的 这与前面进程信息部分"),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("RES – SHR"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("呼应上啦"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\nbuff/cache: buff/cache释放后给了free\navailable:  表明目前可以提供给新启动的应用程序使用的内存\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('"\n'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# free -wm")]),s._v("\n         total        used        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared     buffers       cache   available\nMem:      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("972")]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("634")]),s._v("          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("84")]),s._v("          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("253")]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("165")]),s._v("\nSwap:    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2047")]),s._v("          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1967")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("h5",{attrs:{id:"释放buff-cache"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#释放buff-cache"}},[s._v("#")]),s._v(" [释放buff/cache]")]),s._v(" "),n("blockquote",[n("p",[s._v("sync"),n("br"),s._v("\necho 3 > /proc/sys/vm/drop_caches")])]),s._v(" "),n("p",[n("font",{attrs:{color:"gray"}},[s._v("buffer优化写,cache优化读,我们没使用,但操作系统在使用,是种优化机制")])],1),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# free -w")]),s._v("\n              total        used        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared     buffers       cache   available\nMem:         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("995640")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("654476")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("81872")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17576")]),s._v("           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("259292")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("164964")]),s._v("\nSwap:       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2097148")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("82688")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2014460")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# du -sh /etc/passwd")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".0K\t/etc/passwd\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 在另一个终端执行命令 vim /etc/passwd")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 可以发现cache值变大了,是为了下次打开该文件时候,能更快速的打开..")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# free -w")]),s._v("\n              total        used        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared     buffers       cache   available\nMem:         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("995640")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("657212")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("76876")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17576")]),s._v("           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("261552")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("162228")]),s._v("\nSwap:       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2097148")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("82688")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2014460")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ## 此处的释放是buffer和cache一起释放")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ## 释放之前若有写行为,写的内容都在buffers里存着呢!")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ## So,在释放之前需要多执行几次sync命令,告诉OS将buffer缓冲区里的数据写入硬盘")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sync")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sync")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sync")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ## OS会定期扫描/proc/sys/vm/drop_caches文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ## 该文件可以设置值0(默认)、1、2、3  0代表不清理 3代表清理")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /proc/sys/vm/drop_caches ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ## 注意哦,操作系统扫描时发现该文件未修改的话,是不会读取里面的内容的")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ## So,想要释放时,就得执行一次 echo 3 > /proc/sys/vm/drop_caches 这条命令")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo 3 > /proc/sys/vm/drop_caches")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 可以前后对比发现cache值明显下降啦,free值明显提升了...")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# free -w")]),s._v("\n              total        used        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared     buffers       cache   available\nMem:         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("995640")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("601396")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("303444")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17568")]),s._v("           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("90800")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("268660")]),s._v("\nSwap:       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2097148")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("82688")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2014460")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])]),n("h5",{attrs:{id:"虚拟文件系统"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#虚拟文件系统"}},[s._v("#")]),s._v(" [虚拟文件系统]")]),s._v(" "),n("p",[s._v("要知道free是从文件"),n("code",[s._v("/proc/meminfo")]),s._v(" 里采集获取的信息, 而 /proc文件夹是proc虚拟文件系统的挂载点.."),n("br"),s._v(" "),n("font",{attrs:{color:"red"}},[s._v("何为 "),n("strong",[s._v("虚拟的文件系统")]),s._v(" ？")]),s._v("代表它的数据不在硬盘里,而是在内存里,挂载点里的数据是系统生成的..")],1),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mount命令可查看挂载的所有文件系统信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 像/dev/sda1文件系统(通俗点就是指硬盘分区)的挂载点是/boot")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 硬盘分区/真实的文件系统是可通过df命令查看到的,但虚拟的文件系统df命令看不到")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# mount | grep -E "/dev/sda1|/proc "')]),s._v("\nproc on /proc "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" proc "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rw,nosuid,nodev,noexec,relatime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n/dev/sda1 on /boot "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" xfs "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rw,relatime,attr2,inode64,noquota"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("若卸载掉proc这个虚拟文件系统, free命令就不能使用啦!!"),n("br"),s._v("\n反向验证了free命令的结果都是从proc这个虚拟的文件系统中得到的!!")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# umount /proc -l")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# free")]),s._v("\nError: /proc must be mounted\n  To "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" /proc at boot you need an /etc/fstab line like:\n      proc   /proc   proc    defaults\n  In the meantime, run "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mount proc /proc -t proc"')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('"\n'),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" 指定文件系统 虚拟文件系统 挂载点\nPs: "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" xfs /dev/sda1 /boot\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('"\n'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mount -t proc proc /proc/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# free -m")]),s._v("\n              total        used        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared  buff/cache   available\nMem:            "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("972")]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("633")]),s._v("          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("85")]),s._v("          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("253")]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("166")]),s._v("\nSwap:          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2047")]),s._v("          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1967")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h3",{attrs:{id:"cpu"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cpu"}},[s._v("#")]),s._v(" CPU")]),s._v(" "),n("blockquote",[n("p",[s._v("top命令的结果里包含了cpu工作状况(特别是负载)"),n("br"),s._v("\n通过查看/proc/cpuinfo文件也可以得到cpu相关的硬件信息..")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 文件中有多少个processor,就有多少个核(逻辑cpu)")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# grep "processor" /proc/cpuinfo ')]),s._v("\nprocessor\t"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nprocessor\t"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nprocessor\t"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- 文件中有多少个physical id,就有多少物理cpu")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# grep "physical id" /proc/cpuinfo')]),s._v("\nphysical "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 0xx\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## -- cpu核数")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# grep "cpu cores" /proc/cpuinfo')]),s._v("\ncpu cores\t"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('"\nflags 该核所支持的功能\n    lm（64位）\n    vmx 支持虚拟化 Intel\n    svm 支持虚拟化 AMD\n'),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('"\n'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# grep flags /proc/cpuinfo")]),s._v("\nflags\t\t"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" fpu  【vme】  de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon nopl xtopology "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# lscpu")]),s._v("\nArchitecture:          x86_64\nCPU op-mode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v("-bit, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("-bit\nByte Order:            Little Endian\nCPU"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nOn-line CPU"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" list:   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("hr")])}),[],!1,null,null,null);a.default=r.exports},497:function(s,a,t){s.exports=t.p+"assets/img/top_k.8a64ab82.jpeg"}}]);