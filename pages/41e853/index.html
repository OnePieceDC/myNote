<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>必用模块 | DC&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/fonts/iconfont.css">
    <meta name="description" content="人类终将毁灭,世界属于三体!">
    <meta name="keywords" content="DC的个人博客.">
    
    <link rel="preload" href="/assets/css/0.styles.66b92039.css" as="style"><link rel="preload" href="/assets/js/app.ac54adc6.js" as="script"><link rel="preload" href="/assets/js/4.7ddc74e3.js" as="script"><link rel="preload" href="/assets/js/1.a0c4ff1b.js" as="script"><link rel="preload" href="/assets/js/3.8b03321d.js" as="script"><link rel="preload" href="/assets/js/215.37f52459.js" as="script"><link rel="preload" href="/assets/js/104.cae2d944.js" as="script"><link rel="preload" href="/assets/js/184.46eabf07.js" as="script"><link rel="prefetch" href="/assets/js/10.a91ae011.js"><link rel="prefetch" href="/assets/js/100.2e8ea472.js"><link rel="prefetch" href="/assets/js/101.46f57a02.js"><link rel="prefetch" href="/assets/js/102.f51bcd80.js"><link rel="prefetch" href="/assets/js/103.3f003e0e.js"><link rel="prefetch" href="/assets/js/105.6c6ebc28.js"><link rel="prefetch" href="/assets/js/106.47dc8889.js"><link rel="prefetch" href="/assets/js/107.6b5602b4.js"><link rel="prefetch" href="/assets/js/108.46f0c21d.js"><link rel="prefetch" href="/assets/js/109.0f1168a5.js"><link rel="prefetch" href="/assets/js/11.e6a94228.js"><link rel="prefetch" href="/assets/js/110.6a961498.js"><link rel="prefetch" href="/assets/js/111.c6f27c88.js"><link rel="prefetch" href="/assets/js/112.9ee3d3bb.js"><link rel="prefetch" href="/assets/js/113.82b72aa0.js"><link rel="prefetch" href="/assets/js/114.7487460e.js"><link rel="prefetch" href="/assets/js/115.cd079d0a.js"><link rel="prefetch" href="/assets/js/116.b6b829eb.js"><link rel="prefetch" href="/assets/js/117.89d9336c.js"><link rel="prefetch" href="/assets/js/118.467c4437.js"><link rel="prefetch" href="/assets/js/119.c4b2ac40.js"><link rel="prefetch" href="/assets/js/12.9d3501e4.js"><link rel="prefetch" href="/assets/js/120.5ff31c09.js"><link rel="prefetch" href="/assets/js/121.2e59c3a5.js"><link rel="prefetch" href="/assets/js/122.a66096cf.js"><link rel="prefetch" href="/assets/js/123.4885ba5f.js"><link rel="prefetch" href="/assets/js/124.cacc66be.js"><link rel="prefetch" href="/assets/js/125.dc5b30fe.js"><link rel="prefetch" href="/assets/js/126.4e21eb5e.js"><link rel="prefetch" href="/assets/js/127.cb36a9bf.js"><link rel="prefetch" href="/assets/js/128.ce38358e.js"><link rel="prefetch" href="/assets/js/129.e5f414eb.js"><link rel="prefetch" href="/assets/js/13.ca017a68.js"><link rel="prefetch" href="/assets/js/130.17b597f0.js"><link rel="prefetch" href="/assets/js/131.e1ded2dc.js"><link rel="prefetch" href="/assets/js/132.aae1c627.js"><link rel="prefetch" href="/assets/js/133.73cecdb3.js"><link rel="prefetch" href="/assets/js/134.80cf38a0.js"><link rel="prefetch" href="/assets/js/135.735ed588.js"><link rel="prefetch" href="/assets/js/136.91f8db08.js"><link rel="prefetch" href="/assets/js/137.d6fb8bda.js"><link rel="prefetch" href="/assets/js/138.75cafe73.js"><link rel="prefetch" href="/assets/js/139.b01bf0db.js"><link rel="prefetch" href="/assets/js/14.ee2605b5.js"><link rel="prefetch" href="/assets/js/140.ff0a7911.js"><link rel="prefetch" href="/assets/js/141.c69e7f54.js"><link rel="prefetch" href="/assets/js/142.997b03ac.js"><link rel="prefetch" href="/assets/js/143.e40faea8.js"><link rel="prefetch" href="/assets/js/144.369f23e5.js"><link rel="prefetch" href="/assets/js/145.1268424d.js"><link rel="prefetch" href="/assets/js/146.94c65c4a.js"><link rel="prefetch" href="/assets/js/147.05fe6a36.js"><link rel="prefetch" href="/assets/js/148.327cc29d.js"><link rel="prefetch" href="/assets/js/149.90068676.js"><link rel="prefetch" href="/assets/js/15.42e0a0e4.js"><link rel="prefetch" href="/assets/js/150.b4b780bb.js"><link rel="prefetch" href="/assets/js/151.b4611012.js"><link rel="prefetch" href="/assets/js/152.4d2c8246.js"><link rel="prefetch" href="/assets/js/153.f32dfa58.js"><link rel="prefetch" href="/assets/js/154.b79a78fb.js"><link rel="prefetch" href="/assets/js/155.6ad2865c.js"><link rel="prefetch" href="/assets/js/156.fd49a1af.js"><link rel="prefetch" href="/assets/js/157.55113800.js"><link rel="prefetch" href="/assets/js/158.af321bc9.js"><link rel="prefetch" href="/assets/js/159.37d9c659.js"><link rel="prefetch" href="/assets/js/16.007f45b3.js"><link rel="prefetch" href="/assets/js/160.7a3b5a9a.js"><link rel="prefetch" href="/assets/js/161.fc1fbea8.js"><link rel="prefetch" href="/assets/js/162.2f8d3d1c.js"><link rel="prefetch" href="/assets/js/163.aa889940.js"><link rel="prefetch" href="/assets/js/164.5d8b2cb7.js"><link rel="prefetch" href="/assets/js/165.44d4a9b5.js"><link rel="prefetch" href="/assets/js/166.c1b4c4d4.js"><link rel="prefetch" href="/assets/js/167.0c39929e.js"><link rel="prefetch" href="/assets/js/168.fede035a.js"><link rel="prefetch" href="/assets/js/169.ff940d50.js"><link rel="prefetch" href="/assets/js/17.7395c644.js"><link rel="prefetch" href="/assets/js/170.b6fcb3bf.js"><link rel="prefetch" href="/assets/js/171.2b927a7c.js"><link rel="prefetch" href="/assets/js/172.b07a90a1.js"><link rel="prefetch" href="/assets/js/173.367352bf.js"><link rel="prefetch" href="/assets/js/174.4ea4e20f.js"><link rel="prefetch" href="/assets/js/175.d9679b61.js"><link rel="prefetch" href="/assets/js/176.f7804143.js"><link rel="prefetch" href="/assets/js/177.c5d1e680.js"><link rel="prefetch" href="/assets/js/178.808293fa.js"><link rel="prefetch" href="/assets/js/179.2acf6b3c.js"><link rel="prefetch" href="/assets/js/18.46f9153d.js"><link rel="prefetch" href="/assets/js/180.ddf3ecf7.js"><link rel="prefetch" href="/assets/js/181.4da0855c.js"><link rel="prefetch" href="/assets/js/182.591d135a.js"><link rel="prefetch" href="/assets/js/183.9d08f9fe.js"><link rel="prefetch" href="/assets/js/185.ee1c8428.js"><link rel="prefetch" href="/assets/js/186.c7b19133.js"><link rel="prefetch" href="/assets/js/187.52945990.js"><link rel="prefetch" href="/assets/js/188.a1d395c5.js"><link rel="prefetch" href="/assets/js/189.5b66165e.js"><link rel="prefetch" href="/assets/js/19.2db19edb.js"><link rel="prefetch" href="/assets/js/190.265a75de.js"><link rel="prefetch" href="/assets/js/191.b4c65143.js"><link rel="prefetch" href="/assets/js/192.cc4d4115.js"><link rel="prefetch" href="/assets/js/193.fa02ecc5.js"><link rel="prefetch" href="/assets/js/194.b0c9ad53.js"><link rel="prefetch" href="/assets/js/195.eda8cd34.js"><link rel="prefetch" href="/assets/js/196.cbae4dc6.js"><link rel="prefetch" href="/assets/js/197.693b1b85.js"><link rel="prefetch" href="/assets/js/198.8213665b.js"><link rel="prefetch" href="/assets/js/199.ddf0036d.js"><link rel="prefetch" href="/assets/js/2.4c15b693.js"><link rel="prefetch" href="/assets/js/20.6742e8ae.js"><link rel="prefetch" href="/assets/js/200.340df508.js"><link rel="prefetch" href="/assets/js/201.7431c15b.js"><link rel="prefetch" href="/assets/js/202.217b2b38.js"><link rel="prefetch" href="/assets/js/203.06c6a93d.js"><link rel="prefetch" href="/assets/js/204.a068a898.js"><link rel="prefetch" href="/assets/js/205.9361d3f5.js"><link rel="prefetch" href="/assets/js/206.886beca0.js"><link rel="prefetch" href="/assets/js/207.2278bda8.js"><link rel="prefetch" href="/assets/js/208.db0acc0d.js"><link rel="prefetch" href="/assets/js/209.0e05b204.js"><link rel="prefetch" href="/assets/js/21.fd552a4e.js"><link rel="prefetch" href="/assets/js/210.4c730041.js"><link rel="prefetch" href="/assets/js/211.417dbee1.js"><link rel="prefetch" href="/assets/js/212.eef4f4a3.js"><link rel="prefetch" href="/assets/js/213.ab742b0b.js"><link rel="prefetch" href="/assets/js/214.a57228de.js"><link rel="prefetch" href="/assets/js/216.2f110f92.js"><link rel="prefetch" href="/assets/js/217.09654311.js"><link rel="prefetch" href="/assets/js/218.a7568950.js"><link rel="prefetch" href="/assets/js/219.628ee193.js"><link rel="prefetch" href="/assets/js/22.465a76d2.js"><link rel="prefetch" href="/assets/js/220.c5df9186.js"><link rel="prefetch" href="/assets/js/221.101ddb09.js"><link rel="prefetch" href="/assets/js/222.db210e3c.js"><link rel="prefetch" href="/assets/js/223.429cbf14.js"><link rel="prefetch" href="/assets/js/224.aa002868.js"><link rel="prefetch" href="/assets/js/225.79a40017.js"><link rel="prefetch" href="/assets/js/226.3e08228b.js"><link rel="prefetch" href="/assets/js/227.a09dd4b4.js"><link rel="prefetch" href="/assets/js/228.f930c492.js"><link rel="prefetch" href="/assets/js/229.f639a9e4.js"><link rel="prefetch" href="/assets/js/23.df6831af.js"><link rel="prefetch" href="/assets/js/230.e8ac7aad.js"><link rel="prefetch" href="/assets/js/231.99501214.js"><link rel="prefetch" href="/assets/js/232.e2932792.js"><link rel="prefetch" href="/assets/js/233.43dfa689.js"><link rel="prefetch" href="/assets/js/234.7951f9c4.js"><link rel="prefetch" href="/assets/js/235.1dc96b6c.js"><link rel="prefetch" href="/assets/js/236.40b8d4e4.js"><link rel="prefetch" href="/assets/js/237.75a692de.js"><link rel="prefetch" href="/assets/js/238.cc9d9ac1.js"><link rel="prefetch" href="/assets/js/239.4616a566.js"><link rel="prefetch" href="/assets/js/24.b68dc734.js"><link rel="prefetch" href="/assets/js/240.dd825147.js"><link rel="prefetch" href="/assets/js/241.85e3219b.js"><link rel="prefetch" href="/assets/js/242.bf4123c4.js"><link rel="prefetch" href="/assets/js/243.ce68f4f0.js"><link rel="prefetch" href="/assets/js/244.e2598d4d.js"><link rel="prefetch" href="/assets/js/245.2c696827.js"><link rel="prefetch" href="/assets/js/246.2c44a497.js"><link rel="prefetch" href="/assets/js/247.02405fce.js"><link rel="prefetch" href="/assets/js/248.6727bdf6.js"><link rel="prefetch" href="/assets/js/249.4901f575.js"><link rel="prefetch" href="/assets/js/25.d639c65c.js"><link rel="prefetch" href="/assets/js/250.c922c9ea.js"><link rel="prefetch" href="/assets/js/251.b1350ead.js"><link rel="prefetch" href="/assets/js/252.8295c5ea.js"><link rel="prefetch" href="/assets/js/253.b0a9ba20.js"><link rel="prefetch" href="/assets/js/254.d208b848.js"><link rel="prefetch" href="/assets/js/255.2cfb6ad3.js"><link rel="prefetch" href="/assets/js/256.e7687a81.js"><link rel="prefetch" href="/assets/js/257.db329d54.js"><link rel="prefetch" href="/assets/js/258.be75b1f9.js"><link rel="prefetch" href="/assets/js/259.67500f7e.js"><link rel="prefetch" href="/assets/js/26.9db429a9.js"><link rel="prefetch" href="/assets/js/260.73609cfa.js"><link rel="prefetch" href="/assets/js/261.22fc7c08.js"><link rel="prefetch" href="/assets/js/262.2c620ccd.js"><link rel="prefetch" href="/assets/js/263.e0ce1454.js"><link rel="prefetch" href="/assets/js/264.7fe82318.js"><link rel="prefetch" href="/assets/js/265.537d06c5.js"><link rel="prefetch" href="/assets/js/266.901695a7.js"><link rel="prefetch" href="/assets/js/267.8eb24590.js"><link rel="prefetch" href="/assets/js/268.a21e44dc.js"><link rel="prefetch" href="/assets/js/269.33e6ce5d.js"><link rel="prefetch" href="/assets/js/27.2296e284.js"><link rel="prefetch" href="/assets/js/270.31507ac3.js"><link rel="prefetch" href="/assets/js/271.b9406b42.js"><link rel="prefetch" href="/assets/js/272.0acaba6f.js"><link rel="prefetch" href="/assets/js/273.c2e359b0.js"><link rel="prefetch" href="/assets/js/274.a80428a6.js"><link rel="prefetch" href="/assets/js/28.7e4f4dc1.js"><link rel="prefetch" href="/assets/js/29.ba75f79a.js"><link rel="prefetch" href="/assets/js/30.16cd3622.js"><link rel="prefetch" href="/assets/js/31.54ed5bc1.js"><link rel="prefetch" href="/assets/js/32.b2fbba6a.js"><link rel="prefetch" href="/assets/js/33.f7ff0107.js"><link rel="prefetch" href="/assets/js/34.4b2cea7d.js"><link rel="prefetch" href="/assets/js/35.1159e74c.js"><link rel="prefetch" href="/assets/js/36.0b6296f3.js"><link rel="prefetch" href="/assets/js/37.fc67879e.js"><link rel="prefetch" href="/assets/js/38.637afaf8.js"><link rel="prefetch" href="/assets/js/39.748a78f3.js"><link rel="prefetch" href="/assets/js/40.4fede9bb.js"><link rel="prefetch" href="/assets/js/41.c7f0b087.js"><link rel="prefetch" href="/assets/js/42.5b1a487d.js"><link rel="prefetch" href="/assets/js/43.59275b93.js"><link rel="prefetch" href="/assets/js/44.b18a4c94.js"><link rel="prefetch" href="/assets/js/45.bc8f7cb3.js"><link rel="prefetch" href="/assets/js/46.6a4ec89f.js"><link rel="prefetch" href="/assets/js/47.e1e129e6.js"><link rel="prefetch" href="/assets/js/48.c284ce23.js"><link rel="prefetch" href="/assets/js/49.17e5dd65.js"><link rel="prefetch" href="/assets/js/5.e3d12916.js"><link rel="prefetch" href="/assets/js/50.34c3ac45.js"><link rel="prefetch" href="/assets/js/51.035f7031.js"><link rel="prefetch" href="/assets/js/52.e9ef227a.js"><link rel="prefetch" href="/assets/js/53.ecbb032d.js"><link rel="prefetch" href="/assets/js/54.e9af4cfe.js"><link rel="prefetch" href="/assets/js/55.7e71402b.js"><link rel="prefetch" href="/assets/js/56.511071fe.js"><link rel="prefetch" href="/assets/js/57.13b7fe79.js"><link rel="prefetch" href="/assets/js/58.e51f8b0e.js"><link rel="prefetch" href="/assets/js/59.a1b8bdb7.js"><link rel="prefetch" href="/assets/js/6.5fc3f358.js"><link rel="prefetch" href="/assets/js/60.fd7e1c08.js"><link rel="prefetch" href="/assets/js/61.0daf2361.js"><link rel="prefetch" href="/assets/js/62.04632944.js"><link rel="prefetch" href="/assets/js/63.f0dd5615.js"><link rel="prefetch" href="/assets/js/64.89a4b562.js"><link rel="prefetch" href="/assets/js/65.6764ff0c.js"><link rel="prefetch" href="/assets/js/66.049bdee1.js"><link rel="prefetch" href="/assets/js/67.b0d4ec16.js"><link rel="prefetch" href="/assets/js/68.46d97067.js"><link rel="prefetch" href="/assets/js/69.f540f0da.js"><link rel="prefetch" href="/assets/js/7.ce17dd73.js"><link rel="prefetch" href="/assets/js/70.17d8f857.js"><link rel="prefetch" href="/assets/js/71.b2a166a0.js"><link rel="prefetch" href="/assets/js/72.1c17a875.js"><link rel="prefetch" href="/assets/js/73.dac8984b.js"><link rel="prefetch" href="/assets/js/74.5bbc33ac.js"><link rel="prefetch" href="/assets/js/75.483644c7.js"><link rel="prefetch" href="/assets/js/76.de5461ab.js"><link rel="prefetch" href="/assets/js/77.7fa90702.js"><link rel="prefetch" href="/assets/js/78.f41853b8.js"><link rel="prefetch" href="/assets/js/79.598b50e6.js"><link rel="prefetch" href="/assets/js/80.61d2d23a.js"><link rel="prefetch" href="/assets/js/81.d310c6e4.js"><link rel="prefetch" href="/assets/js/82.22aa814c.js"><link rel="prefetch" href="/assets/js/83.f493eba4.js"><link rel="prefetch" href="/assets/js/84.3a32a1eb.js"><link rel="prefetch" href="/assets/js/85.2f47134e.js"><link rel="prefetch" href="/assets/js/86.74e65a77.js"><link rel="prefetch" href="/assets/js/87.e87bff96.js"><link rel="prefetch" href="/assets/js/88.aabc97af.js"><link rel="prefetch" href="/assets/js/89.b0945d87.js"><link rel="prefetch" href="/assets/js/90.630f62d3.js"><link rel="prefetch" href="/assets/js/91.ed816647.js"><link rel="prefetch" href="/assets/js/92.19065457.js"><link rel="prefetch" href="/assets/js/93.a0fe1919.js"><link rel="prefetch" href="/assets/js/94.51e48580.js"><link rel="prefetch" href="/assets/js/95.e591bede.js"><link rel="prefetch" href="/assets/js/96.1723f1d6.js"><link rel="prefetch" href="/assets/js/97.02bbb7d4.js"><link rel="prefetch" href="/assets/js/98.a3625ba6.js"><link rel="prefetch" href="/assets/js/99.1accbf48.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.5959bfd2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.66b92039.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/nav-logo.png" alt="DC's blog" class="logo"> <span class="site-name can-hide">DC's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="IT必备" class="dropdown-title"><a href="/IT/" class="link-title">IT必备</a> <span class="title" style="display:none;">IT必备</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/IT/basis/" class="nav-link">计算机基础</a></li><li class="dropdown-item"><!----> <a href="/IT/linux/" class="nav-link">linux基础</a></li><li class="dropdown-item"><!----> <a href="/IT/mysql/" class="nav-link">mysql</a></li><li class="dropdown-item"><!----> <a href="/IT/git/" class="nav-link">git</a></li><li class="dropdown-item"><!----> <a href="/IT/structure/" class="nav-link">数据结构与算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/python/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python/basis/" class="nav-link">opp</a></li><li class="dropdown-item"><!----> <a href="/python/oop/" class="nav-link">oop</a></li><li class="dropdown-item"><!----> <a href="/python/Network_concurrency/" class="nav-link">网络并发编程</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/front_end/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front_end/html/" class="nav-link">html</a></li><li class="dropdown-item"><!----> <a href="/front_end/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/front_end/js/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/front_end/jquery/" class="nav-link">jquery</a></li><li class="dropdown-item"><!----> <a href="/front_end/ui/" class="nav-link">UI</a></li><li class="dropdown-item"><!----> <a href="/front_end/vue/" class="nav-link">vue</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/python_web/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python_web/django/" class="nav-link">Django</a></li><li class="dropdown-item"><!----> <a href="/python_web/drf/" class="nav-link">drf</a></li><li class="dropdown-item"><!----> <a href="/python_web/drf_re/" class="nav-link">drf_re</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实战" class="dropdown-title"><a href="/project/" class="link-title">实战</a> <span class="title" style="display:none;">实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前后端不分离</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/project/bbs/" class="nav-link">BBS</a></li><li class="dropdown-subitem"><a href="/project/order/" class="nav-link">订单系统</a></li><li class="dropdown-subitem"><a href="/project/crm/" class="nav-link">CRM</a></li></ul></li><li class="dropdown-item"><h4>前后端分离</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/project/supply/" class="nav-link">供应链系统</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/other/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/essays/" class="nav-link">杂文</a></li><li class="dropdown-item"><h4>关于我</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/about/" class="nav-link">me</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><!----> <span class="title" style="display:;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/OnePieceDC/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatar.gif"> <div class="blogger-info"><h3>DC</h3> <span>愿我一生欢喜,不为世俗所及.</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="IT必备" class="dropdown-title"><a href="/IT/" class="link-title">IT必备</a> <span class="title" style="display:none;">IT必备</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/IT/basis/" class="nav-link">计算机基础</a></li><li class="dropdown-item"><!----> <a href="/IT/linux/" class="nav-link">linux基础</a></li><li class="dropdown-item"><!----> <a href="/IT/mysql/" class="nav-link">mysql</a></li><li class="dropdown-item"><!----> <a href="/IT/git/" class="nav-link">git</a></li><li class="dropdown-item"><!----> <a href="/IT/structure/" class="nav-link">数据结构与算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/python/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python/basis/" class="nav-link">opp</a></li><li class="dropdown-item"><!----> <a href="/python/oop/" class="nav-link">oop</a></li><li class="dropdown-item"><!----> <a href="/python/Network_concurrency/" class="nav-link">网络并发编程</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/front_end/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front_end/html/" class="nav-link">html</a></li><li class="dropdown-item"><!----> <a href="/front_end/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/front_end/js/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/front_end/jquery/" class="nav-link">jquery</a></li><li class="dropdown-item"><!----> <a href="/front_end/ui/" class="nav-link">UI</a></li><li class="dropdown-item"><!----> <a href="/front_end/vue/" class="nav-link">vue</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/python_web/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python_web/django/" class="nav-link">Django</a></li><li class="dropdown-item"><!----> <a href="/python_web/drf/" class="nav-link">drf</a></li><li class="dropdown-item"><!----> <a href="/python_web/drf_re/" class="nav-link">drf_re</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实战" class="dropdown-title"><a href="/project/" class="link-title">实战</a> <span class="title" style="display:none;">实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前后端不分离</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/project/bbs/" class="nav-link">BBS</a></li><li class="dropdown-subitem"><a href="/project/order/" class="nav-link">订单系统</a></li><li class="dropdown-subitem"><a href="/project/crm/" class="nav-link">CRM</a></li></ul></li><li class="dropdown-item"><h4>前后端分离</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/project/supply/" class="nav-link">供应链系统</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/other/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/essays/" class="nav-link">杂文</a></li><li class="dropdown-item"><h4>关于我</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/about/" class="nav-link">me</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><!----> <span class="title" style="display:;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/OnePieceDC/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>python面向过程</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/7db416/" class="sidebar-link">Python语言介绍</a></li><li><a href="/pages/3beb21/" class="sidebar-link">基本运算符和流程控制</a></li><li><a href="/pages/e8386b/" class="sidebar-link">数据类型之序列</a></li><li><a href="/pages/49737b/" class="sidebar-link">数据类型之哈希</a></li><li><a href="/pages/17fb72/" class="sidebar-link">函数基础</a></li><li><a href="/pages/bd8ead/" class="sidebar-link">函数高级</a></li><li><a href="/pages/1654ca/" class="sidebar-link">函数进阶</a></li><li><a href="/pages/3134ef/" class="sidebar-link">文件处理</a></li><li><a href="/pages/41e853/" aria-current="page" class="active sidebar-link">必用模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/41e853/#re模块" class="sidebar-link">re模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/41e853/#表达式-规则" class="sidebar-link">表达式/规则</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#单个字符" class="sidebar-link">单个字符</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#瞄点-边界" class="sidebar-link">瞄点/边界</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#数量表示" class="sidebar-link">数量表示</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#贪婪与非贪婪" class="sidebar-link">贪婪与非贪婪!</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#分组与引用" class="sidebar-link">分组与引用</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#预查断言" class="sidebar-link">预查断言</a></li><li class="sidebar-sub-header level3"><a href="/pages/41e853/#常用函数" class="sidebar-link">常用函数</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#re-search" class="sidebar-link">re.search()</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#re-match" class="sidebar-link">re.match()</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#re-findall" class="sidebar-link">re.findall()</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#re-split" class="sidebar-link">re.split()</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#re-sub" class="sidebar-link">re.sub()</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#re-compile" class="sidebar-link">re.compile()</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/41e853/#logging模块" class="sidebar-link">logging模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/41e853/#第一种方式" class="sidebar-link">第一种方式</a></li><li class="sidebar-sub-header level3"><a href="/pages/41e853/#第二种方式" class="sidebar-link">第二种方式</a></li><li class="sidebar-sub-header level3"><a href="/pages/41e853/#纯享版" class="sidebar-link">纯享版</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/41e853/#hashlib模块" class="sidebar-link">hashlib模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/41e853/#hash三大特性" class="sidebar-link">hash三大特性</a></li><li class="sidebar-sub-header level3"><a href="/pages/41e853/#文件一致性校验" class="sidebar-link">文件一致性校验</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#原理" class="sidebar-link">原理</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#实现" class="sidebar-link">实现</a></li><li class="sidebar-sub-header level3"><a href="/pages/41e853/#明文密码加密" class="sidebar-link">明文密码加密</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#原理-2" class="sidebar-link">原理</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#实现-2" class="sidebar-link">实现</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#补充-hmac模块" class="sidebar-link">补充: hmac模块</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/41e853/#subprocess模块" class="sidebar-link">subprocess模块</a></li><li class="sidebar-sub-header level2"><a href="/pages/41e853/#sys模块" class="sidebar-link">sys模块</a></li><li class="sidebar-sub-header level2"><a href="/pages/41e853/#json-pickle模块" class="sidebar-link">json&amp;pickle模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/41e853/#异同" class="sidebar-link">异同</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#json格式" class="sidebar-link">json格式</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#序列化" class="sidebar-link">序列化</a></li><li class="sidebar-sub-header level3"><a href="/pages/41e853/#json模块的使用" class="sidebar-link">json模块的使用</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#json序列化" class="sidebar-link">json序列化</a></li><li class="sidebar-sub-header level5"><a href="/pages/41e853/#json反序列化" class="sidebar-link">json反序列化</a></li><li class="sidebar-sub-header level3"><a href="/pages/41e853/#pickle模块的使用" class="sidebar-link">pickle模块的使用</a></li></ul></li></ul></li><li><a href="/pages/fe6035/" class="sidebar-link">常用模块</a></li><li><a href="/pages/9cb17f/" class="sidebar-link">模块导入与包</a></li><li><a href="/pages/d4c919/" class="sidebar-link">开胃小菜</a></li><li><a href="/pages/d74f40/" class="sidebar-link">饶头训练</a></li><li><a href="/pages/a6e50e/" class="sidebar-link">小项目之ATM_shopping</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>python面向对象</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络并发编程</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-91157402><div class="articleInfo" data-v-91157402><ul class="breadcrumbs" data-v-91157402><li data-v-91157402><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-91157402></a></li> <li data-v-91157402><a href="/categories/?category=python_Need" title="分类" data-v-91157402>python_Need</a></li><li data-v-91157402><a href="/categories/?category=python%E9%9D%A2%E5%90%91%E8%BF%87%E7%A8%8B" title="分类" data-v-91157402>python面向过程</a></li></ul> <div class="info" data-v-91157402><div title="作者" class="author iconfont icon-touxiang" data-v-91157402><a href="https://github.com/OnePieceDC" target="_blank" title="作者" class="beLink" data-v-91157402>DC</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-91157402><a href="javascript:;" data-v-91157402>2023-09-05</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">必用模块<!----></h1> <!----> <div class="theme-vdoing-content content__default"><div class="language-python line-numbers-mode"><pre class="language-python"><code>re
logging
hashlib   hmac
subprocess
sys
json   pickle
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="re模块"><a href="#re模块" class="header-anchor">#</a> re模块</h2> <blockquote><p>正则就是用一系列具有特殊含义的字符组成规则,该规则用来描述具有某一特征的字符串</p> <p><strong>常用正则,参考网址:</strong> <font color="brown"><code>https://r2coding.com/#/README?id=正则表达式</code>  !!</font></p></blockquote> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># -- 'a\n'前面加r等同于'a\\c',告知解释器里面的\不是转义字符</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'a\\n'</span><span class="token punctuation">)</span>
<span class="token number">3</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">r'a\n'</span><span class="token punctuation">)</span>
<span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="表达式-规则"><a href="#表达式-规则" class="header-anchor">#</a> 表达式/规则</h3> <h5 id="单个字符"><a href="#单个字符" class="header-anchor">#</a> 单个字符</h5> <blockquote><p>下方的正则表达式代表 <strong>一个</strong> 字符/原子.</p></blockquote> <table><thead><tr><th>表达式</th> <th>描述</th></tr></thead> <tbody><tr><td><code>[abc]</code></td> <td>原子表里面包含一组地位平等的原子, 取其中任意一个进行匹配</td></tr> <tr><td><code>[^abc]</code></td> <td>除了中括号里面的原子均可以匹配.</td></tr> <tr><td><code>[a-z]</code></td> <td>字符范围. 匹配指定范围内的任意字符</td></tr> <tr><td><code>.</code></td> <td>匹配除换行符以外的任何单个字符</td></tr> <tr><td><code>\</code></td> <td>用于转义.</td></tr> <tr><td><code>\w</code></td> <td>匹配一个字母数字或下划线, 等价于<code>[A-Za-z0-9_]</code></td></tr> <tr><td><code>\W</code></td> <td>匹配一个非字母数字下划线的字符, 等价于<code>[^A-Za-z0-9_]</code></td></tr> <tr><td><code>\d</code></td> <td>匹配一个数字, 等价于 <code>[0-9]</code></td></tr> <tr><td><code>\D</code></td> <td>匹配一个非数字字符</td></tr> <tr><td><code>\s</code></td> <td>匹配一个空白字符, 包括空格、制表符等.. 等价于 <code>[\t\n\r\f]</code></td></tr> <tr><td><code>\S</code></td> <td>匹配一个非空白字符</td></tr> <tr><td><code>\t</code></td> <td>匹配一个制表符</td></tr> <tr><td><code>\n</code></td> <td>匹配一个换行符</td></tr></tbody></table> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> re
<span class="token comment"># -- findall(pattern, string)  返回string中所有与pattern匹配的全部字符串,返回形式为数组</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'\s'</span><span class="token punctuation">,</span><span class="token string">'hell\no 12\t3_ */-='</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'\n'</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">,</span> <span class="token string">'\t'</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'dc'</span><span class="token punctuation">,</span><span class="token string">'dc is dc'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'dc'</span><span class="token punctuation">,</span> <span class="token string">'dc'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'[ay3]'</span><span class="token punctuation">,</span><span class="token string">'123apy'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'[^y3]py'</span><span class="token punctuation">,</span><span class="token string">'123apy'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'apy'</span><span class="token punctuation">]</span>
<span class="token comment"># \- 转义'使得 - 不再代表范围'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'a[a-zA-Z+\-*/]c'</span><span class="token punctuation">,</span><span class="token string">'abc a2c aVc a+c a-c a/c aaa\nc'</span><span class="token punctuation">)</span> 
<span class="token punctuation">[</span><span class="token string">'abc'</span><span class="token punctuation">,</span> <span class="token string">'aVc'</span><span class="token punctuation">,</span> <span class="token string">'a+c'</span><span class="token punctuation">,</span> <span class="token string">'a-c'</span><span class="token punctuation">,</span> <span class="token string">'a/c'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'a[a-z][A-Z]c'</span><span class="token punctuation">,</span><span class="token string">'abc abVc aaa1ac'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'abVc'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'a.c'</span><span class="token punctuation">,</span><span class="token string">'abc a2c aer aaa\nc aaa1ac'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'abc'</span><span class="token punctuation">,</span> <span class="token string">'a2c'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'a.c'</span><span class="token punctuation">,</span><span class="token string">'abc a2c aer aaa\nc aaa1ac'</span><span class="token punctuation">,</span>re<span class="token punctuation">.</span>DOTALL<span class="token punctuation">)</span> <span class="token comment"># -- re.DOTALL 使 . 包含换行符\n</span>
<span class="token punctuation">[</span><span class="token string">'abc'</span><span class="token punctuation">,</span> <span class="token string">'a2c'</span><span class="token punctuation">,</span> <span class="token string">'a\nc'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h5 id="瞄点-边界"><a href="#瞄点-边界" class="header-anchor">#</a> 瞄点/边界</h5> <table><thead><tr><th><strong>表达式</strong></th> <th><strong>描述</strong></th></tr></thead> <tbody><tr><td><code>^</code></td> <td>匹配字符串或行开头</td></tr> <tr><td><code>$</code></td> <td>匹配字符串或行结尾</td></tr> <tr><td><code>\b</code></td> <td>匹配单词边界。比如<code>Sheep\b</code>可以匹配<code>CodeSheep</code>末尾的<code>Sheep</code>，不能匹配<code>CodeSheepCode</code>中的<code>Sheep</code></td></tr> <tr><td><code>\B</code></td> <td>匹配非单词边界。比如<code>Code\B</code>可以匹配<code>HelloCodeSheep</code>中的<code>Code</code>，不能匹配<code>HelloCode</code>中的<code>Code</code>。</td></tr></tbody></table> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'^dc'</span><span class="token punctuation">,</span><span class="token string">'my name is dc'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'^dc'</span><span class="token punctuation">,</span><span class="token string">'dcdc is cool!'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'dc'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="数量表示"><a href="#数量表示" class="header-anchor">#</a> 数量表示</h5> <blockquote><p>注意哦! <code>*</code>、<code>?</code>、<code>+</code>、<code>{n,m}</code> 不能单独使用, 搭配字符使用.</p></blockquote> <table><thead><tr><th><strong>表达式</strong></th> <th><strong>描述</strong></th></tr></thead> <tbody><tr><td><code>?</code></td> <td>代表?左侧的那个字符可出现0次或1次   <code>{0,1}</code></td></tr> <tr><td><code>+</code></td> <td>代表?左侧的那个字符可出现1次或无穷多次 <code>{1,}</code></td></tr> <tr><td><code>*</code></td> <td>代表*左侧的那个字符可出现0次或无穷多次 <code>{0,}</code></td></tr> <tr><td><code>|</code></td> <td>或运算符. 并集, 可以匹配符号前后的表达式 eg: a|b 匹配a或b</td></tr> <tr><td><code>{m}</code></td> <td>代表左侧的那个字符恰好出现m次</td></tr> <tr><td><code>{m,}</code></td> <td>代表左侧的那个字符至少出现m次</td></tr> <tr><td><code>{m,n}</code></td> <td>代表左侧的那个字符至少出现m次,至多出现n次</td></tr></tbody></table> <p><font color="blue">Ps: 表格中说左侧的字符, 不准确, 要注意正则表达式中存在分组的情况.</font></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'ac*12'</span><span class="token punctuation">,</span><span class="token string">'a012 a12 acc12 acd12 accc12'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'a12'</span><span class="token punctuation">,</span> <span class="token string">'acc12'</span><span class="token punctuation">,</span> <span class="token string">'accc12'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'ac?'</span><span class="token punctuation">,</span><span class="token string">'a012 a12 acc12'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'ac'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'ac?d'</span><span class="token punctuation">,</span><span class="token string">'ad012 ac acd accd12 acc12'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'ad'</span><span class="token punctuation">,</span> <span class="token string">'acd'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'cd{1,}'</span><span class="token punctuation">,</span><span class="token string">'abcdddcdcdcd'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'cddd'</span><span class="token punctuation">,</span> <span class="token string">'cd'</span><span class="token punctuation">,</span> <span class="token string">'cd'</span><span class="token punctuation">,</span> <span class="token string">'cd'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="贪婪与非贪婪"><a href="#贪婪与非贪婪" class="header-anchor">#</a> 贪婪与非贪婪!</h5> <p><code>.*</code> : 贪婪匹配 (不够精准)<br> <code>.*?</code> : 非贪婪匹配</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># -- .*  除换行符的任意字符可以出现0次获无穷次 换言之可以匹配除换行符外任意多个任意字符</span>
<span class="token comment"># -- .*? 可以没有字符 (￣▽￣)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'a.*'</span><span class="token punctuation">,</span><span class="token string">'abs2131c12312kkjkasc23'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'abs2131c12312kkjkasc23'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'a.*'</span><span class="token punctuation">,</span><span class="token string">'abs2131c1\n2312kkjkasc23'</span><span class="token punctuation">)</span> <span class="token comment"># -- 注意哦,有个\n</span>
<span class="token punctuation">[</span><span class="token string">'abs2131c1'</span><span class="token punctuation">,</span> <span class="token string">'asc23'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'a.*'</span><span class="token punctuation">,</span><span class="token string">'abs2131c1\n2312kkjkasc23'</span><span class="token punctuation">,</span>re<span class="token punctuation">.</span>DOTALL<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'abs2131c1\n2312kkjkasc23'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'a.*?'</span><span class="token punctuation">,</span><span class="token string">'abs2131c12312kkjkasc23'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">]</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'a.*c'</span><span class="token punctuation">,</span><span class="token string">'abs2131c12312kkjkasc23'</span><span class="token punctuation">)</span>   <span class="token comment"># -- 贪婪,碰到c后还不停止</span>
<span class="token punctuation">[</span><span class="token string">'abs2131c12312kkjkasc'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'a.*?c'</span><span class="token punctuation">,</span><span class="token string">'abs2131c12312kkjkasc23'</span><span class="token punctuation">)</span>  <span class="token comment"># -- 非贪婪,碰到c就停止</span>
<span class="token punctuation">[</span><span class="token string">'abs2131c'</span><span class="token punctuation">,</span> <span class="token string">'asc'</span><span class="token punctuation">]</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'a.*c?'</span><span class="token punctuation">,</span><span class="token string">'abs2131c12312kkjkasc23'</span><span class="token punctuation">)</span>  <span class="token comment"># -- c可以出现0或1次,那不就等同于 'a.*' 嘛</span>
<span class="token punctuation">[</span><span class="token string">'abs2131c12312kkjkasc23'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'a.*?c?'</span><span class="token punctuation">,</span><span class="token string">'abs2131c12312kkjkasc23'</span><span class="token punctuation">)</span> <span class="token comment"># -- 等同于 'a.*?'</span>
<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h5 id="分组与引用"><a href="#分组与引用" class="header-anchor">#</a> 分组与引用</h5> <table><thead><tr><th><strong>表达式</strong></th> <th><strong>描述</strong></th></tr></thead> <tbody><tr><td><code>(expression)</code></td> <td>分组. 小括号括起来的字符会被当成一个整体来匹配</td></tr> <tr><td><code>(?:expression)</code></td> <td>非捕获分组.<br> 匹配括号里的整个字符串但不获取匹配结果, 拿不到分组引用.</td></tr> <tr><td><code>\num</code></td> <td>对前面所匹配分组的引用. 比如 <code>(\d)\1</code>可以匹配两个相同的数字,<code>(Code)(Sheep)\1\2</code>则可以匹配 <code>CodeSheepCodeSheep</code>。</td></tr></tbody></table> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'c(d){1,}'</span><span class="token punctuation">,</span><span class="token string">'abcdddcdcdcd'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span>
<span class="token comment"># -- 先得到['cdr','cdcdcdr'],然后再从结果中取'cd'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'(cd){1,}r'</span><span class="token punctuation">,</span><span class="token string">'abcdrddcdcdcdr'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'cd'</span><span class="token punctuation">,</span> <span class="token string">'cd'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'(?:cd){1,}r'</span><span class="token punctuation">,</span><span class="token string">'abcdrddcdcdcdr'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'cdr'</span><span class="token punctuation">,</span> <span class="token string">'cdcdcdr'</span><span class="token punctuation">]</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'compan(?:ies|y)'</span><span class="token punctuation">,</span><span class="token string">'too many companies hava ..., next company is ..'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'companies'</span><span class="token punctuation">,</span> <span class="token string">'company'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'compan(ies|y)'</span><span class="token punctuation">,</span><span class="token string">'too many companies hava ..., next company is ..'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'ies'</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">]</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'exp=&quot;.*&quot;'</span><span class="token punctuation">,</span><span class="token string">'exp=&quot;1+2+3/4*5&quot; egon=&quot;cool&quot;'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'exp=&quot;1+2+3/4*5&quot; egon=&quot;cool&quot;'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'exp=&quot;.*?&quot;'</span><span class="token punctuation">,</span><span class="token string">'exp=&quot;1+2+3/4*5&quot; egon=&quot;cool&quot;'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'exp=&quot;1+2+3/4*5&quot;'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'exp=&quot;(.*?)&quot;'</span><span class="token punctuation">,</span><span class="token string">'exp=&quot;1+2+3/4*5&quot; egon=&quot;cool&quot;'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'1+2+3/4*5'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'(exp)=&quot;(.*?)&quot;'</span><span class="token punctuation">,</span><span class="token string">'exp=&quot;1+2+3/4*5&quot; egon=&quot;cool&quot;'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'exp'</span><span class="token punctuation">,</span> <span class="token string">'1+2+3/4*5'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token comment"># -- 'href=&quot;(.*?)&quot;' 取网址</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h5 id="预查断言"><a href="#预查断言" class="header-anchor">#</a> 预查断言</h5> <table><thead><tr><th><strong>表达式</strong></th> <th><strong>描述</strong></th></tr></thead> <tbody><tr><td><code>(?=)</code></td> <td>正向预查. <br>比如 <code>Code(?=Sheep)</code> 能匹配 <code>CodeSheep</code> 中的 <code>Code</code> , 但不能匹配 <code>CodePig</code> 中的 <code>Code</code></td></tr> <tr><td><code>(?!)</code></td> <td>正向否定预查.<br>比如 <code>Code(?!Sheep)</code> 不能匹配 <code>CodeSheep</code> 中的 <code>Code</code>, 但能匹配 <code>CodePig</code>中的<code>Code</code></td></tr> <tr><td><code>(?&lt;=)</code></td> <td>反向预查.<br>比如<code>(?&lt;=Code)Sheep</code>能匹配 <code>CodeSheep</code>中的<code>Sheep</code>，但不能匹配<code>ReadSheep</code>中的<code>Sheep</code></td></tr> <tr><td><code>(?&lt;!)</code></td> <td>反向否定预查<br>比如<code>(?&lt;!Code)Sheep</code>不能匹配 <code>CodeSheep</code>中的<code>Sheep</code>，但能匹配<code>ReadSheep</code>中的<code>Sheep</code></td></tr></tbody></table> <h3 id="常用函数"><a href="#常用函数" class="header-anchor">#</a> 常用函数</h3> <h5 id="re-search"><a href="#re-search" class="header-anchor">#</a> re.search()</h5> <blockquote><p>re.search(): 从左往右匹配,匹配成功一个就结束</p></blockquote> <p>若存在返回对象,不存在返回None<br>
注意,search方法中的正则加了括号进行分组,取的依旧是整体</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'dc'</span><span class="token punctuation">,</span><span class="token string">'my name is dc, dc is cool.'</span><span class="token punctuation">)</span>  <span class="token comment"># -- 只会找到一个,返回的是对象</span>
<span class="token operator">&lt;</span>re<span class="token punctuation">.</span>Match <span class="token builtin">object</span><span class="token punctuation">;</span> span<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">match</span><span class="token operator">=</span><span class="token string">'dc'</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'dc'</span><span class="token punctuation">,</span><span class="token string">'my name is dc, dc is cool.'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># -- 将对象的结果拿出来</span>
<span class="token string">'dc'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'d(c)'</span><span class="token punctuation">,</span><span class="token string">'my name is dc, dc is cool.'</span><span class="token punctuation">)</span>  <span class="token comment"># -- search加了括号取的也是整体</span>
<span class="token operator">&lt;</span>re<span class="token punctuation">.</span>Match <span class="token builtin">object</span><span class="token punctuation">;</span> span<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">match</span><span class="token operator">=</span><span class="token string">'dc'</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'abcd'</span><span class="token punctuation">,</span><span class="token string">'my'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># -- 没有找到,返回None. None对象是没有group()方法的,报错.</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">&quot;&lt;pyshell#31&gt;&quot;</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
    re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'abcd'</span><span class="token punctuation">,</span><span class="token string">'my'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>
AttributeError<span class="token punctuation">:</span> <span class="token string">'NoneType'</span> <span class="token builtin">object</span> has no attribute <span class="token string">'group'</span>
  
<span class="token comment"># -- 相当于,在search方法中 'd(dc){2}'等同于'd(:?dc){2}'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'d(dc){2}'</span><span class="token punctuation">,</span><span class="token string">'my name is ddc, ddcdc is cool.'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'ddcdc'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'d(:?dc){2}'</span><span class="token punctuation">,</span><span class="token string">'my name is ddc, ddcdc is cool.'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'ddcdc'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h5 id="re-match"><a href="#re-match" class="header-anchor">#</a> re.match()</h5> <blockquote><p>有点类似于search, 不同于的是它是从头开始匹配,开头不符合就返回None.</p></blockquote> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'my'</span><span class="token punctuation">,</span><span class="token string">'myismy'</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>re<span class="token punctuation">.</span>Match <span class="token builtin">object</span><span class="token punctuation">;</span> span<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">match</span><span class="token operator">=</span><span class="token string">'my'</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">'my'</span><span class="token punctuation">,</span><span class="token string">'myismy'</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>re<span class="token punctuation">.</span>Match <span class="token builtin">object</span><span class="token punctuation">;</span> span<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">match</span><span class="token operator">=</span><span class="token string">'my'</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">'my'</span><span class="token punctuation">,</span><span class="token string">'ismy'</span><span class="token punctuation">)</span>  <span class="token comment"># - 等同于 re.search('^my','ismy')  此处返回的是None</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="re-findall"><a href="#re-findall" class="header-anchor">#</a> re.findall()</h5> <blockquote><p>从头到尾找到全部</p></blockquote> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'dc'</span><span class="token punctuation">,</span><span class="token string">'my name is dc, dc is cool.'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'dc'</span><span class="token punctuation">,</span> <span class="token string">'dc'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'d(c)'</span><span class="token punctuation">,</span><span class="token string">'my name is dc, dc is cool.'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="re-split"><a href="#re-split" class="header-anchor">#</a> re.split()</h5> <blockquote><p>相比于字符串内置的split函数更强大!!</p></blockquote> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">'egon:18:male'</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'egon'</span><span class="token punctuation">,</span> <span class="token string">'18'</span><span class="token punctuation">,</span> <span class="token string">'male'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">,</span><span class="token string">'egon:18:male'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'egon'</span><span class="token punctuation">,</span> <span class="token string">'18'</span><span class="token punctuation">,</span> <span class="token string">'male'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'[o8a:e]'</span><span class="token punctuation">,</span><span class="token string">'egon:18:male'</span><span class="token punctuation">)</span>  <span class="token comment"># -- []里的字符都是分割符</span>
<span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'g'</span><span class="token punctuation">,</span> <span class="token string">'n'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'m'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="re-sub"><a href="#re-sub" class="header-anchor">#</a> re.sub()</h5> <blockquote><p>re.sub('old','new','string','num')  替换
注意哦! 没有改变原字符串 , 因为字符串是不可变的.</p></blockquote> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">'egon'</span><span class="token punctuation">,</span><span class="token string">'dc'</span><span class="token punctuation">,</span><span class="token string">'egon:18:male'</span><span class="token punctuation">)</span>
<span class="token string">'dc:18:male'</span>
<span class="token comment"># -- 'sub aaxx' ' is wxx' ' is vxx' 都被替换成了'dc'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">'.*?xx'</span><span class="token punctuation">,</span><span class="token string">'dc'</span><span class="token punctuation">,</span><span class="token string">'sub aaxx is wxx is vxx is good'</span><span class="token punctuation">)</span>
<span class="token string">'dcdcdc is good'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">'[a-z]+xx'</span><span class="token punctuation">,</span><span class="token string">'dc'</span><span class="token punctuation">,</span><span class="token string">'sub aaxx is wxx is vxx is good'</span><span class="token punctuation">)</span>
<span class="token string">'sub dc is dc is dc is good'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="re-compile"><a href="#re-compile" class="header-anchor">#</a> re.compile()</h5> <blockquote><p>pattern = re.compile('正则')  可以预存一个正则表达式,反复使用！</p></blockquote> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> pattern <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">'egon'</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> pattern<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'egon is cool.my name is egon。'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'egon'</span><span class="token punctuation">,</span> <span class="token string">'egon'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> pattern<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'egon is cool.my name is egon。'</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>re<span class="token punctuation">.</span>Match <span class="token builtin">object</span><span class="token punctuation">;</span> span<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">match</span><span class="token operator">=</span><span class="token string">'egon'</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><hr> <h2 id="logging模块"><a href="#logging模块" class="header-anchor">#</a> logging模块</h2> <blockquote><p>logging模块包含四种角色: Logger、Filter、Formatter、Handler<br>
Filter 过滤日志 暂时不会用.</p> <p><strong>参考链接:</strong> <code>https://www.cnblogs.com/linhaifeng/articles/6384466.html#_label12</code></p></blockquote> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token triple-quoted-string string">&quot;&quot;&quot;
★ --日志格式
&quot;&quot;&quot;</span>
<span class="token operator">%</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>s              Logger的名字
<span class="token operator">%</span><span class="token punctuation">(</span>levelno<span class="token punctuation">)</span>s           数字形式的日志级别
<span class="token operator">%</span><span class="token punctuation">(</span>levelname<span class="token punctuation">)</span>s         文本形式的日志级别
<span class="token operator">%</span><span class="token punctuation">(</span>pathname<span class="token punctuation">)</span>s          调用日志输出函数的模块的完整路径名<span class="token punctuation">,</span>可能没有
<span class="token operator">%</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span>s          调用日志输出函数的模块的文件名
<span class="token operator">%</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span>s            调用日志输出函数的模块名
<span class="token operator">%</span><span class="token punctuation">(</span>funcName<span class="token punctuation">)</span>s          调用日志输出函数的函数名
<span class="token operator">%</span><span class="token punctuation">(</span>lineno<span class="token punctuation">)</span>d            调用日志输出函数的语句所在的代码行
<span class="token operator">%</span><span class="token punctuation">(</span>created<span class="token punctuation">)</span>f           当前时间<span class="token punctuation">,</span>用UNIX标准表示时间<span class="token punctuation">,</span>浮点数表示
<span class="token operator">%</span><span class="token punctuation">(</span>relativeCreated<span class="token punctuation">)</span>d   输出日志信息时的<span class="token punctuation">,</span>自Logger创建以来的毫秒数
<span class="token operator">%</span><span class="token punctuation">(</span>asctime<span class="token punctuation">)</span>s           字符串形式的当前时间<span class="token punctuation">.</span> 默认格式是 <span class="token string">&quot;2003-07-08 16:49:45,896&quot;</span><span class="token punctuation">.</span>逗号后面的是毫秒
<span class="token operator">%</span><span class="token punctuation">(</span>thread<span class="token punctuation">)</span>d            线程ID<span class="token punctuation">,</span>可能没有
<span class="token operator">%</span><span class="token punctuation">(</span>threadName<span class="token punctuation">)</span>s        线程名<span class="token punctuation">,</span>可能没有
<span class="token operator">%</span><span class="token punctuation">(</span>process<span class="token punctuation">)</span>d           进程ID<span class="token punctuation">,</span>可能没有
<span class="token operator">%</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>s           用户输出的消息
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="第一种方式"><a href="#第一种方式" class="header-anchor">#</a> 第一种方式</h3> <p>cmd控制台屏幕输出: <code>2022-09-26 14:45:01: 小明给了小红100</code><br>
a1.log文件输出: <code>2022-09-26 14:45:01 PM - 交易日志 - INFO - 1: 小明给了小红100</code><br>
a2.log文件输出: <code>2022-09-26 14:45:01: 小明给了小红100</code></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># -- 1.py</span>
<span class="token keyword">import</span> logging

<span class="token triple-quoted-string string">&quot;&quot;&quot;
★ --Logger: 负责产生日志信息
&quot;&quot;&quot;</span>
<span class="token comment"># -- 此处'交易日志'是Logger日志的名字</span>
logger1 <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token string">'交易日志'</span><span class="token punctuation">)</span>


<span class="token triple-quoted-string string">&quot;&quot;&quot;
★ --Formatter: 控制日志格式
&quot;&quot;&quot;</span>
formatter1 <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span>
    fmt<span class="token operator">=</span><span class="token string">'%(asctime)s - %(name)s - %(levelname)s - %(module)s: %(message)s'</span><span class="token punctuation">,</span>
    datefmt<span class="token operator">=</span><span class="token string">'%Y-%m-%d %H:%M:%S %p'</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
formatter2 <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span>
    fmt<span class="token operator">=</span><span class="token string">'%(asctime)s: %(message)s'</span><span class="token punctuation">,</span>
    datefmt<span class="token operator">=</span><span class="token string">'%Y-%m-%d %X'</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>


<span class="token triple-quoted-string string">&quot;&quot;&quot;
★ --Handler: 负责日志输出的目标
&quot;&quot;&quot;</span>
h1 <span class="token operator">=</span> logging<span class="token punctuation">.</span>FileHandler<span class="token punctuation">(</span>filename<span class="token operator">=</span><span class="token string">'a1.log'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
h2 <span class="token operator">=</span> logging<span class="token punctuation">.</span>FileHandler<span class="token punctuation">(</span>filename<span class="token operator">=</span><span class="token string">'a2.log'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
sm <span class="token operator">=</span> logging<span class="token punctuation">.</span>StreamHandler<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># -- 屏幕</span>


<span class="token triple-quoted-string string">&quot;&quot;&quot;
★ --▲绑定logger对象与handler对象
&quot;&quot;&quot;</span>
logger1<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>h1<span class="token punctuation">)</span>
logger1<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>h2<span class="token punctuation">)</span>
logger1<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>sm<span class="token punctuation">)</span>


<span class="token triple-quoted-string string">&quot;&quot;&quot;
★ --▲绑定handler对象与formatter对象
&quot;&quot;&quot;</span>
h1<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter1<span class="token punctuation">)</span>
h2<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter2<span class="token punctuation">)</span>
sm<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter2<span class="token punctuation">)</span>

<span class="token triple-quoted-string string">&quot;&quot;&quot;
★ --设置日志级别: 可以在logger与handler这两个角色处进行设置
日志级别有5档: debug -&gt; info -&gt; warning(默认) -&gt; error -&gt; critical
分别对应数字:  调试10 - 消息20 - 警告30 - 错误40 - 严重50
1&gt; 若设置日志级别为error,那么会记录error和critical的信息
2&gt; 若设置了`logger1.setLevel(30)`,那么`h1.setLevel(10)`是不生效的.
   handler设置的日志级别应该大于等于logger!!
&quot;&quot;&quot;</span>
<span class="token comment"># -- logger1.setLevel(30)</span>
h1<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>

logger1<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'小明给了小红100'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><h3 id="第二种方式"><a href="#第二种方式" class="header-anchor">#</a> 第二种方式</h3> <blockquote><p>我们基本上都会在settings.py文件中进行日志的配置</p></blockquote> <table><thead><tr><th>对象</th> <th>含义</th></tr></thead> <tbody><tr><td>logger</td> <td>产生日志的对象</td></tr> <tr><td>filter</td> <td>过滤日志的对象</td></tr> <tr><td>handler</td> <td>接收日志然后控制打印到不同的地方<br>FileHandler用来打印到文件中,StreamHandler用来打印到终端</td></tr> <tr><td>formatter</td> <td>可以定制不同的日志格式对象,然后绑定给不同的Handler对象使用<br>以此来控制不同的Handler的日志格式</td></tr></tbody></table> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># -- settings.py</span>
<span class="token keyword">import</span> os
<span class="token keyword">import</span> logging<span class="token punctuation">.</span>config

<span class="token triple-quoted-string string">&quot;&quot;&quot;
★ --自定义日志输出格式
standard_format 标准格式
simple_format 简单格式
&quot;&quot;&quot;</span>
standard_format <span class="token operator">=</span> <span class="token string">'[%(asctime)s][%(threadName)s:%(thread)d][task_id:%(name)s][%(filename)s:%(lineno)d]'</span> \
                  <span class="token string">'[%(levelname)s][%(message)s]'</span>
simple_format <span class="token operator">=</span> <span class="token string">'[%(levelname)s][%(asctime)s][%(filename)s:%(lineno)d]%(message)s'</span>


<span class="token triple-quoted-string string">&quot;&quot;&quot;
★ --log文件的路径
&quot;&quot;&quot;</span>
logfile_dir <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>abspath<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># -- log文件的目录</span>
logfile_name <span class="token operator">=</span> <span class="token string">'all2.log'</span>  <span class="token comment"># -- log文件名</span>
<span class="token comment"># 如果不存在定义的日志目录就创建一个</span>
<span class="token comment"># if not os.path.isdir(logfile_dir):</span>
<span class="token comment">#     os.mkdir(logfile_dir)</span>
logfile_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>logfile_dir<span class="token punctuation">,</span> logfile_name<span class="token punctuation">)</span>  <span class="token comment"># -- 拼接log文件路径</span>


<span class="token triple-quoted-string string">&quot;&quot;&quot;
★ --logging配置字典
    ▲handler&amp;formatter  logger&amp;handler  
&quot;&quot;&quot;</span>
LOGGING_DIC <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'version'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token comment"># -- 版本号</span>
    <span class="token string">'disable_existing_loggers'</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
    <span class="token string">'formatters'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment"># -- 注意:'standard'、'simple'是可自己定义的名字 format是固定的名字不能改</span>
        <span class="token string">'standard'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'format'</span><span class="token punctuation">:</span> standard_format
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">'simple'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'format'</span><span class="token punctuation">:</span> simple_format
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'filters'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment"># -- 自定义了两个handler对象 console和default</span>
    <span class="token string">'handlers'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment"># -- 1&gt; 打印到终端的日志</span>
        <span class="token string">'console'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'level'</span><span class="token punctuation">:</span> <span class="token string">'DEBUG'</span><span class="token punctuation">,</span>
            <span class="token string">'class'</span><span class="token punctuation">:</span> <span class="token string">'logging.StreamHandler'</span><span class="token punctuation">,</span>  <span class="token comment"># -- 'logging.StreamHandler'表明打印到屏幕</span>
            <span class="token string">'formatter'</span><span class="token punctuation">:</span> <span class="token string">'simple'</span>              <span class="token comment"># -- 与formatter进行绑定</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment"># -- 2&gt; 打印到文件的日志,收集DEBUG及以上的日志</span>
        <span class="token string">'default1'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'level'</span><span class="token punctuation">:</span> <span class="token string">'DEBUG'</span><span class="token punctuation">,</span>                <span class="token comment"># -- 设置日志级别(第二层的关卡)</span>
            <span class="token string">'class'</span><span class="token punctuation">:</span> <span class="token string">'logging.FileHandler'</span><span class="token punctuation">,</span>  <span class="token comment"># -- logging.FileHandler表明保存到文件</span>
            <span class="token string">'formatter'</span><span class="token punctuation">:</span> <span class="token string">'standard'</span><span class="token punctuation">,</span>         <span class="token comment"># -- formatter的值是前面formatters部分中自定义的</span>
            <span class="token string">'filename'</span><span class="token punctuation">:</span> logfile_path<span class="token punctuation">,</span>        <span class="token comment"># -- 日志文件名,准确点说是日志输出路径</span>
            <span class="token string">'encoding'</span><span class="token punctuation">:</span> <span class="token string">'utf-8'</span><span class="token punctuation">,</span>             <span class="token comment"># -- 日志文件的编码,再也不用担心中文log乱码了</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'loggers'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment"># -- 默认配置</span>
        <span class="token string">''</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token comment"># -- 这里把上面定义的两个handler都加上,即log数据既写入文件又打印到屏幕</span>
            <span class="token string">'handlers'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'console'</span><span class="token punctuation">,</span> <span class="token string">'default1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
            <span class="token string">'level'</span><span class="token punctuation">:</span> <span class="token string">'DEBUG'</span><span class="token punctuation">,</span>  <span class="token comment"># 设置日志级别(第一层关卡)</span>
            <span class="token string">'propagate'</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>  <span class="token comment"># 这个配置关乎logger的继承</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>


<span class="token keyword">def</span> <span class="token function">load_my_logging_cfg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    logging<span class="token punctuation">.</span>config<span class="token punctuation">.</span>dictConfig<span class="token punctuation">(</span>LOGGING_DIC<span class="token punctuation">)</span>  <span class="token comment"># 导入上面定义的logging字典配置</span>
    <span class="token comment"># -- logging.getLogger('可指定任意的日志名')</span>
    <span class="token comment"># -- 会去字典的loggers属性里面找,没找到就用&quot; &quot;默认配置</span>
    logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token string">'交易日志'</span><span class="token punctuation">)</span>  
    <span class="token comment"># print(logger)  # -- &lt;Logger logger1 (DEBUG)&gt;</span>
    logger<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">'It debug!'</span><span class="token punctuation">)</span>
    logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'It works!'</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    load_my_logging_cfg<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
<span class="token triple-quoted-string string">&quot;&quot;&quot;
cmd控制台输出:
[DEBUG][2022-09-26 15:57:30,103][settings.py:70]It debug!
[INFO][2022-09-26 15:57:30,104][settings.py:71]It works!

all2.log文件:
[2022-09-26 15:57:30,103][MainThread:4670004736][task_id:交易日志][settings.py:70][DEBUG][It debug!]
[2022-09-26 15:57:30,104][MainThread:4670004736][task_id:交易日志][settings.py:71][INFO][It works!]
&quot;&quot;&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br></div></div><h3 id="纯享版"><a href="#纯享版" class="header-anchor">#</a> 纯享版</h3> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> logging<span class="token punctuation">.</span>config
<span class="token keyword">import</span> os

base_dir <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">)</span>
base_db <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>base_dir<span class="token punctuation">,</span> <span class="token string">&quot;db&quot;</span><span class="token punctuation">)</span>
base_log <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>base_dir<span class="token punctuation">,</span> <span class="token string">&quot;log&quot;</span><span class="token punctuation">)</span>

<span class="token triple-quoted-string string">&quot;&quot;&quot;
★ --logging日志配置
&quot;&quot;&quot;</span>
standard_format <span class="token operator">=</span> <span class="token string">'[%(asctime)s][%(threadName)s:%(thread)d][task_id:%(name)s][%(filename)s:%(lineno)d]'</span> \
                  <span class="token string">'[%(levelname)s][%(message)s]'</span>
simple_format <span class="token operator">=</span> <span class="token string">'[%(levelname)s][%(asctime)s][%(filename)s:%(lineno)d]%(message)s'</span>

logfile_name <span class="token operator">=</span> <span class="token string">'ATM.log'</span>
<span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isdir<span class="token punctuation">(</span>base_log<span class="token punctuation">)</span><span class="token punctuation">:</span>
    os<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>base_log<span class="token punctuation">)</span>
logfile_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>base_log<span class="token punctuation">,</span> logfile_name<span class="token punctuation">)</span>

LOGGING_DIC <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'version'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">'disable_existing_loggers'</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
    <span class="token string">'formatters'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'standard'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'format'</span><span class="token punctuation">:</span> standard_format
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">'simple'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'format'</span><span class="token punctuation">:</span> simple_format
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'filters'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'handlers'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'console'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'level'</span><span class="token punctuation">:</span> <span class="token string">'DEBUG'</span><span class="token punctuation">,</span>
            <span class="token string">'class'</span><span class="token punctuation">:</span> <span class="token string">'logging.StreamHandler'</span><span class="token punctuation">,</span>
            <span class="token string">'formatter'</span><span class="token punctuation">:</span> <span class="token string">'simple'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">'file'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'level'</span><span class="token punctuation">:</span> <span class="token string">'DEBUG'</span><span class="token punctuation">,</span>
            <span class="token string">'class'</span><span class="token punctuation">:</span> <span class="token string">'logging.FileHandler'</span><span class="token punctuation">,</span>
            <span class="token string">'formatter'</span><span class="token punctuation">:</span> <span class="token string">'standard'</span><span class="token punctuation">,</span>
            <span class="token string">'filename'</span><span class="token punctuation">:</span> logfile_path<span class="token punctuation">,</span>
            <span class="token string">'encoding'</span><span class="token punctuation">:</span> <span class="token string">'utf-8'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'loggers'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">''</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'handlers'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'console'</span><span class="token punctuation">,</span> <span class="token string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">'level'</span><span class="token punctuation">:</span> <span class="token string">'DEBUG'</span><span class="token punctuation">,</span>
            <span class="token string">'propagate'</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">load_my_logging_cfg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        logging<span class="token punctuation">.</span>config<span class="token punctuation">.</span>dictConfig<span class="token punctuation">(</span>LOGGING_DIC<span class="token punctuation">)</span>
        logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token string">'交易日志'</span><span class="token punctuation">)</span>
        logger<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">'It debug!'</span><span class="token punctuation">)</span>
        logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'It works!'</span><span class="token punctuation">)</span>


    load_my_logging_cfg<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div><hr> <h2 id="hashlib模块"><a href="#hashlib模块" class="header-anchor">#</a> hashlib模块</h2> <blockquote><p>hash是一种算法,该算法接受传入的内容(文本文件--字符;视频文件--二进制),经过运算得到一串hash值.</p></blockquote> <p><font color="gray">主要提供SHA1 SHA224 SHA256  SHA384  SHA512 MD5算法</font></p> <h3 id="hash三大特性"><a href="#hash三大特性" class="header-anchor">#</a> hash三大特性</h3> <p>1&gt; 只要传入的内容一样, 得到的hash值必然一样！<br> <font color="lighblue">在浏览器中下载文件,最后会停顿下,就是在做hash校验,避免在网络传输过程中文件出错,保证文件完整.</font><br>
2&gt; 只要我们使用的hash算法固定,无论传入的内容有多大,得到的hash值的长度是固定的<br> <font color="lighblue">下载的文件内容是1个T呢?是否意味着hash值也会占很大的内存？所以hash值长度需要固定. </font>
3&gt; 不可以用hash值逆推出原来的内容,单向的<br> <font color="lighblue">在网络传输过程中的包可能会被截获. 若账号密码是明文的那就完蛋了. </font></p> <p>基于1和2可以在下载文件时做文件 <font color="brown"><strong>一致性校验</strong></font><br>
基于1和3可以对密码进行 <font color="brown"><strong>加密</strong></font></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> hashlib

<span class="token comment"># -- 1&gt; 造出hash工厂</span>
<span class="token comment">#       还可以是其它算法 m = hashlib.sha512()</span>
<span class="token comment"># m = hashlib.md5('python'.encode('utf8')) 可以先传一段数据.</span>
m <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># -- 2&gt; 运送原材料</span>
<span class="token comment">#       update值接收bytes类型的数据</span>
<span class="token comment"># -- 注意:可以将一段很长的数据update多次,与一次update这段长数据,得到的结果是一样的.</span>
m<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
m<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token string">'world'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># -- 3&gt; 产出hash值 &quot;一串由小写字母和数字构成的字符串&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># fc5e038d38a57032085441e7fe7010b0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="文件一致性校验"><a href="#文件一致性校验" class="header-anchor">#</a> 文件一致性校验</h3> <h5 id="原理"><a href="#原理" class="header-anchor">#</a> 原理</h5> <p>客户端从服务端下载一个文件, S传输文件给C的同时,会传给C一个加密该文件后得到的hash值.<br>
传输完毕,C同样对文件进行加密,比对hash值是否相同.. 若相同则证明文件是完整的,没有被篡改过.</p> <p><strong>Q:</strong> 中间人需要如何攻击呢？<br> <strong>A:</strong> 它需要得到所有的数据包,(因为文件是一段一段传输的),并且篡改加入攻击代码,给一个新的hash值.<br>
这样客户端才发觉不到异常.. 但凡某一环节出现问题,攻击都会失败..</p> <h5 id="实现"><a href="#实现" class="header-anchor">#</a> 实现</h5> <p><strong>Q:</strong> <code>m.update(f.read())</code>  文件过大可能就卡死了！<br> <strong>A:</strong> 一行一行的拿出来虽然解决了内存问题,但若视频文件有1个T,要循环许久许久.<br>
     我们不应该将文件真的全读完,应采用比例的方式缩短算hash值的时间<br> <font color="brown">c/s端都按照我们自定义的方式进行hash校验!!</font></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> hashlib

m <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'01.mp4'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    <span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">:</span>
        m<span class="token punctuation">.</span>update<span class="token punctuation">(</span>line<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="明文密码加密"><a href="#明文密码加密" class="header-anchor">#</a> 明文密码加密</h3> <p><font color="gray">(´▽｀)没有绝对的安全哦! 有程序就有漏洞,只需提升安全等级,让破坏者的破解成本远远大于其收益.</font></p> <h5 id="原理-2"><a href="#原理-2" class="header-anchor">#</a> 原理</h5> <p>用户注册后, 服务端是有一份正确的用户名和对应的用哈希算法(假设是md5)加密后的密码的;<br>
客户端用户在登录界面输入密码后,会用md5进行加密,并将用户名与加密后的密码传到服务端进行比对..</p> <p><strong>Q:</strong> 中间人需要如何攻击呢？<br> <strong>A:</strong> 哪怕中间人截获了C传给S的数据包,拿到加密后的hash值也反推不了密码明文.<br>
     但中间人可以进行 <font color="brown"><strong>撞库</strong></font> (<font color="gray">抓包 + 猜到用的hash算法 + 常用的密码字典</font>), 蒙你的密码是多少..<br>
     一旦密码字典中的某个value通过相同的hash算法算出的hash值与抓包截获的一致.. 密码就被破解了.</p> <h5 id="实现-2"><a href="#实现-2" class="header-anchor">#</a> 实现</h5> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> hashlib

pwd <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'&gt;&gt;&gt;:'</span><span class="token punctuation">)</span>
m <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token punctuation">)</span>
m<span class="token punctuation">.</span>update<span class="token punctuation">(</span>pwd<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>解决'撞库', 办法一:使用强密码;办法二:  <font color="brown"><strong>密码加盐.</strong></font></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>m <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># -- 不加盐</span>
m<span class="token punctuation">.</span>update<span class="token punctuation">(</span>pwd<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># -- C/S端是知道加的这个'盐'是'天王盖地虎',但破坏者不知道！</span>
<span class="token comment"># -- 更狠一点,加盐加在密码的某些位置..</span>
m <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token string">'天王盖地虎'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># -- 加盐</span>
m<span class="token punctuation">.</span>update<span class="token punctuation">(</span>pwd<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="补充-hmac模块"><a href="#补充-hmac模块" class="header-anchor">#</a> 补充: hmac模块</h5> <blockquote><p>python的 <strong>hmac模块</strong> -- 基于密钥的消息验证.<br>
它内部会对我们创建key和内容进行进一步的处理后再加密！</p></blockquote> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> hmac

<span class="token comment"># -- key值'小鸡炖蘑菇',就是我们加的盐 相当于强制加'盐'</span>
m <span class="token operator">=</span> hmac<span class="token punctuation">.</span>new<span class="token punctuation">(</span><span class="token string">'小鸡炖蘑菇'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> digestmod<span class="token operator">=</span><span class="token string">'md5'</span><span class="token punctuation">)</span> 
m<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># -- value</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><hr> <h2 id="subprocess模块"><a href="#subprocess模块" class="header-anchor">#</a> subprocess模块</h2> <blockquote><p><strong>执行系统命令</strong> ,拿到结果,想咋操作就咋操作,而不是直接丢到控制台打印</p></blockquote> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> os
os<span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token string">'ls'</span><span class="token punctuation">)</span> <span class="token comment"># -- 可以执行系统命令,但执行结果直接打印到控制台上了</span>

我们想要拿到该执行结果<span class="token punctuation">,</span>咋搞？
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><font color="brown" size="4"><strong>subprocess.Popen()</strong></font></p> <p>第一个参数: 必须是字符串形式的命令<br>
第二个参数: 必须写 <code>shell=True</code>  简单理解调用命令解释器 eg:cmd终端<br>
第三个参数: <code>stdout=subprocess.PIPE</code> 命令正确输出<br>
        PIPE 管道简单理解成内存里的一种数据结构<br>
        命令结果只有一份, 丢到管道里暂存啦, 就不会直接在终端显示<br>
第四个参数: <code>stderr=subprocess.PIPE</code> 命令错误输出<br>
        这与命令正确输出的管道是两根不同的管道哦</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> subprocess
<span class="token keyword">from</span> sys <span class="token keyword">import</span> stdout
<span class="token comment"># -- py文件的运行开启了一个父进程,运行到此行代码开启一个子进程</span>
<span class="token comment">#    两个进程是完全隔离独立的,不能在内存中共享数据</span>
<span class="token comment">#    但我们需要将子进程的系统命令运行结果给父进程,只能造一个两者共享的内存空间 </span>
<span class="token comment">#    管道(进程与进程之间共享数据用的)</span>
obj <span class="token operator">=</span> subprocess<span class="token punctuation">.</span>Popen<span class="token punctuation">(</span>
    <span class="token string">'ls'</span><span class="token punctuation">,</span>
    shell<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
    <span class="token comment"># -- subprocess.PIPE每调用就会产生一个新的管道 </span>
    <span class="token comment">#    'oop里面的property-&gt;看似调用的是一属性实则是一功能的执行'</span>
    stdout<span class="token operator">=</span>subprocess<span class="token punctuation">.</span>PIPE<span class="token punctuation">,</span>
    stderr<span class="token operator">=</span>subprocess<span class="token punctuation">.</span>PIPE<span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token comment"># -- 父进程准备从正确管道读取结果,但子进程运行系统命令的结果可能还没产生呢.</span>
<span class="token comment">#    因为进程与进程之间是相互隔离 独立的</span>
<span class="token comment">#    若管道里没有结果,父进程就会在这等着子进程将结果丢到管道中,相当于取代了time.sleep()操作</span>
<span class="token comment"># 注意哦! 从管道中读走这份数据后,再读数据结果为空.因为只有一份.</span>
stdout_res <span class="token operator">=</span> obj<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># -- 系统命令的运行结果是bytes类型,固定了的. 想要打印结果,需要解码 windows-gbk;mac-utf8</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>stdout_res<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
stderr_res <span class="token operator">=</span> obj<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>stderr_res<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><hr> <h2 id="sys模块"><a href="#sys模块" class="header-anchor">#</a> sys模块</h2> <p><code>sys.path</code> 处理导入模块时的环境变量!!!</p> <p><code>sys.argv</code> 用于命令行执行py文件时, 接收后面跟着的参数</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># -- train.py</span>
<span class="token keyword">import</span> sys
<span class="token keyword">print</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> <span class="token comment"># -- ['train.py', '参数1', '参数2']</span>

<span class="token punctuation">(</span>application<span class="token punctuation">)</span> One_Piece@DCdeMacBook<span class="token operator">-</span>Air Desktop <span class="token operator">%</span> python train<span class="token punctuation">.</span>py 参数<span class="token number">1</span> 参数<span class="token number">2</span>
<span class="token punctuation">[</span><span class="token string">'train.py'</span><span class="token punctuation">,</span> <span class="token string">'参数1'</span><span class="token punctuation">,</span> <span class="token string">'参数2'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>实现拷贝文件的功能</strong></p> <p>命令行执行命令  <code>python cp.py 源文件路径 目标文件路径</code></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># -- cp.py</span>
src_file <span class="token operator">=</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
dst_file <span class="token operator">=</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>

<span class="token comment"># -- rb模式 可以打开任何文件</span>
<span class="token comment"># -- 注意:以w的方式打开文件,未关闭的情况下往文件里写内容指针不断后移</span>
<span class="token comment">#        中途关掉,下次再以w的形式打开,内容将被清空</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'src_file'</span><span class="token punctuation">,</span><span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> read_f<span class="token punctuation">,</span>\
    <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'dst_file'</span><span class="token punctuation">,</span><span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> write_f<span class="token punctuation">:</span>
    <span class="token keyword">for</span> line <span class="token keyword">in</span> read_f<span class="token punctuation">:</span>
        write_f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>line<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><hr> <h2 id="json-pickle模块"><a href="#json-pickle模块" class="header-anchor">#</a> json&amp;pickle模块</h2> <h3 id="异同"><a href="#异同" class="header-anchor">#</a> 异同</h3> <h5 id="json格式"><a href="#json格式" class="header-anchor">#</a> json格式</h5> <blockquote><p>json 跟 字典 是有区别的!!</p></blockquote> <p><font color="brown"><strong>json分为json对象和json数组</strong></font><br>
        json对象就类似于字典.<br>
        json数组是用 <code>[]</code> 包起来的多个json对象<br> <font color="brown"><strong>json对象可由多个键值对组成, 键必须由<code>&quot;&quot;</code>包裹!!!,值可以是json对象或者是json数组.</strong></font></p> <table><thead><tr><th>JSON类型</th> <th>Python类型</th></tr></thead> <tbody><tr><td>{}</td> <td>dict</td></tr> <tr><td>[]</td> <td>list</td></tr> <tr><td>&quot;string&quot;</td> <td>str</td></tr> <tr><td>1234.56</td> <td>int或float</td></tr> <tr><td>true/false</td> <td>True/False</td></tr> <tr><td>null</td> <td>None</td></tr></tbody></table> <h5 id="序列化"><a href="#序列化" class="header-anchor">#</a> 序列化</h5> <blockquote><p>可以保存程序的运行状态; 实现数据的跨平台的交互</p></blockquote> <p>json和pickle都可用于序列化, 序列化是将对象转换成易于传输的形式的过程.<br>
通俗点就是将当前时刻处于内存中的数据转换一种格式.. 反序列化就是将数据转换成序列化之前的样子.</p> <p><font color="blue">json 跨平台性强;只能支持/对应python部分的数据类型</font><br> <font color="green">pickle 可以支持/对应所有python的数据类型;只能被python识别,不能跨平台</font></p> <h3 id="json模块的使用"><a href="#json模块的使用" class="header-anchor">#</a> json模块的使用</h3> <h5 id="json序列化"><a href="#json序列化" class="header-anchor">#</a> json序列化</h5> <blockquote><p>dumps      dump</p></blockquote> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> json

dic <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'egon'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">:</span> <span class="token string">'male'</span><span class="token punctuation">}</span>
json_str <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>dic<span class="token punctuation">)</span>
<span class="token comment"># -- 序列化后,自动将字典中的单引号转换成了双引号</span>
<span class="token comment"># print(json_str)  # -- {&quot;name&quot;: &quot;egon&quot;, &quot;age&quot;: 18, &quot;sex&quot;: &quot;male&quot;}</span>
<span class="token comment"># print(type(json_str))  # -- &lt;class 'str'&gt;</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'db.json'</span><span class="token punctuation">,</span> <span class="token string">'wt'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>json_str<span class="token punctuation">)</span>


<span class="token comment"># !!-- 序列化得到json_str、把json_str写入db.json文件这两步 等同于</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'db.json'</span><span class="token punctuation">,</span><span class="token string">'wt'</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
		json<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>dic<span class="token punctuation">,</span>f<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h5 id="json反序列化"><a href="#json反序列化" class="header-anchor">#</a> json反序列化</h5> <blockquote><p>loads      load</p></blockquote> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> json

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'db.json'</span><span class="token punctuation">,</span> <span class="token string">'rt'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    data <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
dic_res <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token comment"># print(type(data))  # -- &lt;class 'str'&gt;</span>
<span class="token comment"># print(dic_res)  # -- {'name': 'egon', 'age': 18, 'sex': 'male'}</span>
<span class="token comment"># -- {'name': 'egon', 'age': 18, 'sex': 'male'} &lt;class 'dict'&gt;</span>
<span class="token comment"># print(eval(data), type(eval(data)))</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dic_res<span class="token punctuation">[</span><span class="token string">'sex'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># male</span>


<span class="token comment"># !!-- 从硬盘db.json文件中读取到data、将data反序列化得到dic_res 等同于</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'db.json'</span><span class="token punctuation">,</span><span class="token string">'rt'</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
		dic_res <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f<span class="token punctuation">)</span>

    
<span class="token triple-quoted-string string">&quot;&quot;&quot;
提一句,在代码中我们试图用eval对json对象进行了反序列化,成功了.
因为json格式的数据在内存中也是str的数据类型. eval去除了最外层的引号.
但json格式的数据长这样呢？[1,true,null] 用eval来反序列化就不行!
建议还是使用json模块的方法,别搞这些花里胡哨的.(´▽｀)
&quot;&quot;&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="pickle模块的使用"><a href="#pickle模块的使用" class="header-anchor">#</a> pickle模块的使用</h3> <blockquote><p>必须是二进制的形式读写.</p></blockquote> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> pickle

dic <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span>

<span class="token triple-quoted-string string">&quot;&quot;&quot;
★ --序列化
&quot;&quot;&quot;</span>
pkl <span class="token operator">=</span> pickle<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>dic<span class="token punctuation">)</span>
<span class="token comment"># -- b'\x80\x04\x95\x17\x00\x00\x00\x00\x00\x00\x00}\x94(\x8c\x01a\x94K\x01\x8c\x01b\x94K\x02\x8c\x01c\x94K\x03u.'</span>
<span class="token comment"># print(pkl)</span>
<span class="token comment"># print(type(pkl))  # -- &lt;class 'bytes'&gt;</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'db.kpl'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>pkl<span class="token punctuation">)</span>
<span class="token triple-quoted-string string">&quot;&quot;&quot; 等同于
with open('db.kpl', 'wb') as f:
    pickle.dump(pkl,f)
&quot;&quot;&quot;</span>


<span class="token triple-quoted-string string">&quot;&quot;&quot;
★ --反序列化
&quot;&quot;&quot;</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'db.kpl'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    data <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
res <span class="token operator">=</span> pickle<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 1</span>
<span class="token triple-quoted-string string">&quot;&quot;&quot; 等同于
with open('db.kpl', 'rb') as f:
    res = pickle.load(f)
print(res['a'])
&quot;&quot;&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><hr></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/3134ef/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">文件处理</div></a> <a href="/pages/fe6035/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">常用模块</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/3134ef/" class="prev">文件处理</a></span> <span class="next"><a href="/pages/fe6035/">常用模块</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/8sk2b3/"><div>
            搜索相关
            <!----></div></a> <span class="date">03-22</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/2kn2p2/"><div>
            CURD
            <!----></div></a> <span class="date">03-20</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/1kn1m1/"><div>
            自动生成
            <!----></div></a> <span class="date">03-15</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/OnePieceDC" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://www.cnblogs.com/DC0307/" title="博客园" target="_blank" class="iconfont icon-bokeyuan"></a><a href="https://music.163.com/#/song?id=1854188649" title="听音乐" target="_blank" class="iconfont icon-erji"></a><a href="https://www.jianshu.com/u/5310eb537315" title="简书" target="_blank" class="iconfont icon-jianshu"></a><a href="mailto:1415806497@qq.com" title="QQ" target="_blank" class="iconfont icon-youjian"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2024
    <span>DC | One Piece</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><!----><div id="goTop" class="hide-cat" data-v-8ccb5928></div><div></div><canvas id="vuepress-canvas-cursor"></canvas><div></div><div></div></div></div>
    <script src="/assets/js/app.ac54adc6.js" defer></script><script src="/assets/js/4.7ddc74e3.js" defer></script><script src="/assets/js/1.a0c4ff1b.js" defer></script><script src="/assets/js/3.8b03321d.js" defer></script><script src="/assets/js/215.37f52459.js" defer></script><script src="/assets/js/104.cae2d944.js" defer></script><script src="/assets/js/184.46eabf07.js" defer></script>
  </body>
</html>
