<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>查看进程 | DC&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/fonts/iconfont.css">
    <meta name="description" content="人类终将毁灭,世界属于三体!">
    <meta name="keywords" content="DC的个人博客.">
    
    <link rel="preload" href="/assets/css/0.styles.66b92039.css" as="style"><link rel="preload" href="/assets/js/app.ac54adc6.js" as="script"><link rel="preload" href="/assets/js/4.7ddc74e3.js" as="script"><link rel="preload" href="/assets/js/1.a0c4ff1b.js" as="script"><link rel="preload" href="/assets/js/3.8b03321d.js" as="script"><link rel="preload" href="/assets/js/165.44d4a9b5.js" as="script"><link rel="preload" href="/assets/js/104.cae2d944.js" as="script"><link rel="preload" href="/assets/js/184.46eabf07.js" as="script"><link rel="prefetch" href="/assets/js/10.a91ae011.js"><link rel="prefetch" href="/assets/js/100.2e8ea472.js"><link rel="prefetch" href="/assets/js/101.46f57a02.js"><link rel="prefetch" href="/assets/js/102.f51bcd80.js"><link rel="prefetch" href="/assets/js/103.3f003e0e.js"><link rel="prefetch" href="/assets/js/105.6c6ebc28.js"><link rel="prefetch" href="/assets/js/106.47dc8889.js"><link rel="prefetch" href="/assets/js/107.6b5602b4.js"><link rel="prefetch" href="/assets/js/108.46f0c21d.js"><link rel="prefetch" href="/assets/js/109.0f1168a5.js"><link rel="prefetch" href="/assets/js/11.e6a94228.js"><link rel="prefetch" href="/assets/js/110.6a961498.js"><link rel="prefetch" href="/assets/js/111.c6f27c88.js"><link rel="prefetch" href="/assets/js/112.9ee3d3bb.js"><link rel="prefetch" href="/assets/js/113.82b72aa0.js"><link rel="prefetch" href="/assets/js/114.7487460e.js"><link rel="prefetch" href="/assets/js/115.cd079d0a.js"><link rel="prefetch" href="/assets/js/116.b6b829eb.js"><link rel="prefetch" href="/assets/js/117.89d9336c.js"><link rel="prefetch" href="/assets/js/118.467c4437.js"><link rel="prefetch" href="/assets/js/119.c4b2ac40.js"><link rel="prefetch" href="/assets/js/12.9d3501e4.js"><link rel="prefetch" href="/assets/js/120.5ff31c09.js"><link rel="prefetch" href="/assets/js/121.2e59c3a5.js"><link rel="prefetch" href="/assets/js/122.a66096cf.js"><link rel="prefetch" href="/assets/js/123.4885ba5f.js"><link rel="prefetch" href="/assets/js/124.cacc66be.js"><link rel="prefetch" href="/assets/js/125.dc5b30fe.js"><link rel="prefetch" href="/assets/js/126.4e21eb5e.js"><link rel="prefetch" href="/assets/js/127.cb36a9bf.js"><link rel="prefetch" href="/assets/js/128.ce38358e.js"><link rel="prefetch" href="/assets/js/129.e5f414eb.js"><link rel="prefetch" href="/assets/js/13.ca017a68.js"><link rel="prefetch" href="/assets/js/130.17b597f0.js"><link rel="prefetch" href="/assets/js/131.e1ded2dc.js"><link rel="prefetch" href="/assets/js/132.aae1c627.js"><link rel="prefetch" href="/assets/js/133.73cecdb3.js"><link rel="prefetch" href="/assets/js/134.80cf38a0.js"><link rel="prefetch" href="/assets/js/135.735ed588.js"><link rel="prefetch" href="/assets/js/136.91f8db08.js"><link rel="prefetch" href="/assets/js/137.d6fb8bda.js"><link rel="prefetch" href="/assets/js/138.75cafe73.js"><link rel="prefetch" href="/assets/js/139.b01bf0db.js"><link rel="prefetch" href="/assets/js/14.ee2605b5.js"><link rel="prefetch" href="/assets/js/140.ff0a7911.js"><link rel="prefetch" href="/assets/js/141.c69e7f54.js"><link rel="prefetch" href="/assets/js/142.997b03ac.js"><link rel="prefetch" href="/assets/js/143.e40faea8.js"><link rel="prefetch" href="/assets/js/144.369f23e5.js"><link rel="prefetch" href="/assets/js/145.1268424d.js"><link rel="prefetch" href="/assets/js/146.94c65c4a.js"><link rel="prefetch" href="/assets/js/147.05fe6a36.js"><link rel="prefetch" href="/assets/js/148.327cc29d.js"><link rel="prefetch" href="/assets/js/149.90068676.js"><link rel="prefetch" href="/assets/js/15.42e0a0e4.js"><link rel="prefetch" href="/assets/js/150.b4b780bb.js"><link rel="prefetch" href="/assets/js/151.b4611012.js"><link rel="prefetch" href="/assets/js/152.4d2c8246.js"><link rel="prefetch" href="/assets/js/153.f32dfa58.js"><link rel="prefetch" href="/assets/js/154.b79a78fb.js"><link rel="prefetch" href="/assets/js/155.6ad2865c.js"><link rel="prefetch" href="/assets/js/156.fd49a1af.js"><link rel="prefetch" href="/assets/js/157.55113800.js"><link rel="prefetch" href="/assets/js/158.af321bc9.js"><link rel="prefetch" href="/assets/js/159.37d9c659.js"><link rel="prefetch" href="/assets/js/16.007f45b3.js"><link rel="prefetch" href="/assets/js/160.7a3b5a9a.js"><link rel="prefetch" href="/assets/js/161.fc1fbea8.js"><link rel="prefetch" href="/assets/js/162.2f8d3d1c.js"><link rel="prefetch" href="/assets/js/163.aa889940.js"><link rel="prefetch" href="/assets/js/164.5d8b2cb7.js"><link rel="prefetch" href="/assets/js/166.c1b4c4d4.js"><link rel="prefetch" href="/assets/js/167.0c39929e.js"><link rel="prefetch" href="/assets/js/168.fede035a.js"><link rel="prefetch" href="/assets/js/169.ff940d50.js"><link rel="prefetch" href="/assets/js/17.7395c644.js"><link rel="prefetch" href="/assets/js/170.b6fcb3bf.js"><link rel="prefetch" href="/assets/js/171.2b927a7c.js"><link rel="prefetch" href="/assets/js/172.b07a90a1.js"><link rel="prefetch" href="/assets/js/173.367352bf.js"><link rel="prefetch" href="/assets/js/174.4ea4e20f.js"><link rel="prefetch" href="/assets/js/175.d9679b61.js"><link rel="prefetch" href="/assets/js/176.f7804143.js"><link rel="prefetch" href="/assets/js/177.c5d1e680.js"><link rel="prefetch" href="/assets/js/178.808293fa.js"><link rel="prefetch" href="/assets/js/179.2acf6b3c.js"><link rel="prefetch" href="/assets/js/18.46f9153d.js"><link rel="prefetch" href="/assets/js/180.ddf3ecf7.js"><link rel="prefetch" href="/assets/js/181.4da0855c.js"><link rel="prefetch" href="/assets/js/182.591d135a.js"><link rel="prefetch" href="/assets/js/183.9d08f9fe.js"><link rel="prefetch" href="/assets/js/185.ee1c8428.js"><link rel="prefetch" href="/assets/js/186.c7b19133.js"><link rel="prefetch" href="/assets/js/187.52945990.js"><link rel="prefetch" href="/assets/js/188.a1d395c5.js"><link rel="prefetch" href="/assets/js/189.5b66165e.js"><link rel="prefetch" href="/assets/js/19.2db19edb.js"><link rel="prefetch" href="/assets/js/190.265a75de.js"><link rel="prefetch" href="/assets/js/191.b4c65143.js"><link rel="prefetch" href="/assets/js/192.cc4d4115.js"><link rel="prefetch" href="/assets/js/193.fa02ecc5.js"><link rel="prefetch" href="/assets/js/194.b0c9ad53.js"><link rel="prefetch" href="/assets/js/195.eda8cd34.js"><link rel="prefetch" href="/assets/js/196.cbae4dc6.js"><link rel="prefetch" href="/assets/js/197.693b1b85.js"><link rel="prefetch" href="/assets/js/198.8213665b.js"><link rel="prefetch" href="/assets/js/199.ddf0036d.js"><link rel="prefetch" href="/assets/js/2.4c15b693.js"><link rel="prefetch" href="/assets/js/20.6742e8ae.js"><link rel="prefetch" href="/assets/js/200.340df508.js"><link rel="prefetch" href="/assets/js/201.7431c15b.js"><link rel="prefetch" href="/assets/js/202.217b2b38.js"><link rel="prefetch" href="/assets/js/203.06c6a93d.js"><link rel="prefetch" href="/assets/js/204.a068a898.js"><link rel="prefetch" href="/assets/js/205.9361d3f5.js"><link rel="prefetch" href="/assets/js/206.886beca0.js"><link rel="prefetch" href="/assets/js/207.2278bda8.js"><link rel="prefetch" href="/assets/js/208.db0acc0d.js"><link rel="prefetch" href="/assets/js/209.0e05b204.js"><link rel="prefetch" href="/assets/js/21.fd552a4e.js"><link rel="prefetch" href="/assets/js/210.4c730041.js"><link rel="prefetch" href="/assets/js/211.417dbee1.js"><link rel="prefetch" href="/assets/js/212.eef4f4a3.js"><link rel="prefetch" href="/assets/js/213.ab742b0b.js"><link rel="prefetch" href="/assets/js/214.a57228de.js"><link rel="prefetch" href="/assets/js/215.37f52459.js"><link rel="prefetch" href="/assets/js/216.2f110f92.js"><link rel="prefetch" href="/assets/js/217.09654311.js"><link rel="prefetch" href="/assets/js/218.a7568950.js"><link rel="prefetch" href="/assets/js/219.628ee193.js"><link rel="prefetch" href="/assets/js/22.465a76d2.js"><link rel="prefetch" href="/assets/js/220.c5df9186.js"><link rel="prefetch" href="/assets/js/221.101ddb09.js"><link rel="prefetch" href="/assets/js/222.db210e3c.js"><link rel="prefetch" href="/assets/js/223.429cbf14.js"><link rel="prefetch" href="/assets/js/224.aa002868.js"><link rel="prefetch" href="/assets/js/225.79a40017.js"><link rel="prefetch" href="/assets/js/226.3e08228b.js"><link rel="prefetch" href="/assets/js/227.a09dd4b4.js"><link rel="prefetch" href="/assets/js/228.f930c492.js"><link rel="prefetch" href="/assets/js/229.f639a9e4.js"><link rel="prefetch" href="/assets/js/23.df6831af.js"><link rel="prefetch" href="/assets/js/230.e8ac7aad.js"><link rel="prefetch" href="/assets/js/231.99501214.js"><link rel="prefetch" href="/assets/js/232.e2932792.js"><link rel="prefetch" href="/assets/js/233.43dfa689.js"><link rel="prefetch" href="/assets/js/234.7951f9c4.js"><link rel="prefetch" href="/assets/js/235.1dc96b6c.js"><link rel="prefetch" href="/assets/js/236.40b8d4e4.js"><link rel="prefetch" href="/assets/js/237.75a692de.js"><link rel="prefetch" href="/assets/js/238.cc9d9ac1.js"><link rel="prefetch" href="/assets/js/239.4616a566.js"><link rel="prefetch" href="/assets/js/24.b68dc734.js"><link rel="prefetch" href="/assets/js/240.dd825147.js"><link rel="prefetch" href="/assets/js/241.85e3219b.js"><link rel="prefetch" href="/assets/js/242.bf4123c4.js"><link rel="prefetch" href="/assets/js/243.ce68f4f0.js"><link rel="prefetch" href="/assets/js/244.e2598d4d.js"><link rel="prefetch" href="/assets/js/245.2c696827.js"><link rel="prefetch" href="/assets/js/246.2c44a497.js"><link rel="prefetch" href="/assets/js/247.02405fce.js"><link rel="prefetch" href="/assets/js/248.6727bdf6.js"><link rel="prefetch" href="/assets/js/249.4901f575.js"><link rel="prefetch" href="/assets/js/25.d639c65c.js"><link rel="prefetch" href="/assets/js/250.c922c9ea.js"><link rel="prefetch" href="/assets/js/251.b1350ead.js"><link rel="prefetch" href="/assets/js/252.8295c5ea.js"><link rel="prefetch" href="/assets/js/253.b0a9ba20.js"><link rel="prefetch" href="/assets/js/254.d208b848.js"><link rel="prefetch" href="/assets/js/255.2cfb6ad3.js"><link rel="prefetch" href="/assets/js/256.e7687a81.js"><link rel="prefetch" href="/assets/js/257.db329d54.js"><link rel="prefetch" href="/assets/js/258.be75b1f9.js"><link rel="prefetch" href="/assets/js/259.67500f7e.js"><link rel="prefetch" href="/assets/js/26.9db429a9.js"><link rel="prefetch" href="/assets/js/260.73609cfa.js"><link rel="prefetch" href="/assets/js/261.22fc7c08.js"><link rel="prefetch" href="/assets/js/262.2c620ccd.js"><link rel="prefetch" href="/assets/js/263.e0ce1454.js"><link rel="prefetch" href="/assets/js/264.7fe82318.js"><link rel="prefetch" href="/assets/js/265.537d06c5.js"><link rel="prefetch" href="/assets/js/266.901695a7.js"><link rel="prefetch" href="/assets/js/267.8eb24590.js"><link rel="prefetch" href="/assets/js/268.a21e44dc.js"><link rel="prefetch" href="/assets/js/269.33e6ce5d.js"><link rel="prefetch" href="/assets/js/27.2296e284.js"><link rel="prefetch" href="/assets/js/270.31507ac3.js"><link rel="prefetch" href="/assets/js/271.b9406b42.js"><link rel="prefetch" href="/assets/js/272.0acaba6f.js"><link rel="prefetch" href="/assets/js/273.c2e359b0.js"><link rel="prefetch" href="/assets/js/274.a80428a6.js"><link rel="prefetch" href="/assets/js/28.7e4f4dc1.js"><link rel="prefetch" href="/assets/js/29.ba75f79a.js"><link rel="prefetch" href="/assets/js/30.16cd3622.js"><link rel="prefetch" href="/assets/js/31.54ed5bc1.js"><link rel="prefetch" href="/assets/js/32.b2fbba6a.js"><link rel="prefetch" href="/assets/js/33.f7ff0107.js"><link rel="prefetch" href="/assets/js/34.4b2cea7d.js"><link rel="prefetch" href="/assets/js/35.1159e74c.js"><link rel="prefetch" href="/assets/js/36.0b6296f3.js"><link rel="prefetch" href="/assets/js/37.fc67879e.js"><link rel="prefetch" href="/assets/js/38.637afaf8.js"><link rel="prefetch" href="/assets/js/39.748a78f3.js"><link rel="prefetch" href="/assets/js/40.4fede9bb.js"><link rel="prefetch" href="/assets/js/41.c7f0b087.js"><link rel="prefetch" href="/assets/js/42.5b1a487d.js"><link rel="prefetch" href="/assets/js/43.59275b93.js"><link rel="prefetch" href="/assets/js/44.b18a4c94.js"><link rel="prefetch" href="/assets/js/45.bc8f7cb3.js"><link rel="prefetch" href="/assets/js/46.6a4ec89f.js"><link rel="prefetch" href="/assets/js/47.e1e129e6.js"><link rel="prefetch" href="/assets/js/48.c284ce23.js"><link rel="prefetch" href="/assets/js/49.17e5dd65.js"><link rel="prefetch" href="/assets/js/5.e3d12916.js"><link rel="prefetch" href="/assets/js/50.34c3ac45.js"><link rel="prefetch" href="/assets/js/51.035f7031.js"><link rel="prefetch" href="/assets/js/52.e9ef227a.js"><link rel="prefetch" href="/assets/js/53.ecbb032d.js"><link rel="prefetch" href="/assets/js/54.e9af4cfe.js"><link rel="prefetch" href="/assets/js/55.7e71402b.js"><link rel="prefetch" href="/assets/js/56.511071fe.js"><link rel="prefetch" href="/assets/js/57.13b7fe79.js"><link rel="prefetch" href="/assets/js/58.e51f8b0e.js"><link rel="prefetch" href="/assets/js/59.a1b8bdb7.js"><link rel="prefetch" href="/assets/js/6.5fc3f358.js"><link rel="prefetch" href="/assets/js/60.fd7e1c08.js"><link rel="prefetch" href="/assets/js/61.0daf2361.js"><link rel="prefetch" href="/assets/js/62.04632944.js"><link rel="prefetch" href="/assets/js/63.f0dd5615.js"><link rel="prefetch" href="/assets/js/64.89a4b562.js"><link rel="prefetch" href="/assets/js/65.6764ff0c.js"><link rel="prefetch" href="/assets/js/66.049bdee1.js"><link rel="prefetch" href="/assets/js/67.b0d4ec16.js"><link rel="prefetch" href="/assets/js/68.46d97067.js"><link rel="prefetch" href="/assets/js/69.f540f0da.js"><link rel="prefetch" href="/assets/js/7.ce17dd73.js"><link rel="prefetch" href="/assets/js/70.17d8f857.js"><link rel="prefetch" href="/assets/js/71.b2a166a0.js"><link rel="prefetch" href="/assets/js/72.1c17a875.js"><link rel="prefetch" href="/assets/js/73.dac8984b.js"><link rel="prefetch" href="/assets/js/74.5bbc33ac.js"><link rel="prefetch" href="/assets/js/75.483644c7.js"><link rel="prefetch" href="/assets/js/76.de5461ab.js"><link rel="prefetch" href="/assets/js/77.7fa90702.js"><link rel="prefetch" href="/assets/js/78.f41853b8.js"><link rel="prefetch" href="/assets/js/79.598b50e6.js"><link rel="prefetch" href="/assets/js/80.61d2d23a.js"><link rel="prefetch" href="/assets/js/81.d310c6e4.js"><link rel="prefetch" href="/assets/js/82.22aa814c.js"><link rel="prefetch" href="/assets/js/83.f493eba4.js"><link rel="prefetch" href="/assets/js/84.3a32a1eb.js"><link rel="prefetch" href="/assets/js/85.2f47134e.js"><link rel="prefetch" href="/assets/js/86.74e65a77.js"><link rel="prefetch" href="/assets/js/87.e87bff96.js"><link rel="prefetch" href="/assets/js/88.aabc97af.js"><link rel="prefetch" href="/assets/js/89.b0945d87.js"><link rel="prefetch" href="/assets/js/90.630f62d3.js"><link rel="prefetch" href="/assets/js/91.ed816647.js"><link rel="prefetch" href="/assets/js/92.19065457.js"><link rel="prefetch" href="/assets/js/93.a0fe1919.js"><link rel="prefetch" href="/assets/js/94.51e48580.js"><link rel="prefetch" href="/assets/js/95.e591bede.js"><link rel="prefetch" href="/assets/js/96.1723f1d6.js"><link rel="prefetch" href="/assets/js/97.02bbb7d4.js"><link rel="prefetch" href="/assets/js/98.a3625ba6.js"><link rel="prefetch" href="/assets/js/99.1accbf48.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.5959bfd2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.66b92039.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/nav-logo.png" alt="DC's blog" class="logo"> <span class="site-name can-hide">DC's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="IT必备" class="dropdown-title"><a href="/IT/" class="link-title">IT必备</a> <span class="title" style="display:none;">IT必备</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/IT/basis/" class="nav-link">计算机基础</a></li><li class="dropdown-item"><!----> <a href="/IT/linux/" class="nav-link">linux基础</a></li><li class="dropdown-item"><!----> <a href="/IT/mysql/" class="nav-link">mysql</a></li><li class="dropdown-item"><!----> <a href="/IT/git/" class="nav-link">git</a></li><li class="dropdown-item"><!----> <a href="/IT/structure/" class="nav-link">数据结构与算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/python/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python/basis/" class="nav-link">opp</a></li><li class="dropdown-item"><!----> <a href="/python/oop/" class="nav-link">oop</a></li><li class="dropdown-item"><!----> <a href="/python/Network_concurrency/" class="nav-link">网络并发编程</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/front_end/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front_end/html/" class="nav-link">html</a></li><li class="dropdown-item"><!----> <a href="/front_end/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/front_end/js/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/front_end/jquery/" class="nav-link">jquery</a></li><li class="dropdown-item"><!----> <a href="/front_end/ui/" class="nav-link">UI</a></li><li class="dropdown-item"><!----> <a href="/front_end/vue/" class="nav-link">vue</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/python_web/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python_web/django/" class="nav-link">Django</a></li><li class="dropdown-item"><!----> <a href="/python_web/drf/" class="nav-link">drf</a></li><li class="dropdown-item"><!----> <a href="/python_web/drf_re/" class="nav-link">drf_re</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实战" class="dropdown-title"><a href="/project/" class="link-title">实战</a> <span class="title" style="display:none;">实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前后端不分离</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/project/bbs/" class="nav-link">BBS</a></li><li class="dropdown-subitem"><a href="/project/order/" class="nav-link">订单系统</a></li><li class="dropdown-subitem"><a href="/project/crm/" class="nav-link">CRM</a></li></ul></li><li class="dropdown-item"><h4>前后端分离</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/project/supply/" class="nav-link">供应链系统</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/other/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/essays/" class="nav-link">杂文</a></li><li class="dropdown-item"><h4>关于我</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/about/" class="nav-link">me</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><!----> <span class="title" style="display:;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/OnePieceDC/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatar.gif"> <div class="blogger-info"><h3>DC</h3> <span>愿我一生欢喜,不为世俗所及.</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="IT必备" class="dropdown-title"><a href="/IT/" class="link-title">IT必备</a> <span class="title" style="display:none;">IT必备</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/IT/basis/" class="nav-link">计算机基础</a></li><li class="dropdown-item"><!----> <a href="/IT/linux/" class="nav-link">linux基础</a></li><li class="dropdown-item"><!----> <a href="/IT/mysql/" class="nav-link">mysql</a></li><li class="dropdown-item"><!----> <a href="/IT/git/" class="nav-link">git</a></li><li class="dropdown-item"><!----> <a href="/IT/structure/" class="nav-link">数据结构与算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/python/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python/basis/" class="nav-link">opp</a></li><li class="dropdown-item"><!----> <a href="/python/oop/" class="nav-link">oop</a></li><li class="dropdown-item"><!----> <a href="/python/Network_concurrency/" class="nav-link">网络并发编程</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/front_end/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front_end/html/" class="nav-link">html</a></li><li class="dropdown-item"><!----> <a href="/front_end/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/front_end/js/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/front_end/jquery/" class="nav-link">jquery</a></li><li class="dropdown-item"><!----> <a href="/front_end/ui/" class="nav-link">UI</a></li><li class="dropdown-item"><!----> <a href="/front_end/vue/" class="nav-link">vue</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/python_web/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python_web/django/" class="nav-link">Django</a></li><li class="dropdown-item"><!----> <a href="/python_web/drf/" class="nav-link">drf</a></li><li class="dropdown-item"><!----> <a href="/python_web/drf_re/" class="nav-link">drf_re</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实战" class="dropdown-title"><a href="/project/" class="link-title">实战</a> <span class="title" style="display:none;">实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前后端不分离</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/project/bbs/" class="nav-link">BBS</a></li><li class="dropdown-subitem"><a href="/project/order/" class="nav-link">订单系统</a></li><li class="dropdown-subitem"><a href="/project/crm/" class="nav-link">CRM</a></li></ul></li><li class="dropdown-item"><h4>前后端分离</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/project/supply/" class="nav-link">供应链系统</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/other/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/essays/" class="nav-link">杂文</a></li><li class="dropdown-item"><h4>关于我</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/about/" class="nav-link">me</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><!----> <span class="title" style="display:;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/OnePieceDC/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>linux基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/da5198/" class="sidebar-link">准备工作</a></li><li><a href="/pages/8939f4/" class="sidebar-link">初识shell与基础常用命令</a></li><li><a href="/pages/b323da/" class="sidebar-link">文件管理之基础命令</a></li><li><a href="/pages/bd85fe/" class="sidebar-link">文件管理之四大模式</a></li><li><a href="/pages/4e332e/" class="sidebar-link">文件管理之命令补充</a></li><li><a href="/pages/e843c3/" class="sidebar-link">文件管理之文件系统</a></li><li><a href="/pages/15d340/" class="sidebar-link">权限管理之用户与组</a></li><li><a href="/pages/1683d8/" class="sidebar-link">权限管理之文件权限</a></li><li><a href="/pages/7ba656/" class="sidebar-link">权限管理之ACL</a></li><li><a href="/pages/415178/" class="sidebar-link">权限管理之su与sudo</a></li><li><a href="/pages/80cc13/" class="sidebar-link">软件包管理之rpm</a></li><li><a href="/pages/0c6963/" class="sidebar-link">软件包管理之yum</a></li><li><a href="/pages/4944d1/" aria-current="page" class="active sidebar-link">查看进程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/4944d1/#进程回顾" class="sidebar-link">进程回顾!!</a></li><li class="sidebar-sub-header level2"><a href="/pages/4944d1/#查看进程信息" class="sidebar-link">查看进程信息</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/4944d1/#ps-aux" class="sidebar-link">ps aux</a></li><li class="sidebar-sub-header level3"><a href="/pages/4944d1/#pstree" class="sidebar-link">pstree</a></li><li class="sidebar-sub-header level3"><a href="/pages/4944d1/#ppid" class="sidebar-link">ppid</a></li><li class="sidebar-sub-header level3"><a href="/pages/4944d1/#pgrep" class="sidebar-link">pgrep</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/4944d1/#详解进程的状态stat" class="sidebar-link">详解进程的状态STAT</a></li><li class="sidebar-sub-header level2"><a href="/pages/4944d1/#动态查看top" class="sidebar-link">动态查看top</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/4944d1/#命令行选项" class="sidebar-link">命令行选项</a></li><li class="sidebar-sub-header level3"><a href="/pages/4944d1/#显示内容解释" class="sidebar-link">显示内容解释</a></li><li class="sidebar-sub-header level5"><a href="/pages/4944d1/#系统整体统计信息" class="sidebar-link">[系统整体统计信息]</a></li><li class="sidebar-sub-header level5"><a href="/pages/4944d1/#进程信息" class="sidebar-link">[进程信息]</a></li><li class="sidebar-sub-header level3"><a href="/pages/4944d1/#显示内容的操作" class="sidebar-link">显示内容的操作</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/4944d1/#网络有关的查看" class="sidebar-link">网络有关的查看</a></li><li class="sidebar-sub-header level2"><a href="/pages/4944d1/#查看系统状态" class="sidebar-link">查看系统状态</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/4944d1/#硬盘" class="sidebar-link">硬盘</a></li><li class="sidebar-sub-header level3"><a href="/pages/4944d1/#内存" class="sidebar-link">内存!!</a></li><li class="sidebar-sub-header level5"><a href="/pages/4944d1/#free结果的字段" class="sidebar-link">[free结果的字段]</a></li><li class="sidebar-sub-header level5"><a href="/pages/4944d1/#释放buff-cache" class="sidebar-link">[释放buff/cache]</a></li><li class="sidebar-sub-header level5"><a href="/pages/4944d1/#虚拟文件系统" class="sidebar-link">[虚拟文件系统]</a></li><li class="sidebar-sub-header level3"><a href="/pages/4944d1/#cpu" class="sidebar-link">CPU</a></li></ul></li></ul></li><li><a href="/pages/cece9f/" class="sidebar-link">管理进程</a></li><li><a href="/pages/9c5405/" class="sidebar-link">存储管理之传统磁盘管理</a></li><li><a href="/pages/0d43c6/" class="sidebar-link">存储管理之LVM</a></li><li><a href="/pages/0fa05e/" class="sidebar-link">网络管理</a></li><li><a href="/pages/fb22ed/" class="sidebar-link">shell基础</a></li><li><a href="/pages/d423cf/" class="sidebar-link">crond计划任务</a></li><li><a href="/pages/f264b1/" class="sidebar-link">系统优化</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mysql</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-91157402><div class="articleInfo" data-v-91157402><ul class="breadcrumbs" data-v-91157402><li data-v-91157402><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-91157402></a></li> <li data-v-91157402><a href="/categories/?category=IT_Need" title="分类" data-v-91157402>IT_Need</a></li><li data-v-91157402><a href="/categories/?category=linux%E5%9F%BA%E7%A1%80" title="分类" data-v-91157402>linux基础</a></li></ul> <div class="info" data-v-91157402><div title="作者" class="author iconfont icon-touxiang" data-v-91157402><a href="https://github.com/OnePieceDC" target="_blank" title="作者" class="beLink" data-v-91157402>DC</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-91157402><a href="javascript:;" data-v-91157402>2023-08-29</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">查看进程<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="进程回顾"><a href="#进程回顾" class="header-anchor">#</a> 进程回顾!!</h2> <blockquote><p><font color="red">&lt;进程&gt;是 <strong>操作系统分配资源</strong> 的最小单位; &lt;线程&gt;是程序执行/ <strong>cpu调度</strong> 的最小单位</font></p></blockquote> <p>程序     -- 一堆代码文件<br>
进程     -- <code>进程 = 资源申请(开辟内存空间) + 程序执行(运行代码)</code><br>
             一般会笼统的说是程序的运行过程; 严谨点这种说法指的是线程 即<strong>进程 = 资源申请 + 多个线程执行</strong><br>
             亦或者说是操作系统控制着硬件去运行程序的过程;<br> <font color="gray"><strong>进程是操作系统最核心的概念,没有之一!</strong></font><br>
并发     -- <em>多个</em> <font color="brown">任务</font> <font color="green">看起来</font> 是 <strong>同时运行</strong> 的即可.<br>
             OS的多道技术实现并发: (这里讨论一个cpu的情况下),先将多个任务读到内存里,<br>
                  实现空间上的复用 -- 任务跟任务之间内存空间上实现物理(<em>即硬件</em>)层面的互相隔离;<br> <font color="gray">详细来说,就涉及到虚拟内存,虚拟地址,内存分页等OS内存管理的知识啦..不必深究!!</font><br>
             实现时间上的复用 -- 简单来说, <strong>cpu在多个任务之间快速来回切换..</strong> <br> <font color="gray">通常采用的是时间片轮转的抢占式调度方式..由于CPU的执行效率非常高,时间片非常短,</font><br> <font color="gray">在各个任务之间快速地切换，给人的感觉就是多个任务在&quot;同时进行&quot; </font><br> <font color="gray">Ps: cpu的性能很强,能快速在上万个任务之间切换,但也要受限于内存能装下上万个任务.. </font><br> <font color="gray"> 提升计算机的性能 -- 加内存条;提升软件的启动速度,IO相关 -- 用固态硬盘..</font><br>
并行     -- <em>多个</em> <font color="brown">任务</font> 是 <font color="green">真正的</font> <strong>同时运行</strong> 的. <font color="red">只有 <strong>多核</strong> 才能实现并行..</font><br> <font color="gray">4核8线程, 比纯8核性能低一些,比纯4核要强一些.. </font><br> <font color="gray">4核 -- 不管真实情况下有多个cpu,但4个核心就相当于4个cpu;</font> <font color="gray">8线程 -- 每一个核可以同时运行两条流水线; 4X2=8;</font>	
线程	-- 随着计算机的发展, 对CPU的要求越来越高, 进程之间的切换开销较大, 已经无法满足越来越复杂的程序的                  要求,于是就发明了线程.它是从进程里剥离出的一个概念. 单指进程概念里 代码的执行过程.<br> <strong>一个进程内至少有一个线程..</strong> 线程才是cpu上的执行单位(<font color="brown">即上文的任务严谨点指的就是线程</font>)<br> <font color="gray"><strong>强调!</strong> cpu是运行代码的,硬盘、内存、网卡等硬件设备才是做IO的</font> <br>
多线程     -- <strong>一个进程内开多个线程</strong>, <font color="brown">注意哦 是 <strong>一个</strong> 进程 </font><br> <font color="gray">打个比方,OS是一个工厂,一个进程就是该工厂的一个车间,<strong>车间是一个资源单位</strong>;</font><br> <font color="gray">一个车间里面可以有用于加工的一条或多条流水线(线程)</font><br> <font color="red"><strong>特点:</strong></font>一个进程里的多个线程可以 <strong>共享</strong> 该进程的内存资源!!	<br> <font color="gray">当然线程拥有属于自己的一小部分资源, 就是栈空间, 保存其运行状态和局部自动变量的 </font><br>
                        不同进程里的多个线程的内存资源 <strong>互相隔离</strong> !!		<br>
任务的三种运行状态	-- 非阻塞态(运行态 就绪态)、阻塞态<br>
提交任务的方式	-- 同步、异步<br> <font color="blue">Ps: 提交任务的方式与任务的三种运行状态<strong>不能混为一谈</strong>!!尽管同步跟阻塞都会有一种让人等待的感觉... </font><br> <font color="gray">以同步提交的方式提交的任务,会在原地等待,在此期间任务可能会进入阻塞态或非阻塞态.. </font></p> <p>Q: 若需要 <strong>并发</strong> 10个任务,如何实现？<br> <font color="gray">并发第一反应是cpu会在10个任务之间不停调度,跟4核8线程什么的并行没直接关系.. </font><br>
A: 方案一:一个车间里开10条流水线; 方案二: 有10个车间,每个车间都只有一条流水线..<br>
     前者肯定优于后者,因为启用进程的开销比线程大. <strong>启动进程涉及到非常耗费资源的申请内存空间的IO操作.</strong><br>
     启用线程就是开一条流水线,就只需要通知操作系统一声,叫OS帮忙调度下此流水线..<br> <font color="brown">So, 若只是并发的话,推荐一个进程里开多个线程..</font><br> <font color="gray">Ps: nginx不是单纯使用方案一,假设cpu是4核的,就会开启4个进程,若每个进程里有20个线程,就可以并发80个任务..</font></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>乘上启下:
    先理清几个说法
    <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> 因为一个进程内至少有一个线程,so,我们说cpu调度进程,准确点是指cpu调度进程内的那个线程<span class="token punctuation">..</span>
    <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> 并行只适用于多核,若是4核,意味着可以并行4个线程.
       每个核不可能长时间固定调度同一个线程,核就需要在多个线程之间切换,方式之一就是时间片<span class="token punctuation">..</span>
    <span class="token variable"><span class="token variable">`</span><span class="token function">ps</span> aux<span class="token variable">`</span></span>查看进程信息,没有特殊指明多线程的话,可以简单理解成查看进程里那一个线程的信息.
    <span class="token variable"><span class="token variable">`</span>任务的三种运行状态<span class="token variable">`</span></span>之间的切换同理.此处的任务可以简单理解成线程.
		
补充几个知识点<span class="token punctuation">(</span>自己理解的很笼统,不是很准确,但大体意思到差不差的<span class="token punctuation">)</span>:
    作业、程序、进程之间的关系 详见0_计算机基础/2_操作系统.md 多道技术<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span> -- 并发 这部分的内容
    ▲ 父子进程
      同一个程序可能对应多个进程
      父进程:程序运行时产生的第一个进程 
      子进程:由父进程衍生fork<span class="token punctuation">(</span><span class="token punctuation">)</span>出来的进程,子进程几乎是父进程的完全复制<span class="token punctuation">(</span>PID肯定是不一样的<span class="token punctuation">)</span>
            子进程再调用exec把自身替换为新的进程,PID与<span class="token environment constant">PPID</span>是不变的
            但原来子进程的代码段、堆栈段、数据段会被新的内容取代,用来执行新的程序
            这样fork和exec就成为一种组合,虽然这种组合会造成较大负担
          注意:如果父进程终止,子进程也会随之被终止
       fork的用途:在许多客户-服务器C/S应用程序中,会有许多fork执行同一个程序的进程,
                用fork函数创建多个子进程来实现客户端的请求业务,因此用fork方式可以实现服务器端的并发应用
                服务器端可以消除客户端请求所要创建新进程的开销
       Ps:可能现目前看来不合理,但这样设计有历史遗留,刚开始时内存很小等导致的.
          <span class="token punctuation">(</span>具体的暂且不想深入研究了<span class="token punctuation">..</span><span class="token punctuation">)</span>
          fork-exec的由来可参考 https://www.zhihu.com/question/66902460
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><hr> <h2 id="查看进程信息"><a href="#查看进程信息" class="header-anchor">#</a> 查看进程信息</h2> <h3 id="ps-aux"><a href="#ps-aux" class="header-anchor">#</a> ps aux</h3> <blockquote><p><strong>ps aux</strong>	查看操作系统中 <font color="brown"><strong>那一时刻</strong></font>  所有运行的进程( <em><strong>前后台</strong>的都有</em> )信息 不具备实时性.</p></blockquote> <p>选项:<br>
     -a      该终端所有进程;<br>
     -u      显示用户 ;<br>
     -x      显示命令的绝对路径.</p> <p><font color="gray">Ps: windows上有实现类似功能的命令 <code>tasklist | findstr 具体某一个进程</code></font></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | head -n 3</span>
<span class="token environment constant">USER</span>        PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root          <span class="token number">1</span>  <span class="token number">0.0</span>  <span class="token number">0.3</span> <span class="token number">199756</span>  <span class="token number">3036</span> ?        Ss   <span class="token number">8</span>月05   <span class="token number">4</span>:55 /usr/lib/systemd/systemd<span class="token punctuation">..</span>
root          <span class="token number">2</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        S    <span class="token number">8</span>月05   <span class="token number">0</span>:00 <span class="token punctuation">[</span>kthreadd<span class="token punctuation">]</span>

Ps:PID为1的进程是个软件,详细介绍详见1_linux基础/0_准备工作.md Linux启动流程这一小节的内容<span class="token operator">!</span><span class="token operator">!</span>

<span class="token string">&quot;&quot;</span>&quot;
<span class="token environment constant">USER</span>      运行进程的用户
PID       进程的ID号
%CPU      CPU占用率,该进程占用CPU的百分比
%MEM      内存占用率
VSZ       占用虚拟内存的大小<span class="token punctuation">(</span>单位字节Kb<span class="token punctuation">)</span>
          简单的来说,进程在启动时会预先申请好一块线性空间,分配好后,不一定会全用
          内存映射、共享的动态库、或者向系统申请了更多的堆等,都会扩展线性空间大小TnT
          注意<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span> 
              这里的虚拟内存不是指swap分区虚拟内存的大小<span class="token operator">!</span><span class="token operator">!</span>两者没有关系.
              我觉得VSZ是指进程需要的线性地址空间的大小<span class="token punctuation">..</span>Hhhh
RSS       进程实际占用的物理内存大小<span class="token punctuation">(</span>单位字节Kb<span class="token punctuation">)</span>
TTY       该进程在哪个终端运行的	
          <span class="token variable"><span class="token variable">`</span>？<span class="token variable">`</span></span> 问号代表没有在任何一个终端提交,代表开机自动启动起来的
          终端？CTTS -- MULTICS -- unix -- minix -- linux -- linux发行版:redhat、centos
             linux继承了MULTICS,自动保留几个联机终端<span class="token punctuation">..</span> 
                 <span class="token number">6</span>个真实的终端 /dev/tty1 <span class="token punctuation">..</span>. /dev/tty6
             xshell远程连接看到的终端是预留的终端以外通过ssh虚拟模拟出来的终端,不是真实的终端.
                 /dev/pts/0	/dev/pts/1 <span class="token number">0</span>代表第一个虚拟的Bash Shell终端 <span class="token number">1</span>代表第2个 以此类推<span class="token punctuation">..</span>
          <span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tty</span>
          /dev/pts/0
★STAT     进程的状态 <span class="token punctuation">(</span>最好记住<span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">)</span> R、S、D、T、Z、X		
START     进程的启动时间
TIME      进程占用CPU的总时间
COMMAND   进程的绝对路径,当然有些没有绝对路径 
          用<span class="token punctuation">[</span><span class="token punctuation">]</span>包裹起来的代表内核态<span class="token punctuation">(</span>运行操作系统的代码<span class="token punctuation">)</span>的进程
          不带<span class="token punctuation">[</span><span class="token punctuation">]</span>号的代表用户态<span class="token punctuation">(</span>运行应用程序代码<span class="token punctuation">)</span>进程
<span class="token string">&quot;&quot;</span>&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="pstree"><a href="#pstree" class="header-anchor">#</a> pstree</h3> <blockquote><p>查看进程树</p></blockquote> <p>查看某一个进程的进程树: <code>pstree 进程PID</code></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep nginx</span>
root      <span class="token number">56062</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">112824</span>   <span class="token number">988</span> pts/1    S+   <span class="token number">18</span>:21   <span class="token number">0</span>:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto nginx
root      <span class="token number">75065</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>  <span class="token number">20576</span>     <span class="token number">8</span> ?        Ss   <span class="token number">8</span>月21   <span class="token number">0</span>:00 nginx: master process /usr/local/nginx-1.22.0/sbin/nginx
nobody    <span class="token number">75066</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>  <span class="token number">23104</span>     <span class="token number">8</span> ?        S    <span class="token number">8</span>月21   <span class="token number">0</span>:00 nginx: worker process
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pstree 75065</span>
nginx───nginx

注意哦<span class="token operator">!</span>若是最小化安装,没有pstree命令,安装下即可 <span class="token function">rpm</span> <span class="token parameter variable">-qf</span> <span class="token variable"><span class="token variable">`</span><span class="token function">which</span> pstree<span class="token variable">`</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="ppid"><a href="#ppid" class="header-anchor">#</a> ppid</h3> <blockquote><p>ppid 即parent pid..  代表这个进程是由哪个进程发展衍生而来的, 即查看父进程PID</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps -elf | head -1</span>
F S <span class="token environment constant">UID</span>         PID   <span class="token environment constant">PPID</span>  C PRI  NI ADDR SZ WCHAN  STIME TTY          TIME CMD
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps -elf | grep [n]ginx</span>
<span class="token number">1</span> S root      <span class="token number">75065</span>      <span class="token number">1</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> -  <span class="token number">5144</span> sigsus <span class="token number">8</span>月21 ?       00:00:00 nginx: master process /usr/local/nginx-1.22.0/sbin/nginx
<span class="token comment">## 可以发现 75066进程的父进程是75065</span>
<span class="token number">5</span> S nobody    <span class="token number">75066</span>  <span class="token number">75065</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> -  <span class="token number">5776</span> ep_pol <span class="token number">8</span>月21 ?       00:00:00 nginx: worker process
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="pgrep"><a href="#pgrep" class="header-anchor">#</a> pgrep</h3> <p><code>pgrep 进程名</code></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pgrep nginx</span>
<span class="token number">75065</span>
<span class="token number">75066</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>查看由某个用户开启的进程 <code>pgrep -l -u 用户名</code></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pgrep -l -u root | head -5</span>
<span class="token number">1</span> systemd
<span class="token number">2</span> kthreadd
<span class="token number">4</span> kworker/0:0H
<span class="token number">6</span> ksoftirqd/0
<span class="token number">7</span> migration/0

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># id dc</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">(</span>dc<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">(</span>dc<span class="token punctuation">)</span> 组<span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">(</span>dc<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># su - dc -c &quot;sleep 10000&quot; &amp;</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token number">57035</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pgrep -l -u dc</span>
<span class="token number">57037</span> <span class="token function">sleep</span>
<span class="token comment">## 这种方式的话,就需要看第一列是dc</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep dc</span>
root       <span class="token number">1987</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">376184</span>   <span class="token number">176</span> ?        Sl   <span class="token number">8</span>月14   <span class="token number">0</span>:00 /usr/libexec/ibus-dconf
root       <span class="token number">2018</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">187400</span>   <span class="token number">356</span> ?        Sl   <span class="token number">8</span>月14   <span class="token number">0</span>:00 /usr/libexec/dconf-service
root      <span class="token number">57035</span>  <span class="token number">0.0</span>  <span class="token number">0.3</span> <span class="token number">231964</span>  <span class="token number">3456</span> pts/1    S    <span class="token number">18</span>:38   <span class="token number">0</span>:00 <span class="token function">su</span> - <span class="token function">dc</span> <span class="token parameter variable">-c</span> <span class="token function">sleep</span> <span class="token number">10000</span>
<span class="token function">dc</span>        <span class="token number">57037</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">108052</span>   <span class="token number">360</span> ?        Ss   <span class="token number">18</span>:38   <span class="token number">0</span>:00 <span class="token function">sleep</span> <span class="token number">10000</span>
root      <span class="token number">57196</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">112828</span>   <span class="token number">984</span> pts/1    S+   <span class="token number">18</span>:40   <span class="token number">0</span>:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto <span class="token function">dc</span>
<span class="token string">&quot;&quot;</span>&quot;
<span class="token variable"><span class="token variable">`</span><span class="token function">su</span> - <span class="token function">dc</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;sleep 10000&quot;</span> <span class="token operator">&amp;</span><span class="token variable">`</span></span>这条命令启动了两个进程 
一个是su进程,一个是切换用户后以dc用户运行的sleep进程<span class="token punctuation">..</span>.
第一个是PID为 <span class="token number">57035</span> 的进程<span class="token punctuation">;</span>另一个是PID为 <span class="token number">57037</span> 的子进程.
<span class="token string">&quot;&quot;</span>&quot;
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps -elf | grep dc</span>
<span class="token number">0</span> S root       <span class="token number">1987</span>   <span class="token number">1983</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> - <span class="token number">94046</span> poll_s <span class="token number">8</span>月14 ?       00:00:00 /usr/libexec/ibus-dconf
<span class="token number">0</span> S root       <span class="token number">2018</span>      <span class="token number">1</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> - <span class="token number">46850</span> poll_s <span class="token number">8</span>月14 ?       00:00:00 /usr/libexec/dconf-service
<span class="token number">4</span> S root      <span class="token number">57035</span>  <span class="token number">52706</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> - <span class="token number">57991</span> do_wai <span class="token number">18</span>:38 pts/1    00:00:00 <span class="token function">su</span> - <span class="token function">dc</span> <span class="token parameter variable">-c</span> <span class="token function">sleep</span> <span class="token number">10000</span>
<span class="token number">4</span> S <span class="token function">dc</span>        <span class="token number">57037</span>  <span class="token number">57035</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> - <span class="token number">27013</span> hrtime <span class="token number">18</span>:38 ?        00:00:00 <span class="token function">sleep</span> <span class="token number">10000</span>
<span class="token number">0</span> R root      <span class="token number">57382</span>  <span class="token number">52706</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> - <span class="token number">28207</span> -      <span class="token number">18</span>:43 pts/1    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto <span class="token function">dc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><hr> <h2 id="详解进程的状态stat"><a href="#详解进程的状态stat" class="header-anchor">#</a> 详解进程的状态STAT</h2> <blockquote><p>进程是一种动态描述, 并不代表所有的进程都在运行.<br>
这就可以引入<code>进程状态</code>, 进程在内存中会因为各种策略或调度需求处于不同的状态..</p> <p><strong>R、S、D、T、Z、X</strong></p> <p><strong>&lt;     N      s      +      ｜      l</strong> (这里是小写的英文字母l,不是数字1)      这6个符号可与上面6个状态组合搭配使用!!</p></blockquote> <p><font color="red"><strong>R</strong></font>      运行, 该进程正在使用cpu</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># -- 第一个终端上运行</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tty</span>
/dev/pts/0
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim 1.sh</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat 1.sh</span>
<span class="token keyword">while</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">do</span> <span class="token variable"><span class="token punctuation">((</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span><span class="token keyword">done</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># bash 1.sh</span>

<span class="token comment"># -- 第二个终端上查看</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tty</span>
/dev/pts/1
<span class="token comment">## R+ +号代表前台(意味着占用着终端呢)运行</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep 1.sh | grep -v grep</span>
root      <span class="token number">44419</span> <span class="token number">99.8</span>  <span class="token number">0.1</span> <span class="token number">113280</span>  <span class="token number">1208</span> pts/0    R+   <span class="token number">16</span>:06   <span class="token number">1</span>:14 <span class="token function">bash</span> <span class="token number">1</span>.sh
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep 1.sh | grep -v grep</span>
root      <span class="token number">44419</span>  <span class="token number">100</span>  <span class="token number">0.1</span> <span class="token number">113280</span>  <span class="token number">1208</span> pts/0    R+   <span class="token number">16</span>:06   <span class="token number">1</span>:45 <span class="token function">bash</span> <span class="token number">1</span>.sh
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep 1.sh | grep -v grep</span>
root      <span class="token number">44419</span> <span class="token number">99.7</span>  <span class="token number">0.1</span> <span class="token number">113280</span>  <span class="token number">1208</span> pts/0    R+   <span class="token number">16</span>:06   <span class="token number">1</span>:46 <span class="token function">bash</span> <span class="token number">1</span>.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><font color="red"><strong>S</strong></font>      可中断睡眠 Sleep  =&gt;  遇到IO啦, <em>可正常的处理IO</em> ,执行的IO操作可以得到硬件设备的响应</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>绝大多数软件的大多数时候的状态都处于S状态,why? 因为现在的软件都离不开网络,有网络就会有网络IO<span class="token punctuation">..</span>
像比特币的运算程序就非常耗费cpu的资源,一直在算<span class="token punctuation">..</span>就像是死循环一样.cpu直接裂开<span class="token punctuation">..</span>
注意哦<span class="token operator">!</span>
    这里进程的<span class="token variable"><span class="token variable">`</span>S状态<span class="token variable">`</span></span>别跟linux命令<span class="token variable"><span class="token variable">`</span><span class="token function">sleep</span><span class="token variable">`</span></span>混为一谈,sleep命令比较憨就是纯粹的休眠指定时间<span class="token punctuation">;</span>
    但可以用sleep命令模拟IO行为.
		
<span class="token comment"># -- 第一个终端上运行 让其运算中途停止1秒</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim 2.sh</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat 2.sh</span>
<span class="token keyword">while</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">do</span> <span class="token variable"><span class="token punctuation">((</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span><span class="token function">sleep</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">done</span>

<span class="token comment"># -- 第二个终端上查看 监测不到R状态是因为 1+1的运算几乎没有耗时 极难捕捉到</span>
<span class="token comment"># 试着捕捉下:(不要纠结!)</span>
  <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token variable"><span class="token variable">`</span><span class="token function">top</span> <span class="token parameter variable">-p</span> <span class="token number">44615</span><span class="token variable">`</span></span>
     使用top命令也监测不到 top命令的本质就是默认3秒执行一次ps aux命令,实时性也不是很高.
  <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> <span class="token variable"><span class="token variable">`</span><span class="token keyword">while</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">do</span> <span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">2</span>.sh <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token function">grep</span><span class="token punctuation">;</span><span class="token keyword">done</span><span class="token variable">`</span></span>
     使用死循环,也捕捉不到,1+1运算耗时太短了
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep 2.sh | grep -v grep</span>
root      <span class="token number">44615</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">113280</span>  <span class="token number">1388</span> pts/0    S+   <span class="token number">16</span>:09   <span class="token number">0</span>:00 <span class="token function">bash</span> <span class="token number">2</span>.sh
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep 2.sh | grep -v grep</span>
root      <span class="token number">44615</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">113280</span>  <span class="token number">1388</span> pts/0    S+   <span class="token number">16</span>:09   <span class="token number">0</span>:00 <span class="token function">bash</span> <span class="token number">2</span>.sh
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep 2.sh | grep -v grep</span>
root      <span class="token number">44615</span>  <span class="token number">0.0</span>  <span class="token number">0.1</span> <span class="token number">113280</span>  <span class="token number">1388</span> pts/0    S+   <span class="token number">16</span>:09   <span class="token number">0</span>:00 <span class="token function">bash</span> <span class="token number">2</span>.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><font color="red"><strong>D</strong></font>      不可中断睡眠<br>
                遇到IO啦, <em>想要处理IO</em>, 但执行的IO操作得不到硬件设备的响应,硬件设备压根儿不鸟你..<br>
                意味着硬件设备此时的压力太大了,忙活不过来啦!!没空搭理你.<br> <font color="gray">Ps:一旦进程处于这个状态,杀都杀不掉 Hhh</font></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>解决方案:<span class="token punctuation">(</span>现目前只能这么做<span class="token punctuation">)</span>
    一旦进程状态出现D,降低下硬盘的压力,将一些不必要的写操作干掉,让关键的写操作能得到响应.

<span class="token comment"># -- 第一个终端上运行 从硬盘上将指定的内容读出来写到指定的地方去</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tar czf /root/egon.tar.gz /etc/ /usr/ /tmp/ /boot/ </span>
tar: 从成员名中删除开头的“/”
tar: 从硬连接目标中删除开头的“/”

<span class="token comment"># -- 第二个终端上查看 有运行(R+);有正常的IO(S+);也有可能硬盘压力过大响应不过来(D+)</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep [c]zf</span>
root      <span class="token number">49735</span>  <span class="token number">2.4</span>  <span class="token number">0.1</span> <span class="token number">124132</span>  <span class="token number">1932</span> pts/0    S+   <span class="token number">16</span>:39   <span class="token number">0</span>:00 <span class="token function">tar</span> czf /root/egon.tar<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep [c]zf</span>
root      <span class="token number">49735</span>  <span class="token number">2.4</span>  <span class="token number">0.1</span> <span class="token number">124132</span>  <span class="token number">1932</span> pts/0    S+   <span class="token number">16</span>:39   <span class="token number">0</span>:00 <span class="token function">tar</span> czf /root/egon.tar<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep [c]zf</span>
root      <span class="token number">49735</span>  <span class="token number">2.6</span>  <span class="token number">0.1</span> <span class="token number">124132</span>  <span class="token number">1932</span> pts/0    R+   <span class="token number">16</span>:39   <span class="token number">0</span>:00 <span class="token function">tar</span> czf /root/egon.tar<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep [c]zf</span>
root      <span class="token number">49735</span>  <span class="token number">2.9</span>  <span class="token number">0.1</span> <span class="token number">124132</span>  <span class="token number">1932</span> pts/0    D+   <span class="token number">16</span>:39   <span class="token number">0</span>:00 <span class="token function">tar</span> czf /root/egon.tar<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep [c]zf</span>
root      <span class="token number">49735</span>  <span class="token number">3.0</span>  <span class="token number">0.1</span> <span class="token number">124132</span>  <span class="token number">1932</span> pts/0    S+   <span class="token number">16</span>:39   <span class="token number">0</span>:00 <span class="token function">tar</span> czf /root/egon.tar<span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><font color="red"><strong>T</strong></font>      停止/中止的进程</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># -- 第一个终端上运行 进入vim编辑界面后 control+z停止</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim a.txt</span>

<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>+  已停止               <span class="token function">vim</span> a.txt

<span class="token comment"># -- 第二个终端上查看</span>
<span class="token comment">## 这个是第一个终端在vim界面时</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep [v]im</span>
root      <span class="token number">48892</span>  <span class="token number">0.2</span>  <span class="token number">0.5</span> <span class="token number">149820</span>  <span class="token number">5436</span> pts/0    S+   <span class="token number">16</span>:26   <span class="token number">0</span>:00 <span class="token function">vim</span> a.txt
<span class="token comment">## 这个是第一个终端control+z停止,退出vim界面后</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep [v]im</span>
root      <span class="token number">48892</span>  <span class="token number">0.0</span>  <span class="token number">0.5</span> <span class="token number">149820</span>  <span class="token number">5436</span> pts/0    T    <span class="token number">16</span>:26   <span class="token number">0</span>:00 <span class="token function">vim</span> a.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><font color="red"><strong>Z</strong></font>      僵尸进程, 处于该状态的进程同样杀不死!!!</p> <p><font color="red"><strong>X</strong></font>      死掉的进程(几乎看不见,因为死了就立即回收了)</p> <p><font color="blue"><strong>&lt;</strong></font>      标注了&lt;小于号代表优先级较高的进程</p> <p><font color="blue"><strong>N</strong></font>      N代表优先级较低的进程</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>进程的优先级涉及到nice值<span class="token punctuation">(</span>也叫做好心值<span class="token punctuation">)</span>:
    好心值越低优先级越高<span class="token punctuation">(</span>妥妥的欺负老实人呗<span class="token punctuation">)</span> 
    nice值的范围<span class="token punctuation">[</span>-20,19<span class="token punctuation">]</span>

<span class="token comment">## &amp; 代表后台运行</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># nice -n -20 sleep 3000 &amp;</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token number">51827</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># nice -n 19 sleep 5000 &amp;</span>
<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token number">51835</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep [s]leep</span>
root      <span class="token number">51797</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">108052</span>   <span class="token number">360</span> ?        S    <span class="token number">17</span>:12   <span class="token number">0</span>:00 <span class="token function">sleep</span> <span class="token number">60</span>
root      <span class="token number">51827</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">108052</span>   <span class="token number">360</span> pts/0    S<span class="token operator">&lt;</span>   <span class="token number">17</span>:13   <span class="token number">0</span>:00 <span class="token function">sleep</span> <span class="token number">3000</span>
root      <span class="token number">51835</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">108052</span>   <span class="token number">356</span> pts/0    SN   <span class="token number">17</span>:13   <span class="token number">0</span>:00 <span class="token function">sleep</span> <span class="token number">5000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><font color="blue"><strong>s</strong></font>      包含子进程</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep nginx | grep -v grep</span>
<span class="token comment">## 此处的Ss 小写s指的就是PID为75066的子进程</span>
root      <span class="token number">75065</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>  <span class="token number">20576</span>     <span class="token number">8</span> ?        Ss   <span class="token number">8</span>月21   <span class="token number">0</span>:00 nginx: master process /usr/local/nginx-1.22.0/sbin/nginx
nobody    <span class="token number">75066</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>  <span class="token number">23104</span>     <span class="token number">8</span> ?        S    <span class="token number">8</span>月21   <span class="token number">0</span>:00 nginx: worker process
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><font color="blue"><strong>+</strong></font>      +表示进程是在前台运行(占着终端屏幕..)</p> <p><font color="blue"><strong>l</strong></font>      小写字母l, 代表以线程的方式运行,即多线程</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># -- 第一个终端上运行</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vim a.py</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat a.py</span>
from threading <span class="token function">import</span> Thread
<span class="token function">import</span> <span class="token function">time</span>
<span class="token function">import</span> os

def task<span class="token punctuation">(</span><span class="token punctuation">)</span>:
    time.sleep<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token builtin class-name">:</span>
    print<span class="token punctuation">(</span>os.getpid<span class="token punctuation">(</span><span class="token punctuation">))</span>
    <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>:
        t <span class="token operator">=</span> Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>task<span class="token punctuation">)</span>
	t.start<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># python a.py</span>
<span class="token number">54844</span>

<span class="token comment"># -- 第二个终端上查看 在py程序还在运行的时候查看!!</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep 54844 | grep -v grep</span>
root      <span class="token number">54844</span>  <span class="token number">0.0</span>  <span class="token number">0.5</span> <span class="token number">740392</span>  <span class="token number">5048</span> pts/1    Sl+  <span class="token number">18</span>:02   <span class="token number">0</span>:00 python a.py
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><font color="blue"><strong>|</strong></font>    管道符号代表多进程</p> <hr> <h2 id="动态查看top"><a href="#动态查看top" class="header-anchor">#</a> 动态查看top</h2> <h3 id="命令行选项"><a href="#命令行选项" class="header-anchor">#</a> 命令行选项</h3> <blockquote><p>-d ; -p ; -u</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sleep 1000 &amp;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">68309</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pgrep nginx</span>
<span class="token number">75065</span>
<span class="token number">75066</span>

<span class="token comment">## -d 指定几秒刷新一次; -p 指定动态刷新的进程</span>
<span class="token function">top</span> <span class="token parameter variable">-d</span> <span class="token number">1</span> <span class="token parameter variable">-p</span> <span class="token number">68309</span> 	
<span class="token comment">## pgrep nginx结果是进程PID,用head过滤第一个,用逗号连接表示一连串的进程</span>
<span class="token comment">## 查看nginx以及pid为68309的进程</span>
<span class="token function">top</span>	<span class="token parameter variable">-d</span> <span class="token number">1</span> <span class="token parameter variable">-p</span> <span class="token variable"><span class="token variable">`</span>pgrep nginx <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-1</span><span class="token variable">`</span></span>,68309 
<span class="token comment">## 查看egon用户开启的进程</span>
<span class="token function">top</span> <span class="token parameter variable">-d</span> <span class="token number">1</span> <span class="token parameter variable">-u</span> egon
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="显示内容解释"><a href="#显示内容解释" class="header-anchor">#</a> 显示内容解释</h3> <blockquote><p>关注: up 、<strong>load average</strong>、Tasks、%Cpu的us sy id、KiB Mem、KiB Swap<br>
          PID、USER、NI、VIRT、RES、SHR、S<br>
Ps: 只看 <strong>load average</strong> 那一行的命令 -- <code>uptime</code></p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">top</span> - <span class="token number">10</span>:34:42 up <span class="token number">8</span> days, <span class="token number">16</span>:10,  <span class="token number">4</span> users,  load average: <span class="token number">0.00</span>, <span class="token number">0.02</span>, <span class="token number">0.05</span>
Tasks: <span class="token number">213</span> total,   <span class="token number">1</span> running, <span class="token number">211</span> sleeping,   <span class="token number">1</span> stopped,   <span class="token number">0</span> zombie
%Cpu<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:  <span class="token number">1.0</span> us,  <span class="token number">1.0</span> sy,  <span class="token number">0.0</span> ni, <span class="token number">98.0</span> id,  <span class="token number">0.0</span> wa,  <span class="token number">0.0</span> hi,  <span class="token number">0.0</span> si,  <span class="token number">0.0</span> st
KiB Mem <span class="token builtin class-name">:</span>   <span class="token number">995640</span> total,   <span class="token number">173984</span> free,   <span class="token number">558128</span> used,   <span class="token number">263528</span> buff/cache
KiB Swap:  <span class="token number">2097148</span> total,  <span class="token number">1706236</span> free,   <span class="token number">390912</span> used.   <span class="token number">257816</span> avail Mem 

   PID <span class="token environment constant">USER</span>      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND                 
 <span class="token number">72062</span> <span class="token function">dc</span>        <span class="token number">20</span>   <span class="token number">0</span>  <span class="token number">116960</span>   <span class="token number">3328</span>   <span class="token number">1708</span> S  <span class="token number">0.0</span>  <span class="token number">0.3</span>   <span class="token number">0</span>:00.09 <span class="token function">bash</span>                    
 <span class="token number">73191</span> <span class="token function">dc</span>        <span class="token number">20</span>   <span class="token number">0</span>  <span class="token number">108052</span>    <span class="token number">360</span>    <span class="token number">284</span> S  <span class="token number">0.0</span>  <span class="token number">0.0</span>   <span class="token number">0</span>:00.00 <span class="token function">sleep</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h5 id="系统整体统计信息"><a href="#系统整体统计信息" class="header-anchor">#</a> [系统整体统计信息]</h5> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## -- 这里的平均负载是将所有cpu资源都涵盖在内 当前时间点往过去1min内/5min内/15min内的平均负载</span>
<span class="token function">top</span> - 当前系统时间 up 运行了多长时间, <span class="token number">4</span>个用户<span class="token punctuation">(</span>本机和远程登录的<span class="token punctuation">)</span> , CPU平均负载 <span class="token number">1</span>分钟的,5分钟的,15分钟的
<span class="token comment">## -- 处于sleeping的进程数越多 cpu就越轻松 系统越健康; running比较多 反应正在大忙活..</span>
<span class="token comment">## -- 处于T状态的,若不需要,可以考虑把它干掉..(占用空间又不干事)  </span>
<span class="token comment">## -- D和Z状态的进程kill -9也杀不死;只能曲线救国,比如D等硬件设备响应</span>
任务: 总共运行了213个进程, 有一个正在运行<span class="token punctuation">(</span>R<span class="token punctuation">)</span>, <span class="token number">211</span> 个在睡眠<span class="token punctuation">(</span>S<span class="token punctuation">)</span>, 有一个被停止<span class="token punctuation">(</span>T<span class="token punctuation">)</span>, 有0个僵尸进程
%Cpu<span class="token punctuation">(</span>s<span class="token punctuation">)</span>: <span class="token comment">## -- 罗列的是所有cpu的平均情况	%Cpu0 %Cpu1 %Cpu2</span>
<span class="token string">&quot;&quot;</span>&quot;
us  用户态进程<span class="token punctuation">(</span>即应用程序<span class="token punctuation">)</span>占用cpu时间的百分比
sy  内核态进程<span class="token punctuation">(</span>即操作系统<span class="token punctuation">)</span>占用cpu时间的百分比
ni 	代表优先被调度的进程占cpu时间的百分比
<span class="token function">id</span> 	cpu空闲的百分比
wa 	cpu等待进程将io做完的百分比 此值较高的话代表计算机IO比较繁忙
hi 	硬件中断,处理硬件中断所占用CPU的时间 此值大的话,表明硬件在不断忙活
si 	软件中断,处理软件中断所占用CPU的时间
st 	被偷走的cpu,跟虚拟化有关
<span class="token string">&quot;&quot;</span>&quot;
<span class="token comment">## -- buff/cache linux的内存优化机制,自作主张的将闲着的内存来做优化 优化读写</span>
<span class="token comment">## -- 详见 01.计算机基础/1_计算机硬件组成.md中 软件与三大核心的关系 这部分内容</span>
物理内存空间<span class="token punctuation">(</span>单位kb<span class="token punctuation">)</span>: 总计 <span class="token number">995640</span>,   空闲 <span class="token number">173984</span>,   已使用 <span class="token number">558128</span>,   <span class="token number">263528</span> buff/cache
<span class="token comment">## -- 此处的used 已使用的值大于0,代表物理内存不够用了,开始swap out啦!</span>
<span class="token comment">## -- 占用物理内存多少百分比后开始使用swap分区当临时内存 可以设置 `cat  /proc/sys/vm/swappiness`</span>
<span class="token comment">## -- 详见 01.计算机基础/1_计算机硬件组成.md中 [虚拟内存] 这部分内容</span>
交换区/虚拟内存空间<span class="token punctuation">(</span>单位kb<span class="token punctuation">)</span>: 总计 <span class="token number">2097148</span>,  空闲 <span class="token number">1706236</span>,  已使用 <span class="token number">390912</span>,  <span class="token number">257816</span> avail Mem 

SWAP OUT: 当某进程向OS请求内存发现不足时,OS会把内存中暂时不用的数据交换出去,放在SWAP分区中<span class="token punctuation">;</span>
SWAP IN:  当某进程又需要这些数据且OS发现还有空闲物理内存时,又会把SWAP分区中的数据交换回物理内存中.
Ps: buff、cache、swap还可参考 <span class="token variable"><span class="token variable">`</span>https://blog.csdn.net/dingding_ting/article/details/86495076<span class="token variable">`</span></span>

中断是一个异步的事件处理机制,可以提高操作系统处理并发的能力.
中断参考链接: <span class="token variable"><span class="token variable">`</span>https://www.cnblogs.com/linhaifeng/articles/13916102.html<span class="token variable">`</span></span>
硬件中断相当于硬性打断你手中的活,去干指派的活,然后又来其他活了,又打断手中的活,最后啥也做不成<span class="token punctuation">..</span>.
软件中断相当于来活了,ok,我记录了下来,合适的时候,会去执行它<span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p><strong>Q1:</strong> what <font color="red"><strong>平均负载</strong></font>？<br>
A1: 平均负载是指, 单位时间内系统处于可运行状态和不可中断状态的平均进程数, 也就是平均活跃进程数..</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># uptime</span>
<span class="token number">10</span>:34:42 up <span class="token number">8</span> days, <span class="token number">16</span>:10,  <span class="token number">4</span> users,  load average: <span class="token number">0.00</span>, <span class="token number">0.02</span>, <span class="token number">0.05</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>Q2:</strong> <font color="green">平均负载多少合理? </font><br>
A2: 如下</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>  <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
  核心数      平均负载        含义
  <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
  <span class="token number">4</span>             <span class="token number">4</span>         每个cpu<span class="token punctuation">(</span>核<span class="token punctuation">)</span>都在满负载运行
  <span class="token number">4</span>						 <span class="token operator">&lt;</span> <span class="token number">4</span>        还有空闲<span class="token punctuation">,</span>问题不大
  <span class="token number">4</span>						 <span class="token operator">&gt;</span> <span class="token number">4</span>        超负荷运行
  <span class="token operator">-</span><span class="token operator">-</span>           <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>        <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
  <span class="token number">4</span>             <span class="token number">2</span>         有一半<span class="token punctuation">(</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">)</span>的CPU是空闲状态
  <span class="token number">2</span>             <span class="token number">2</span>         CPU刚好完全被占用
  <span class="token number">1</span>             <span class="token number">2</span>         至少一半的进程是抢不到CPU
  <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>Q3:</strong> <font color="green">平均负载的三个数值如何看？</font><br>
A3:  三个值相当于三个样本, 我们应该统筹的看<br>
        1&gt; 若1分钟,5分钟,15分钟的负载数值相差不大. 并且都没有满负荷, 则代表系统的负载很'稳定'<br>
        2&gt; 若1分钟(<font color="gray">当前时间往过去推1分钟</font>)的负载值远小于15分钟(<font color="gray">当前时间往过去推15分钟</font>)的.<br>
             那么证明过去系统经受了高并发,但现目前的压力降下来了..<br>
             不必紧张,但15分钟区间内,系统负载上升的原因,还需要我们认真查明<br>
        3&gt; 若1分钟的负载值远超过15分钟的. 那么证明过去没有高并发,但是此刻正在经受高并发..需要分析处理..<br>
        4&gt; 一旦1分钟的平均负载接近或超过了CPU的个数, 就意味着系统正在发生过载的问题, 这时候就得分析优化..</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token keyword">while</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">do</span> <span class="token variable"><span class="token punctuation">((</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span><span class="token keyword">done</span> <span class="token operator">&amp;</span>	<span class="token comment"># -- 无任何的IO,休眠行为 纯计算型</span>
<span class="token keyword">while</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">do</span> <span class="token variable"><span class="token punctuation">((</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span><span class="token function">sleep</span> <span class="token number">0.1</span><span class="token punctuation">;</span><span class="token keyword">done</span> <span class="token operator">&amp;</span>	<span class="token comment"># -- 此进程启动后,后台运行,大部分时间都在睡 IO密集型</span>

IO密集型:  该进程大量的时间在做IO, 做IO的时间远大于计算的时间
          对cpu的影响不大,但架不住量多<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span>
计算密集型:  该进程大量的时间在做运算, 计算的时间远大于做IO的时间

<span class="token string">&quot;&quot;</span>&quot;
补充两工具<span class="token punctuation">(</span>了解即可<span class="token punctuation">)</span>
<span class="token string">&quot;&quot;</span>&quot;
▲ <span class="token variable"><span class="token variable">`</span>yum <span class="token function">install</span> stress <span class="token parameter variable">-y</span><span class="token variable">`</span></span>
stress是Linux系统压力测试工具,可用作异常进程模拟平均负载升高的场景
需要安装  stress本质就是就是进行计算密集型的死循环
    <span class="token comment"># -- 4代表4个核 3000代表持续加压3000秒 执行此命令后会瞬间将4个cpu占满</span>
    stress <span class="token parameter variable">--cpu</span> <span class="token number">4</span> <span class="token parameter variable">--timeout</span> <span class="token number">3000</span> 
		
▲ <span class="token variable"><span class="token variable">`</span>yum <span class="token function">install</span> sysstat <span class="token parameter variable">-y</span><span class="token variable">`</span></span> 会得到下述两个命令
mpstat  是多核CPU性能分析工具,用来实时检查每个CPU的性能指标,以及所有CPU的平均指标.
    mpstat <span class="token parameter variable">-P</span> ALL <span class="token number">3</span>	<span class="token comment"># -- 输出全部cpu所有指标,以3秒为间隔不间断刷</span>
pidstat 是一个常用的进程性能分析工具,用来实时查看进程的CPU、内存、IO以及上下文切换等性能指标.
    pidstat <span class="token parameter variable">-u</span> <span class="token number">1</span> <span class="token number">5</span>  <span class="token comment"># -- 1秒一次,总共输出5次</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h5 id="进程信息"><a href="#进程信息" class="header-anchor">#</a> [进程信息]</h5> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>PID <span class="token environment constant">USER</span>      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND   

TIME:		进程使用的CPU时间总计,单位秒
TIME+:  进程使用的CPU时间总计,单位1/100秒
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>VIRT:     virtual memory usage 虚拟内存<br>
        1&gt; 预先分配给该进程这么多,但不代表实际占用这么多.<br>
        2&gt; 是指该进程“需要的”虚拟内存大小,包括进程使用的库、代码、数据等..<br>
        3&gt; 跟swap分区没有关系！！</p> <p>RES:     resident memory usage 常驻内存<br>
        1&gt; 进程当前使用/占用的内存大小, 但不包括swap out<br>
        2&gt; RES包含了SHR共享空间</p> <p>SHR:     shared memory 共享内存<br>
        当内存不够用时,此值会增大,挤一挤嘛;<br>
        当KiB Swap交换区的used值降下来了,代表物理内存在恢复正常,SHR会降低.<br> <font color="gray">计算一个进程实际占用物理内存的大小 <code>RES – SHR</code></font></p> <h3 id="显示内容的操作"><a href="#显示内容的操作" class="header-anchor">#</a> 显示内容的操作</h3> <blockquote><p>下述的每一个操作都会刷新下top显示的内容</p></blockquote> <p><code>上下键</code>     往上往下的翻看所有进程<br> <code>h</code> or <code>?</code>      查看帮助信息</p> <p><code>q</code>  or <code>control + c</code>       退出<br> <code>s</code>       改变刷新的时间频率,默认是3.0秒<br> <font color="gray">Ps: 刷新频率别设置的太高 例如0.001s,因为很消耗cpu的资源..</font></p> <p><code>M</code>      按照占用内存进行排序<br> <code>P</code>      按照cpu的占用率进行排序<br> <code>N</code>      按照PID进行排序<br> <font color="gray">Ps: 排序的结果<strong>默认</strong>都是<strong>从高到低</strong></font></p> <p><code>shift + &gt;</code> <code>shift + &lt;</code>    向右、向左  <font color="gray">吐槽下: 没有明确提示对哪个字段排序 </font><br>
        即将排序作用于当前排序字段 右边/左边 的字段</p> <p><code>R</code>      将当前排序的字段结果进行反转</p> <p><code>f</code>      *标记的是界面上会显示的字段  按空格选择/取消 新选择的会在界面最右边显示<br> <code>z</code>      彩色界面 <font color="gray">芜湖～</font></p> <p><code>k</code>      给进程发送信号</p> <p><img src="/assets/img/top_k.8a64ab82.jpeg" alt=""></p> <p><code>1</code>      按下数字1会显示所有CPU的负载</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>%Cpu<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:  <span class="token number">1.0</span> us,  <span class="token number">2.0</span> sy,  <span class="token number">0.0</span> ni, <span class="token number">97.0</span> id,  <span class="token number">0.0</span> wa,  <span class="token number">0.0</span> hi,  <span class="token number">0.0</span> si,  <span class="token number">0.0</span> st

%Cpu0  <span class="token builtin class-name">:</span>  <span class="token number">1.0</span> us,  <span class="token number">1.0</span> sy,  <span class="token number">0.0</span> ni, <span class="token number">98.0</span> id,  <span class="token number">0.0</span> wa,  <span class="token number">0.0</span> hi,  <span class="token number">0.0</span> si,  <span class="token number">0.0</span> st
<span class="token comment">## -- 多个核的话 %Cpu0、%Cpu1、%Cpu2...</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>r</code>      调整进程的优先级(即修改该进程的nice值)     越小优先级越高</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>PID to <span class="token function">renice</span> <span class="token punctuation">[</span>default pid <span class="token operator">=</span> <span class="token number">2216</span><span class="token punctuation">]</span>  <span class="token number">72122</span>
Renice PID <span class="token number">72122</span> to value  <span class="token parameter variable">-10</span>

<span class="token comment">## -- PR值与NI值是相对应的 PR会在NI值上加20</span>
   PID <span class="token environment constant">USER</span>      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND                 
 <span class="token number">72062</span> <span class="token function">dc</span>        <span class="token number">20</span>   <span class="token number">0</span>  <span class="token number">116960</span>   <span class="token number">3328</span>   <span class="token number">1708</span> S  <span class="token number">0.0</span>  <span class="token number">0.3</span>   <span class="token number">0</span>:00.09 <span class="token function">bash</span>                    
 <span class="token number">72122</span> <span class="token function">dc</span>        <span class="token number">10</span> <span class="token parameter variable">-10</span>  <span class="token number">108052</span>    <span class="token number">356</span>    <span class="token number">284</span> S  <span class="token number">0.0</span>  <span class="token number">0.0</span>   <span class="token number">0</span>:00.00 <span class="token function">sleep</span>                   
 <span class="token number">73191</span> <span class="token function">dc</span>        <span class="token number">20</span>   <span class="token number">0</span>  <span class="token number">108052</span>    <span class="token number">360</span>    <span class="token number">284</span> S  <span class="token number">0.0</span>  <span class="token number">0.0</span>   <span class="token number">0</span>:00.00 <span class="token function">sleep</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><hr> <h2 id="网络有关的查看"><a href="#网络有关的查看" class="header-anchor">#</a> 网络有关的查看</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>▲ 查看网络状态
<span class="token string">&quot;&quot;</span>&quot;
<span class="token parameter variable">-t</span>   tcp协议
<span class="token parameter variable">-u</span>   udp协议
<span class="token parameter variable">-n</span>   不反解,不将IP地址解析为主机名,不将端口号解析成协议名
		 eg:不加此选项 <span class="token number">127.0</span>.0.1 --<span class="token operator">&gt;</span> localhost 	<span class="token number">22</span>端口 --<span class="token operator">&gt;</span> <span class="token function">ssh</span>
<span class="token parameter variable">-a</span> 	 全部
<span class="token parameter variable">-l</span>   listen
<span class="token parameter variable">-p</span>   PID/Program name
<span class="token string">&quot;&quot;</span>&quot;
<span class="token function">netstat</span> <span class="token parameter variable">-tunalp</span>  
<span class="token function">netstat</span> <span class="token parameter variable">-an</span> <span class="token operator">|</span><span class="token function">grep</span> :22
<span class="token function">netstat</span> <span class="token parameter variable">-an</span> <span class="token operator">|</span><span class="token function">grep</span> :80
<span class="token function">lsof</span> <span class="token parameter variable">-i:22</span>	<span class="token comment">## -- 可用于快速验证某个端口是否开启</span>

▲ 查看网关
route <span class="token parameter variable">-n</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># route -n</span>
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
<span class="token comment">## 0.0.0.0指代所有的IP地址 去往所有的IP地址都通过172.16.150.2网关进行转发</span>
<span class="token number">0.0</span>.0.0         <span class="token number">172.16</span>.150.2    <span class="token number">0.0</span>.0.0         UG    <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> ens33
<span class="token number">172.16</span>.150.0    <span class="token number">0.0</span>.0.0         <span class="token number">255.255</span>.255.0   U     <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> ens33
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><hr> <h2 id="查看系统状态"><a href="#查看系统状态" class="header-anchor">#</a> 查看系统状态</h2> <blockquote><p>围绕三大核心硬件 -- cpu、内存、硬盘</p> <p>cpu:     /proc/cpuinfo
内存:     /proc/meminfo</p></blockquote> <h3 id="硬盘"><a href="#硬盘" class="header-anchor">#</a> 硬盘</h3> <blockquote><p>详见 5_文件管理之文件系统.md</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">du</span> <span class="token parameter variable">-sh</span> /etc <span class="token comment"># -- 统计某个文件夹所包含的所有内容的大小</span>

<span class="token function">df</span>
<span class="token function">df</span> <span class="token parameter variable">-h</span>	<span class="token comment">## 带单位</span>
<span class="token function">df</span> <span class="token parameter variable">-T</span> <span class="token comment">## 带文件系统类型</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="内存"><a href="#内存" class="header-anchor">#</a> 内存!!</h3> <blockquote><p><code>top</code>命令显示的系统整体统计信息里就有内存的信息<br>
也可以通过 <code>free</code> 命令直接查看</p></blockquote> <h5 id="free结果的字段"><a href="#free结果的字段" class="header-anchor">#</a> [free结果的字段]</h5> <p><font color="blue">「total = used + free + buffers + cache 」</font><br> <font color="blue">So, Linux的内存大体可分为三部分, 应用程序占用的,空闲的,操作系统对读写做优化的</font></p> <p><strong>注意!</strong> 查看真正有多少物理内存可以用(不考虑swap分区),看free不准确,看available字段最准确..<br>
available值是大于free值的... 多的那部分是buff/cache可释放的空间..<br>
即 <font color="blue">available = free + 可释放的buff/cache</font>   So, 物理内存还有多少可以用(百分比) = available / total</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## -- free命令显示了系统中内存的剩余量和使用量</span>
<span class="token string">&quot;&quot;</span>&quot;
命令选项
<span class="token parameter variable">-b</span> 字节为单位 
<span class="token parameter variable">-k</span> kb为单位<span class="token punctuation">(</span>默认<span class="token punctuation">)</span> 
<span class="token parameter variable">-m</span> M为单位 注意哦,转换单位后会进行四舍五入,不是严丝合缝一样的,大体上一样
<span class="token parameter variable">-w</span> buffer跟cache分开显示

显示结果字段
total:      安装的内存大小,即内存条总共的大小
used:       使用的内存大小,准确点来说指的是在内存中跑的应用程序占用的空间
free:       空闲的,used可以用,buff/cache也可以用
shared:     共享的内存,指used中有部分内存是进程们共享的 这与前面进程信息部分<span class="token variable"><span class="token variable">`</span>RES – SHR<span class="token variable">`</span></span>呼应上啦<span class="token punctuation">..</span>
buff/cache: buff/cache释放后给了free
available:  表明目前可以提供给新启动的应用程序使用的内存
<span class="token string">&quot;&quot;</span>&quot;
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># free -wm</span>
         total        used        <span class="token function">free</span>      shared     buffers       cache   available
Mem:      <span class="token number">972</span>         <span class="token number">634</span>          <span class="token number">84</span>          <span class="token number">17</span>           <span class="token number">0</span>         <span class="token number">253</span>         <span class="token number">165</span>
Swap:    <span class="token number">2047</span>          <span class="token number">80</span>        <span class="token number">1967</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h5 id="释放buff-cache"><a href="#释放buff-cache" class="header-anchor">#</a> [释放buff/cache]</h5> <blockquote><p>sync<br>
echo 3 &gt; /proc/sys/vm/drop_caches</p></blockquote> <p><font color="gray">buffer优化写,cache优化读,我们没使用,但操作系统在使用,是种优化机制</font></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># free -w</span>
              total        used        <span class="token function">free</span>      shared     buffers       cache   available
Mem:         <span class="token number">995640</span>      <span class="token number">654476</span>       <span class="token number">81872</span>       <span class="token number">17576</span>           <span class="token number">0</span>      <span class="token number">259292</span>      <span class="token number">164964</span>
Swap:       <span class="token number">2097148</span>       <span class="token number">82688</span>     <span class="token number">2014460</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># du -sh /etc/passwd</span>
<span class="token number">4</span>.0K	/etc/passwd
<span class="token comment">## -- 在另一个终端执行命令 vim /etc/passwd</span>
<span class="token comment">## 可以发现cache值变大了,是为了下次打开该文件时候,能更快速的打开..</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># free -w</span>
              total        used        <span class="token function">free</span>      shared     buffers       cache   available
Mem:         <span class="token number">995640</span>      <span class="token number">657212</span>       <span class="token number">76876</span>       <span class="token number">17576</span>           <span class="token number">0</span>      <span class="token number">261552</span>      <span class="token number">162228</span>
Swap:       <span class="token number">2097148</span>       <span class="token number">82688</span>     <span class="token number">2014460</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ## 此处的释放是buffer和cache一起释放</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ## 释放之前若有写行为,写的内容都在buffers里存着呢!</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ## So,在释放之前需要多执行几次sync命令,告诉OS将buffer缓冲区里的数据写入硬盘</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sync</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sync</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># sync</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ## OS会定期扫描/proc/sys/vm/drop_caches文件</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ## 该文件可以设置值0(默认)、1、2、3  0代表不清理 3代表清理</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /proc/sys/vm/drop_caches </span>
<span class="token number">0</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ## 注意哦,操作系统扫描时发现该文件未修改的话,是不会读取里面的内容的</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ## So,想要释放时,就得执行一次 echo 3 &gt; /proc/sys/vm/drop_caches 这条命令</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo 3 &gt; /proc/sys/vm/drop_caches</span>
<span class="token comment">## -- 可以前后对比发现cache值明显下降啦,free值明显提升了...</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># free -w</span>
              total        used        <span class="token function">free</span>      shared     buffers       cache   available
Mem:         <span class="token number">995640</span>      <span class="token number">601396</span>      <span class="token number">303444</span>       <span class="token number">17568</span>           <span class="token number">0</span>       <span class="token number">90800</span>      <span class="token number">268660</span>
Swap:       <span class="token number">2097148</span>       <span class="token number">82688</span>     <span class="token number">2014460</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h5 id="虚拟文件系统"><a href="#虚拟文件系统" class="header-anchor">#</a> [虚拟文件系统]</h5> <p>要知道free是从文件<code>/proc/meminfo</code> 里采集获取的信息, 而 /proc文件夹是proc虚拟文件系统的挂载点..<br> <font color="red">何为 <strong>虚拟的文件系统</strong> ？</font>代表它的数据不在硬盘里,而是在内存里,挂载点里的数据是系统生成的..</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># mount命令可查看挂载的所有文件系统信息</span>
<span class="token comment"># 像/dev/sda1文件系统(通俗点就是指硬盘分区)的挂载点是/boot</span>
<span class="token comment"># 硬盘分区/真实的文件系统是可通过df命令查看到的,但虚拟的文件系统df命令看不到</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mount | grep -E &quot;/dev/sda1|/proc &quot;</span>
proc on /proc <span class="token builtin class-name">type</span> proc <span class="token punctuation">(</span>rw,nosuid,nodev,noexec,relatime<span class="token punctuation">)</span>
/dev/sda1 on /boot <span class="token builtin class-name">type</span> xfs <span class="token punctuation">(</span>rw,relatime,attr2,inode64,noquota<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>若卸载掉proc这个虚拟文件系统, free命令就不能使用啦!!<br>
反向验证了free命令的结果都是从proc这个虚拟的文件系统中得到的!!</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># umount /proc -l</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># free</span>
Error: /proc must be mounted
  To <span class="token function">mount</span> /proc at boot you need an /etc/fstab line like:
      proc   /proc   proc    defaults
  In the meantime, run <span class="token string">&quot;mount proc /proc -t proc&quot;</span>

<span class="token string">&quot;&quot;</span>&quot;
<span class="token function">mount</span> <span class="token parameter variable">-t</span> 指定文件系统 虚拟文件系统 挂载点
Ps: <span class="token function">mount</span> <span class="token parameter variable">-t</span> xfs /dev/sda1 /boot
<span class="token string">&quot;&quot;</span>&quot;
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mount -t proc proc /proc/</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># free -m</span>
              total        used        <span class="token function">free</span>      shared  buff/cache   available
Mem:            <span class="token number">972</span>         <span class="token number">633</span>          <span class="token number">85</span>          <span class="token number">17</span>         <span class="token number">253</span>         <span class="token number">166</span>
Swap:          <span class="token number">2047</span>          <span class="token number">80</span>        <span class="token number">1967</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="cpu"><a href="#cpu" class="header-anchor">#</a> CPU</h3> <blockquote><p>top命令的结果里包含了cpu工作状况(特别是负载)<br>
通过查看/proc/cpuinfo文件也可以得到cpu相关的硬件信息..</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## -- 文件中有多少个processor,就有多少个核(逻辑cpu)</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep &quot;processor&quot; /proc/cpuinfo </span>
processor	<span class="token builtin class-name">:</span> <span class="token number">0</span>
processor	<span class="token builtin class-name">:</span> <span class="token number">1</span>
processor	<span class="token builtin class-name">:</span> <span class="token number">2</span>
<span class="token comment">## -- 文件中有多少个physical id,就有多少物理cpu</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep &quot;physical id&quot; /proc/cpuinfo</span>
physical <span class="token function">id</span>	<span class="token builtin class-name">:</span> 0xx
<span class="token comment">## -- cpu核数</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep &quot;cpu cores&quot; /proc/cpuinfo</span>
cpu cores	<span class="token builtin class-name">:</span> <span class="token number">1</span>

<span class="token string">&quot;&quot;</span>&quot;
flags 该核所支持的功能
    lm（64位）
    vmx 支持虚拟化 Intel
    svm 支持虚拟化 AMD
<span class="token string">&quot;&quot;</span>&quot;
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep flags /proc/cpuinfo</span>
flags		<span class="token builtin class-name">:</span> fpu  【vme】  de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon nopl xtopology <span class="token punctuation">..</span>. <span class="token punctuation">..</span>. <span class="token punctuation">..</span>.

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lscpu</span>
Architecture:          x86_64
CPU op-mode<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:        <span class="token number">32</span>-bit, <span class="token number">64</span>-bit
Byte Order:            Little Endian
CPU<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:                <span class="token number">1</span>
On-line CPU<span class="token punctuation">(</span>s<span class="token punctuation">)</span> list:   <span class="token number">0</span>
<span class="token punctuation">..</span>. <span class="token punctuation">..</span>. <span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><hr></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/0c6963/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">软件包管理之yum</div></a> <a href="/pages/cece9f/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">管理进程</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/0c6963/" class="prev">软件包管理之yum</a></span> <span class="next"><a href="/pages/cece9f/">管理进程</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/8sk2b3/"><div>
            搜索相关
            <!----></div></a> <span class="date">03-22</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/2kn2p2/"><div>
            CURD
            <!----></div></a> <span class="date">03-20</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/1kn1m1/"><div>
            自动生成
            <!----></div></a> <span class="date">03-15</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/OnePieceDC" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://www.cnblogs.com/DC0307/" title="博客园" target="_blank" class="iconfont icon-bokeyuan"></a><a href="https://music.163.com/#/song?id=1854188649" title="听音乐" target="_blank" class="iconfont icon-erji"></a><a href="https://www.jianshu.com/u/5310eb537315" title="简书" target="_blank" class="iconfont icon-jianshu"></a><a href="mailto:1415806497@qq.com" title="QQ" target="_blank" class="iconfont icon-youjian"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2024
    <span>DC | One Piece</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><!----><div id="goTop" class="hide-cat" data-v-8ccb5928></div><div></div><canvas id="vuepress-canvas-cursor"></canvas><div></div><div></div></div></div>
    <script src="/assets/js/app.ac54adc6.js" defer></script><script src="/assets/js/4.7ddc74e3.js" defer></script><script src="/assets/js/1.a0c4ff1b.js" defer></script><script src="/assets/js/3.8b03321d.js" defer></script><script src="/assets/js/165.44d4a9b5.js" defer></script><script src="/assets/js/104.cae2d944.js" defer></script><script src="/assets/js/184.46eabf07.js" defer></script>
  </body>
</html>
